Ext.namespace("idxm.login.popups.PasswordCanNotReset");idxm.login.popups.PasswordCanNotReset=function(a){var b=new Ext.Window({width:500,height:185,modal:true,autoScroll:true,closable:false,resizable:false,layout:"fit",plain:true,buttonAlign:"center",items:[{xtype:"panel",border:false,bodyBorder:false,hideBorders:true,style:"background-color:#FFFFFF; background:#FFFFFF; padding:5px;",items:[{xtype:"idxmStatusBox",status:"warning",statusText:"Can not Reset your Password"},{xtype:"panel",height:100,style:"padding-left:15px;",autoScroll:true,html:"<span class='advice-pop-up-message-txt'><BR>Your password cannot be reset at this time.  This is most likely because you have already changed your password today.<BR><BR> Please Contact Support at <b>877-685-8411</b> for assistance in resetting your password.</span>"}],buttons:[{ctCls:"support-portal-btn",text:"OK",handler:function(){b.close()}}]}]});b.show()};Ext.namespace("idxm.login.ux.panel.login.LoginFormPanel");idxm.login.ux.panel.login.LoginFormPanel=Ext.extend(uRadix.form.FormPanel,{BASE_CONFIG:undefined,NAMESPACE:undefined,REDIRECT_URL:undefined,LOGIN_URL:undefined,PROFILE_URL:undefined,PASSWORD_EXPIRE_URL:undefined,UPDATE_PASSWORD_URL:undefined,LOGGED_OUT:undefined,SUBMIT_FOR_ACCOUNT_LOCKED:0,LOGIN_FORM_PANEL_ID:undefined,LOGIN_INTERNAL_LABEL:false,constructor:function(a){this.BASE_CONFIG=a;this.NAMESPACE=a.namespace;this.REDIRECT_URL=a.redirectUrl;this.LOGGIN_URL=a.loginUrl;this.PROFILE_URL=a.profileUrl;this.PASSWORD_EXPIRE_URL=a.passwordExpireUrl;this.UPDATE_PASSWORD_URL=a.updatePasswordUrl;this.LOGGED_OUT=a.loggedOut;this.LOGIN_FORM_PANEL_ID=a.loginFormPanelId;this.LOGIN_INTERNAL_LABEL=a.loginInternalLabel;this.ACTIVATED=a.activated;if(this.LOGGED_OUT!="null"&&this.LOGGED_OUT==1){uRadixClientMessageHandler.setAdvice(true,[{description:"You Have Successfully Logged Out"}]);g_showStatusBox()}else{if(this.REDIRECT_URL&&this.REDIRECT_URL!="null"){uRadixClientMessageHandler.setAdvice(true,[{description:"Log In to Access Requested Page"}]);g_showStatusBox()}}if(this.ACTIVATED!="null"&&this.ACTIVATED==1){uRadixClientMessageHandler.setAdvice(true,[{description:"Account Activated.  You Can Now Log-in."}]);g_showStatusBox()}var b="Your Email Address";if(this.LOGIN_INTERNAL_LABEL){b="User Name"}var c={id:this.LOGIN_FORM_PANEL_ID,border:false,bodyBorder:false,hideBorders:true,labelAlign:"top",baseCls:"portal-login-form",listeners:{uradix_enterkey:this.formSubmit},items:[{xtype:"textfield",id:"USERNAME",name:"USERNAME",width:180,fieldLabel:"<b>"+b+"</b>",msgTarget:"side",validationEvent:"blur"},{xtype:"textfield",id:"PASSWORD",name:"PASSWORD",width:180,fieldLabel:"<b>Password</b>",inputType:"password",msgTarget:"side",validationEvent:"blur"}],buttons:[{text:"LOG IN",id:"logInButton"+this.NAMESPACE,ctCls:"support-portal-btn",handler:this.formSubmit}]};Ext.apply(this,c);idxm.login.ux.panel.login.LoginFormPanel.superclass.constructor.call(this,c)},formSubmit:function(){var c;if(this.getXType()=="idxm.login.ux.panel.login.LoginFormPanel"){c=this}else{c=this.findParentByType("idxm.login.ux.panel.login.LoginFormPanel")}var a=c.getForm();var b=Ext.getCmp("logInButton"+c.NAMESPACE);var d=false;if(a.isValid()){b.disable();g_hideStatusBox();Ext.get(document.body.id).mask("<b> Loading...</b> ","x-mask-loading");a.submit({url:c.LOGGIN_URL,disableAllStatusBinding:true,success:function(f,l){c.SUBMIT_FOR_ACCOUNT_LOCKED+=1;var h=uRadixUtilities.jsonDecode(l.response.responseText);if(h&&h.messages&&h.messages.inputFields&&h.messages.inputFields.length){for(var m=0;m<=h.messages.inputFields.length;m++){if(h.messages.inputFields[m]&&h.messages.inputFields[m].faultID){if(h.messages.inputFields[m].faultID==1){if(c.LOGIN_INTERNAL_LABEL){uRadixClientMessageHandler.setAdvice(false,[{description:"Incorrect User Name or Password"}])}else{uRadixClientMessageHandler.setAdvice(false,[{description:"Incorrect Email or Password"}])}var n=Ext.getCmp(c.LOGIN_FORM_PANEL_ID).find("name","USERNAME");n[0].focus(true,true);var k=Ext.getCmp(c.LOGIN_FORM_PANEL_ID).find("name","PASSWORD");k[0].setValue("")}else{if(h.messages.inputFields[m].faultID==2){uRadixClientMessageHandler.setAdvice(false,[{description:"User is in Invalid Status"}]);g_showStatusBox()}else{if(h.messages.inputFields[m].faultID==3){var e=Ext.getCmp(c.LOGIN_FORM_PANEL_ID);var g="";var j="";d=true;e.cascade(function(i){if(i.isFormField){i.disable()}});b.disable();if(c.SUBMIT_FOR_ACCOUNT_LOCKED>3){g="<div style='padding-bottom:5px;'>You've exceeded the maximum log in attempts allowable.</div><div style='padding-bottom:5px;'>Your account will be automatically unlocked in 30 minutes.</b></div>"}uRadixClientMessageHandler.setAdvice(false,[{description:"Locked Out&nbsp;&nbsp;<a href='#' id='lockedErrorDetailsLink"+c.NAMESPACE+"'>(more...)</a>"}]);Ext.get("lockedErrorDetailsLink"+c.NAMESPACE).dom.qtip="<table border='0'><tr><td valign='bottom'><span style='color:#945A00;font:18px verdana,tahoma,arial,sans-serif;'><b>Next Steps</b></span></td></tr></table><span class='hintText'>"+g+"<div style='padding-bottom:5px;'>Please contact MultiPlan support if you need your account unlocked immediately.</div><div style='padding-bottom:5px;'><b>877-685-8411</div></b></span>";Ext.get("lockedErrorDetailsLink"+c.NAMESPACE).dom.qclass="x-form-invalid-tip"}else{if(h.messages.inputFields[m].faultID==4){}else{if(h.messages.inputFields[m].faultID==5){uRadixClientMessageHandler.setAdvice(false,[{description:"Password Has Expired"}])}}}}}}}Ext.get(document.body.id).unmask();g_showStatusBox();if(!d){b.enable()}}else{if(h.passwordExpirationDays&&h.passwordStatus){if(h.passwordStatus=="MUSTCHANGE"){uRadixRedirectHandler.redirect(c.UPDATE_PASSWORD_URL+"?passwordExpire=1&passwordExpirationDays="+h.passwordExpirationDays+"&fromLogin=1")}else{if(h.passwordExpirationDays&&h.passwordStatus=="SHOULDCHANGE"){uRadixRedirectHandler.redirect(c.PASSWORD_EXPIRE_URL+"?passwordExpirationDays="+h.passwordExpirationDays+"&fromLogin=1")}else{if(h.passwordExpirationDays&&(h.passwordStatus=="CANCHANGE"||h.passwordStatus=="CANNOTCHANGE")){if(c.REDIRECT_URL&&c.REDIRECT_URL!="null"){uRadixRedirectHandler.redirect(c.REDIRECT_URL)}else{uRadixRedirectHandler.redirect(c.PROFILE_URL)}}else{if(c.REDIRECT_URL&&c.REDIRECT_URL!="null"){uRadixRedirectHandler.redirect(c.REDIRECT_URL)}else{uRadixRedirectHandler.redirect(c.PROFILE_URL)}}}}}else{if(c.REDIRECT_URL&&c.REDIRECT_URL!="null"){uRadixRedirectHandler.redirect(c.REDIRECT_URL)}else{uRadixRedirectHandler.redirect(c.PROFILE_URL)}}}},failure:function(g,h){Ext.get(document.body.id).unmask();b.enable();var f=uRadixUtilities.jsonDecode(h.response.responseText);if(!Ext.isEmpty(f.advice)){try{if(f.messages&&f.messages.inputFields&&f.messages.inputFields.length){uRadixClientMessageHandler.setAdvice(false,[{description:f.advice[0].description+"&nbsp;&nbsp;<a href='#' id='loginErrorDetailsLink"+c.NAMESPACE+"'>(more...)</a>"}]);Ext.get("loginErrorDetailsLink"+c.NAMESPACE).dom.qtip="<b>Errors:</b><br>"+IDXM.Utilities.createErrorFieldList(f.messages.inputFields,"200");Ext.get("loginErrorDetailsLink"+c.NAMESPACE).dom.qclass="x-form-invalid-tip"}else{uRadixClientMessageHandler.setAdvice(false,[{description:f.advice[0].description}])}g_showStatusBox()}catch(i){alert(i)}}}})}}});Ext.reg("idxm.login.ux.panel.login.LoginFormPanel",idxm.login.ux.panel.login.LoginFormPanel);Ext.namespace("idxm.login.ux.panel.login.LoginPanel");idxm.login.ux.panel.login.LoginPanel=Ext.extend(Ext.Panel,{BASE_CONFIG:undefined,RENDER_TO:undefined,LOGIN_PANEL_ID:undefined,LOGIN_FORM_PANEL_ID:undefined,REQUEST_FORGOT_PASSWORD_URL:undefined,constructor:function(a){this.BASE_CONFIG=a;this.RENDER_TO=a.renderTo;this.LOGIN_PANEL_ID=a.loginPanelId;this.LOGIN_FORM_PANEL_ID=a.loginFormPanelId;this.REQUEST_FORGOT_PASSWORD_URL=a.requestForgotPasswordUrl;var b={renderTo:this.RENDER_TO,border:false,bodyBorder:false,hideBorders:true,baseCls:"portal-login-outter",items:[{xtype:"panel",items:[new idxm.login.ux.panel.login.LoginFormPanel(this.BASE_CONFIG),{xtype:"panel",border:false,baseCls:"portal-login-inner",html:"<table  width='100%'><tr><td align='right'><a href='"+this.REQUEST_FORGOT_PASSWORD_URL+"' >Forgot Your Password?</a></td></tr></table>"}]}]};Ext.apply(this,b);idxm.login.ux.panel.login.LoginPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.login.ux.panel.login.LoginPanel",idxm.login.ux.panel.login.LoginPanel);Ext.namespace("idxm.login.ux.panel.news.newsPanel");idxm.login.ux.panel.news.newsPanel=function(b){var a=new Ext.Panel({border:false,bodyBorder:false,hideBorders:true,autoScroll:true,renderTo:b.renderTo,autoScroll:true,style:"background-color:#FFFFFF; background:#FFFFFF; padding:5px;",items:[{xtype:"panel",border:false,cls:"portal-title",html:b.title},{xtype:"panel",border:false,height:20,html:"&nbsp;"},{xtype:"panel",border:false,html:b.contentHtml}]});return a};Ext.namespace("idxm.login.ux.panel.password.ForgotPasswordRequestPanel");idxm.login.ux.panel.password.ForgotPasswordRequestPanel=Ext.extend(uRadix.form.FormPanel,{BASE_CONFIG:undefined,PREFIX_ID:"idxmFilterPanel",FORM_SUBMIT_ACTION:"forgotPasswordSubmit",constructor:function(a){this.BASE_CONFIG=a;if(!Ext.isEmpty(a.submitAction)){this.FORM_SUBMIT_ACTION=a.submitAction}var b={buttonAlign:"right",labelAlign:"top",border:false,bodyBorder:false,hideBorders:true,renderTo:a.renderTo,width:800,items:[{xtype:"panel",border:false,cls:"portal-title",html:"Forgot Your Password?"},{xtype:"panel",border:false,width:480,style:"padding-left:10px; padding-top:10px; padding-bottom:10px;",html:"Please provide the email address you use to log in and we will send you instructions for resetting your password."},{xtype:"panel",layout:"form",border:false,width:500,style:"padding-left:30px;",items:[{name:"email",xtype:"textfield",fieldLabel:"Your Email",allowBlank:false,width:200,msgTarget:"sideDetails"}],buttons:[{id:"cancelButton",text:"CANCEL",ctCls:"support-portal-btn-cancel",handler:function(){history.back()}},{id:"initiateButton",text:"RESET MY PASSWORD",ctCls:"support-portal-btn",handler:this.formSubmit}]}],listeners:{uradix_enterkey:this.formSubmit,render:function(){g_hideStatusBox()}}};Ext.apply(this,b);idxm.login.ux.panel.password.ForgotPasswordRequestPanel.superclass.constructor.call(this,b)},formSubmit:function(){if(Ext.isEmpty(this.REF)){if(this.getXType()=="idxm.login.ux.panel.password.ForgotPasswordRequestPanel"){this.REF=this}else{this.REF=this.findParentByType("idxm.login.ux.panel.password.ForgotPasswordRequestPanel")}}if(this.REF.getForm().isValid()){g_hideStatusBox();var b=this.REF.getForm();Ext.getCmp("initiateButton").disable();var a=this.REF.BASE_CONFIG.renderUrl+"?action="+this.REF.FORM_SUBMIT_ACTION;b.submit({url:a,isMessageIgnore:true,disableErrorStatusBinding:true,success:function(c,e){g_showStatusBox();var d=Ext.decode(e.response.responseText);Wizard.PortalContainer.navigate({url:d.navigator.nextAction});Ext.getCmp("initiateButton").enable()},failure:function(e,f){var c=uRadixUtilities.jsonDecode(f.response.responseText);if(c.messages.general){for(var d=0;d<c.messages.general.length;d++){if(c.messages.general[d].faultID=="5102"){idxm.login.popups.PasswordCanNotReset()}}}g_hideStatusBox();Ext.getCmp("initiateButton").enable()}})}else{Ext.getCmp("initiateButton").enable()}}});Ext.reg("idxm.login.ux.panel.password.ForgotPasswordRequestPanel",idxm.login.ux.panel.password.ForgotPasswordRequestPanel);Ext.namespace("idxm.login.ux.panel.welcome.welcomePanel");idxm.login.ux.panel.welcome.welcomePanel=function(b){var a=new Ext.Panel({border:false,bodyBorder:false,hideBorders:true,autoScroll:true,renderTo:b.renderTo,autoScroll:true,style:"background-color:#FFFFFF; background:#FFFFFF; padding:5px;",items:[{xtype:"panel",border:false,cls:"portal-title",html:b.title},{xtype:"panel",border:false,height:20,html:"&nbsp;"},{xtype:"panel",border:false,html:b.contentHtml}]});return a};