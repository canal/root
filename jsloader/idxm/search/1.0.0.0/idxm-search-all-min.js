Ext.namespace("idxm.search.container.SearchContainer");idxm.search.container.SearchContainer=Ext.extend(Object,{ID:"idxmSearchLayoutPanel",NAMESPACE:undefined,RENDERTO:undefined,USERCLASSES:undefined,LOCATIONS:undefined,DEPARTMENTS:undefined,STATUSES:undefined,VENDORNAMES:undefined,RENDERURL:undefined,constructor:function(b){var a={id:"",name:"- Any -"};b.locations.unshift(a);b.departments.unshift(a);b.statuses.unshift(a);this.NAMESPACE=b.nameSpace;this.RENDERTO=b.renderTo;this.USERCLASSES=b.userClasses;this.LOCATIONS=b.locations;this.DEPARTMENTS=b.departments;this.STATUSES=b.statuses;this.VENDORNAMES=b.vendorNames;this.RENDERURL=b.renderURL;this.renderLayoutPanel(b)},renderLayoutPanel:function(b){var a=new idxm.search.ux.panel.LayoutPanel({id:this.ID,renderTo:this.RENDERTO,baseObjConfig:b})},navigate:function(a){return}});Ext.namespace("idxm.search.ux.panel.FilterControllerPanel");idxm.search.ux.panel.FilterControllerPanel=Ext.extend(uRadix.form.FormPanel,{NAMESPACE:undefined,PREFIX_ID:"idxmFilterPanel",FILTER_PANELS_ARR:["InternalPersonPanel","InternalSystemPanel","ClientPanel","VendorPanel","ProviderPanel"],CLASS_PANELS_MAP:{INTERNAL_PERSON:"InternalPersonPanel",INTERNAL_SYS_DEVICE:"InternalSystemPanel",CLIENT:"ClientPanel",VENDOR:"VendorPanel",PROVIDER:"ProviderPanel"},RENDERURL:undefined,SEARCH_SUBMIT_ACTION:"searchUserSubmit",MPI_SEARCH_COOKIE_NAME:"$$mpi_idxm_search_filters$$",constructor:function(a){this.NAMESPACE=a.baseObjConfig.nameSpace;this.RENDERURL=a.baseObjConfig.renderURL;this.PROFILEURL=a.baseObjConfig.userProfileURL;this.MPI_SEARCH_COOKIE_NAME=this.MPI_SEARCH_COOKIE_NAME+this.NAMESPACE;var b={buttonAlign:"right",columnWidth:a.columnWidth,style:"padding-top:10px;",items:[{xtype:"idxm.search.ux.panel.filter.common.FilterUserClassPanel",id:this.PREFIX_ID+"UserClass",baseObjConfig:a.baseObjConfig},{id:this.PREFIX_ID+"InternalPersonPanel",hidden:false,items:[{xtype:"idxm.search.ux.panel.filter.internal.PersonRequiredFieldsPanel",id:this.PREFIX_ID+"InternalPersonPanelRequiredFields",baseObjConfig:a.baseObjConfig},{style:"padding-top:10px;"},{xtype:"idxm.search.ux.panel.filter.internal.PersonFieldsPanel",id:this.PREFIX_ID+"InternalPersonPanelFields",baseObjConfig:a.baseObjConfig}]},{id:this.PREFIX_ID+"InternalSystemPanel",hidden:true,items:[{xtype:"idxm.search.ux.panel.filter.internal.SystemRequiredFieldsPanel",id:this.PREFIX_ID+"InternalSystemPanelRequiredFields",baseObjConfig:a.baseObjConfig},{style:"padding-top:10px;"},{xtype:"idxm.search.ux.panel.filter.internal.SystemFieldsPanel",id:this.PREFIX_ID+"InternalSystemPanelFields",baseObjConfig:a.baseObjConfig}]},{id:this.PREFIX_ID+"ClientPanel",hidden:true,items:[{xtype:"idxm.search.ux.panel.filter.client.ClientRequiredFieldsPanel",id:this.PREFIX_ID+"ClientPanelRequiredFields",baseObjConfig:a.baseObjConfig}]},{id:this.PREFIX_ID+"VendorPanel",hidden:true,items:[{xtype:"idxm.search.ux.panel.filter.vendor.VendorNameFieldPanel",id:this.PREFIX_ID+"VendorPanelNameFields",baseObjConfig:a.baseObjConfig},{style:"padding-top:10px;"},{xtype:"idxm.search.ux.panel.filter.vendor.VendorRequiredFieldsPanel",id:this.PREFIX_ID+"VendorPanelRequiredFields",baseObjConfig:a.baseObjConfig},{style:"padding-top:10px;"},{xtype:"idxm.search.ux.panel.filter.vendor.VendorFieldsPanel",id:this.PREFIX_ID+"VendorPanelFields",baseObjConfig:a.baseObjConfig}]},{id:this.PREFIX_ID+"ProviderPanel",hidden:true,items:[{xtype:"idxm.search.ux.panel.filter.provider.ProviderRequiredFieldsPanel",id:this.PREFIX_ID+"ProviderPanelRequiredFields",baseObjConfig:a.baseObjConfig}]},{height:10},{xtype:"button",id:"searchButton",style:"float:right;",text:"&nbsp;&nbsp;SEARCH&nbsp;&nbsp;",ctCls:"support-portal-btn",handler:this.filterSearchSubmit}],listeners:{uradix_enterkey:this.filterSearchSubmit,afterrender:function(){var c=uRadixCookieManager.readCookie(this.MPI_SEARCH_COOKIE_NAME);uRadixCookieManager.eraseCookie(this.MPI_SEARCH_COOKIE_NAME);c=Ext.util.JSON.decode(c);if(!Ext.isEmpty(c)&&((/posted=1/.test(window.location.hash))==true)){this.getForm().setValues(c);this.toggleFilterPanels(Ext.getCmp(this.PREFIX_ID+"UserClassCombo").getValue());this.add({id:"_idxm_search_source_hidden_field",xtype:"hidden",name:"filterSource",value:"cookie"});this.filterSearchSubmit()}else{this.toggleFilterPanels("INTERNAL_PERSON")}}}};Ext.apply(this,b);idxm.search.ux.panel.FilterControllerPanel.superclass.constructor.call(this,b)},filterSearchSubmit:function(){var c=undefined;if(this.getXType()=="idxm.search.ux.panel.FilterControllerPanel"){c=this}else{c=this.findParentByType("idxm.search.ux.panel.FilterControllerPanel")}if(c.getForm().isValid()){g_hideStatusBox();Ext.getCmp("searchButton").disable();var g=c.getForm();var e=new Array();c.findBy(function(k,j){if(k.isFormField){if(!Ext.isEmpty(k.getValue())&&!k.disabled){e.push({id:k.id,value:k.getValue()})}}},this);if(!Ext.isEmpty(e)){uRadixCookieManager.createCookie(c.MPI_SEARCH_COOKIE_NAME,Ext.util.JSON.encode(e),1)}var h=c.findParentByType("idxm.search.ux.panel.LayoutPanel");var b=h.findByType("idxm.search.ux.panel.ResultsControllerPanel")[0];var a=c;var f=c.RENDERURL+"?action="+c.SEARCH_SUBMIT_ACTION;var d=c.PREFIX_ID;a.el.mask("Searching...","x-mask-loading");g.submit({url:f,isMessageIgnore:true,success:function(m,o){window.location.hash="posted=1";if(Ext.getCmp("_idxm_search_source_hidden_field")!==undefined){Ext.getCmp("_idxm_search_source_hidden_field").setValue("")}var n=Ext.decode(o.response.responseText);var k=n.searchUserList;if(k.length>0){if(k.length==1&&(Ext.isEmpty(n.filterSource)||n.filterSource!="cookie")){var j=c.PROFILEURL+"?systemUserId="+k[0].sysKey;document.location=j}else{var l=g.findField("userClass");b.toggleResultsPanels({panelId:"GridPanel",userClassType:l.getValue(),searchList:k});a.el.unmask();Ext.getCmp("searchButton").enable()}}else{b.toggleResultsPanels({panelId:"NoResultsPanel"});a.el.unmask();Ext.getCmp("searchButton").enable()}},failure:function(j,k){g_showStatusBox();a.el.unmask();Ext.getCmp("searchButton").enable()}})}},toggleFilterPanels:function(a){for(i=0;i<this.FILTER_PANELS_ARR.length;i++){Ext.getCmp(this.PREFIX_ID+this.FILTER_PANELS_ARR[i]).hide();Ext.getCmp(this.PREFIX_ID+this.FILTER_PANELS_ARR[i]).disable();Ext.getCmp(this.PREFIX_ID+this.FILTER_PANELS_ARR[i]).cascade(function(b){if(b.isFormField){b.hide();b.disable()}})}Ext.getCmp(this.PREFIX_ID+this.CLASS_PANELS_MAP[a]).enable();Ext.getCmp(this.PREFIX_ID+this.CLASS_PANELS_MAP[a]).show();Ext.getCmp(this.PREFIX_ID+this.CLASS_PANELS_MAP[a]).cascade(function(b){if(b.isFormField){b.show();b.enable()}});this.doLayout()}});Ext.reg("idxm.search.ux.panel.FilterControllerPanel",idxm.search.ux.panel.FilterControllerPanel);Ext.namespace("idxm.search.ux.panel.LayoutPanel");idxm.search.ux.panel.LayoutPanel=Ext.extend(Ext.Panel,{NAMESPACE:undefined,constructor:function(a){this.NAMESPACE=a.baseObjConfig.nameSpace;var b={id:a.id,title:"Search User",ctCls:"support-portal-panel",renderTo:a.renderTo,width:990,bodyBorder:false,border:false,buttonAlign:"right",layout:"column",items:[{xtype:"idxm.search.ux.panel.FilterControllerPanel",baseObjConfig:a.baseObjConfig,columnWidth:0.22},{xtype:"idxm.search.ux.panel.ResultsControllerPanel",baseObjConfig:a.baseObjConfig,columnWidth:0.78}]};Ext.apply(this,b);idxm.search.ux.panel.LayoutPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.LayoutPanel",idxm.search.ux.panel.LayoutPanel);Ext.namespace("idxm.search.ux.panel.ResultsControllerPanel");idxm.search.ux.panel.ResultsControllerPanel=Ext.extend(Ext.Panel,{NAMESPACE:undefined,PREFIX_ID:"idxmSearchResults",RESULTS_PANELS_ARR:["NoResultsPanel","TooManyResultsPanel","GridPanel"],RENDERURL:undefined,constructor:function(a){this.NAMESPACE=a.baseObjConfig.nameSpace;this.RENDERURL=a.baseObjConfig.renderURL;var b={columnWidth:a.columnWidth,style:"padding-top:10px;padding-left:30px;",items:[{xtype:"idxm.search.ux.panel.results.common.ResultsContentPanel",id:this.PREFIX_ID+"NoResultsPanel",baseObjConfig:a.baseObjConfig,content:"Your Search Produced No Results",hidden:true},{xtype:"idxm.search.ux.panel.results.common.ResultsContentPanel",id:this.PREFIX_ID+"TooManyResultsPanel",baseObjConfig:a.baseObjConfig,content:"Your Search Produced Too Many Results",hidden:true},{xtype:"idxm.search.ux.panel.results.common.ResultsGridPanel",id:this.PREFIX_ID+"GridPanel",baseObjConfig:a.baseObjConfig,hidden:true}]};Ext.apply(this,b);idxm.search.ux.panel.ResultsControllerPanel.superclass.constructor.call(this,b)},toggleResultsPanels:function(a){var b=a.panelId;for(i=0;i<this.RESULTS_PANELS_ARR.length;i++){Ext.getCmp(this.PREFIX_ID+this.RESULTS_PANELS_ARR[i]).hide();Ext.getCmp(this.PREFIX_ID+this.RESULTS_PANELS_ARR[i]).disable();Ext.getCmp(this.PREFIX_ID+this.RESULTS_PANELS_ARR[i]).cascade(function(c){if(c.isFormField){c.hide();c.disable()}})}Ext.getCmp(this.PREFIX_ID+b).enable();Ext.getCmp(this.PREFIX_ID+b).show();Ext.getCmp(this.PREFIX_ID+b).cascade(function(c){if(c.isFormField){c.show();c.enable()}});if(!Ext.isEmpty(a.searchList)){this.reconfigureGrid({userClassType:a.userClassType,searchList:a.searchList})}this.doLayout()},reconfigureGrid:function(f){var a=f.userClassType;var d=f.searchList;var c=Ext.getCmp(this.PREFIX_ID+"GridPanel");var e;var b;switch(a){case"INTERNAL_PERSON":b=new Ext.grid.ColumnModel({columns:[{id:"name",header:"Name",sortable:true,dataIndex:"name"},{header:"User ID",sortable:true,dataIndex:"userID"},{header:"Location",sortable:true,dataIndex:"locationName"},{header:"Department",sortable:true,dataIndex:"departmentName"},{header:"Status",sortable:true,dataIndex:"statusName"}],defaults:{sortable:true,menuDisabled:true}});e=new Ext.data.Store({reader:new Ext.data.JsonReader({root:"searchUserList",fields:[{name:"name",mapping:'lastName+", "+obj.firstName'},{name:"userID"},{name:"locationName"},{name:"departmentName"},{name:"statusName"},{name:"sysKey"}]}),data:{searchUserList:d}});break;case"INTERNAL_SYS_DEVICE":b=new Ext.grid.ColumnModel({columns:[{id:"name",header:"Name",sortable:true,dataIndex:"name"},{header:"User ID",sortable:true,dataIndex:"userID"},{header:"Type",sortable:true,dataIndex:"type",renderer:this.getSystemDeviceLabel},{header:"Owner",sortable:true,dataIndex:"owner"},{header:"Status",sortable:true,dataIndex:"statusName"}],defaults:{sortable:true,menuDisabled:true}});e=new Ext.data.Store({reader:new Ext.data.JsonReader({root:"searchUserList",fields:[{name:"name",mapping:"systemProcessName"},{name:"userID"},{name:"type"},{name:"owner",mapping:"systemProcessOwnerUserID"},{name:"statusName"},{name:"sysKey"}]}),data:{searchUserList:d}});break;case"CLIENT":b=new Ext.grid.ColumnModel({columns:[{id:"name",header:"Name",sortable:true,dataIndex:"name",width:70},{header:"Email/User ID",sortable:true,dataIndex:"email",width:140},{header:"Client",sortable:true,dataIndex:"client"},{header:"Status",sortable:true,dataIndex:"statusName"}],defaults:{sortable:true,menuDisabled:true}});e=new Ext.data.Store({reader:new Ext.data.JsonReader({root:"searchUserList",fields:[{name:"name",mapping:'lastName+", "+obj.firstName'},{name:"email",mapping:"userID"},{name:"client",mapping:"organizationName"},{name:"statusName"},{name:"sysKey"}]}),data:{searchUserList:d}});break;case"VENDOR":b=new Ext.grid.ColumnModel({columns:[{id:"name",header:"Name",sortable:true,dataIndex:"name",width:70},{header:"Email",sortable:true,dataIndex:"email",width:140},{header:"Vendor Name",sortable:true,dataIndex:"vendorName"},{header:"Status",sortable:true,dataIndex:"statusName"}],defaults:{sortable:true,menuDisabled:true}});e=new Ext.data.Store({reader:new Ext.data.JsonReader({root:"searchUserList",fields:[{name:"name",mapping:'lastName+", "+obj.firstName'},{name:"email",mapping:"userID"},{name:"vendorName",mapping:"organizationName"},{name:"statusName"},{name:"sysKey"}]}),data:{searchUserList:d}});break;case"PROVIDER":b=new Ext.grid.ColumnModel({columns:[{id:"name",header:"Name",sortable:true,dataIndex:"name",width:70},{header:"Email/User ID",sortable:true,dataIndex:"email",width:140},{header:"Status",sortable:true,dataIndex:"statusName"}],defaults:{sortable:true,menuDisabled:true}});e=new Ext.data.Store({reader:new Ext.data.JsonReader({root:"searchUserList",fields:[{name:"name",mapping:'lastName+", "+obj.firstName'},{name:"email",mapping:"userID"},{name:"statusName"},{name:"sysKey"}]}),data:{searchUserList:d}});break}if((!Ext.isEmpty(e))&&(!Ext.isEmpty(b))){c.reconfigure(e,b)}return},sysKeyRenderer:function(e,b,a,f,d,c){return"<a href='./profile/userProfileAdministration.psml?systemUserId="+e+"' class='icon-search-contextmenu'></a>"},getSystemDeviceLabel:function(e,b,a,f,d,c){return"System/Process"}});Ext.reg("idxm.search.ux.panel.ResultsControllerPanel",idxm.search.ux.panel.ResultsControllerPanel);Ext.namespace("idxm.search.ux.panel.filter.client.ClientRequiredFieldsPanel");idxm.search.ux.panel.filter.client.ClientRequiredFieldsPanel=Ext.extend(Ext.Panel,{constructor:function(b){var a=[b.id+"clientEmail",b.id+"clientLastName",b.id+"clientFirstName",b.id+"ClientName",b.id+"CCode"];var c={items:[{layout:"form",labelAlign:"top",baseCls:"idxm-search-filter-fields-body",items:[{xtype:"textfield",id:b.id+"clientEmail",name:"email",fieldLabel:"Email/User ID",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(d){return idxm.search.validation.SearchValidator.oneFieldRequiredCheck(a)}},{xtype:"textfield",id:b.id+"clientLastName",name:"lastName",fieldLabel:"Last Name",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(d){return idxm.search.validation.SearchValidator.oneFieldRequiredCheck(a)}},{xtype:"textfield",id:b.id+"clientFirstName",name:"firstName",fieldLabel:"First Name",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(d){return idxm.search.validation.SearchValidator.oneFieldRequiredCheck(a)}},{xtype:"textfield",id:b.id+"ClientName",name:"clientName",fieldLabel:"Client Name",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(d){return idxm.search.validation.SearchValidator.oneFieldRequiredCheck(a)}},{xtype:"textfield",id:b.id+"CCode",name:"ccode",fieldLabel:"CCode",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(d){return idxm.search.validation.SearchValidator.oneFieldRequiredCheck(a)}},{xtype:"idxm.search.ux.panel.filter.common.StatusComboBox",id:b.id+"Status",name:"status",dataList:b.baseObjConfig.statuses,fieldLabel:"Status"}]}]};Ext.apply(this,c);idxm.search.ux.panel.filter.client.ClientRequiredFieldsPanel.superclass.constructor.call(this,c)}});Ext.reg("idxm.search.ux.panel.filter.client.ClientRequiredFieldsPanel",idxm.search.ux.panel.filter.client.ClientRequiredFieldsPanel);Ext.namespace("idxm.search.ux.panel.filter.common.FilterUserClassPanel");idxm.search.ux.panel.filter.common.FilterUserClassPanel=Ext.extend(Ext.Panel,{NAMESPACE:undefined,ID:undefined,DATA_USER_CLASS:[{id:"1",name:"Internal - Person"},{id:"2",name:"Internal - System/Process"},{id:"3",name:"Client"},{id:"4",name:"Vendor"},{id:"5",name:"Provider"}],constructor:function(a){this.NAMESPACE=a.baseObjConfig.nameSpace;this.ID=a.id;if(!Ext.isEmpty(a.baseObjConfig.userClasses)){this.DATA_USER_CLASS=a.baseObjConfig.userClasses}var b={items:[{id:a.id,layout:"form",labelAlign:"top",items:[{xtype:"combo",id:a.id+"Combo",fieldLabel:"User Class",hiddenName:"userClass",mode:"local",store:new Ext.data.JsonStore({fields:["id","name"],root:"rows",idProperty:"id",data:{rows:this.DATA_USER_CLASS}}),valueField:"id",displayField:"name",allowBlank:false,triggerAction:"all",value:"INTERNAL_PERSON",forceSelection:true,selectOnFocus:true,width:200,listeners:{select:function(f,c,d){var e=this.findParentByType("idxm.search.ux.panel.FilterControllerPanel");e.toggleFilterPanels(c.id)},render:function(d){this.el.dom.name=this.name;var c=this.findParentByType("idxm.search.ux.panel.FilterControllerPanel")}},typeAhead:true,typeAheadDelay:0}]}]};Ext.apply(this,b);idxm.search.ux.panel.filter.common.FilterUserClassPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.filter.common.FilterUserClassPanel",idxm.search.ux.panel.filter.common.FilterUserClassPanel);Ext.namespace("idxm.search.ux.panel.filter.common.StatusComboBox");idxm.search.ux.panel.filter.common.StatusComboBox=Ext.extend(Ext.form.ComboBox,{constructor:function(a){var b={fieldLabel:a.fieldLabel,id:a.id,name:null,hiddenName:a.name,mode:"local",store:new Ext.data.JsonStore({fields:["id","name"],root:"rows",idProperty:"id",data:{rows:a.dataList}}),valueField:"id",displayField:"name",triggerAction:"all",forceSelection:true,selectOnFocus:true,listeners:{render:function(){this.el.dom.name=this.name}},typeAhead:true,typeAheadDelay:0,value:""};Ext.apply(this,b);idxm.search.ux.panel.filter.common.StatusComboBox.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.filter.common.StatusComboBox",idxm.search.ux.panel.filter.common.StatusComboBox);Ext.namespace("idxm.search.ux.panel.filter.internal.PersonFieldsPanel");idxm.search.ux.panel.filter.internal.PersonFieldsPanel=Ext.extend(Ext.Panel,{ID:undefined,constructor:function(a){if(!Ext.isEmpty(a.id)){this.ID=a.id}var b={items:[{id:this.ID,layout:"form",labelAlign:"top",baseCls:"idxm-search-filter-fields-body",items:[{xtype:"textfield",id:a.id+"FirstName",name:"firstName",fieldLabel:"First Name"},{xtype:"combo",id:a.id+"Location",fieldLabel:"Location",name:null,hiddenName:"location",mode:"local",store:new Ext.data.JsonStore({fields:["id","name"],root:"rows",idProperty:"id",data:{rows:a.baseObjConfig.locations}}),valueField:"id",displayField:"name",triggerAction:"all",forceSelection:true,selectOnFocus:true,listeners:{render:function(){this.el.dom.name=this.name}},typeAhead:true,typeAheadDelay:0,value:""},{xtype:"combo",id:a.id+"Department",fieldLabel:"Department",name:null,hiddenName:"department",mode:"local",store:new Ext.data.JsonStore({fields:["id","name"],root:"rows",idProperty:"id",data:{rows:a.baseObjConfig.departments}}),valueField:"id",displayField:"name",triggerAction:"all",forceSelection:false,selectOnFocus:true,listeners:{render:function(){this.el.dom.name=this.name}},typeAhead:true,typeAheadDelay:0,listWidth:280,value:""},{xtype:"idxm.search.ux.panel.filter.common.StatusComboBox",id:a.id+"Status",name:"status",dataList:a.baseObjConfig.statuses,fieldLabel:"Status"}]}]};Ext.apply(this,b);idxm.search.ux.panel.filter.internal.PersonFieldsPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.filter.internal.PersonFieldsPanel",idxm.search.ux.panel.filter.internal.PersonFieldsPanel);Ext.namespace("idxm.search.ux.panel.filter.internal.PersonRequiredFieldsPanel");idxm.search.ux.panel.filter.internal.PersonRequiredFieldsPanel=Ext.extend(Ext.Panel,{constructor:function(a){var b={items:[{layout:"form",labelAlign:"top",baseCls:"idxm-search-filter-fields-body",items:[{xtype:"label",html:"<b>*Provide at least one:</b><br><br>"},{xtype:"textfield",id:a.id+"LastName",name:"lastName",fieldLabel:"Last Name",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(c){return idxm.search.validation.SearchValidator.siblingRequiredCheck(c,a.id+"UserId")}},{xtype:"textfield",id:a.id+"UserId",name:"userID",fieldLabel:"User ID",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(c){return idxm.search.validation.SearchValidator.siblingRequiredCheck(c,a.id+"LastName")}}]}]};Ext.apply(this,b);idxm.search.ux.panel.filter.internal.PersonRequiredFieldsPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.filter.internal.PersonRequiredFieldsPanel",idxm.search.ux.panel.filter.internal.PersonRequiredFieldsPanel);Ext.namespace("idxm.search.ux.panel.filter.internal.SystemFieldsPanel");idxm.search.ux.panel.filter.internal.SystemFieldsPanel=Ext.extend(Ext.Panel,{ID:undefined,constructor:function(a){if(!Ext.isEmpty(a.id)){this.ID=a.id}var b={items:[{id:this.ID,layout:"form",labelAlign:"top",baseCls:"idxm-search-filter-fields-body",items:[{xtype:"textfield",id:a.id+"OwnerUserId",name:"ownerUserID",fieldLabel:"Owner User ID"},{xtype:"idxm.search.ux.panel.filter.common.StatusComboBox",id:a.id+"Status",name:"status",dataList:a.baseObjConfig.statuses,fieldLabel:"Status"}]}]};Ext.apply(this,b);idxm.search.ux.panel.filter.internal.SystemFieldsPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.filter.internal.SystemFieldsPanel",idxm.search.ux.panel.filter.internal.SystemFieldsPanel);Ext.namespace("idxm.search.ux.panel.filter.internal.SystemRequiredFieldsPanel");idxm.search.ux.panel.filter.internal.SystemRequiredFieldsPanel=Ext.extend(Ext.Panel,{constructor:function(a){var b={items:[{layout:"form",labelAlign:"top",baseCls:"idxm-search-filter-fields-body",items:[{xtype:"label",html:"<b>*Provide at least one:</b><br><br>"},{xtype:"textfield",id:a.id+"Name",name:"name",fieldLabel:"Name",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(c){return idxm.search.validation.SearchValidator.siblingRequiredCheck(c,a.id+"UserId")}},{xtype:"textfield",id:a.id+"UserId",name:"userID",fieldLabel:"User ID",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(c){return idxm.search.validation.SearchValidator.siblingRequiredCheck(c,a.id+"Name")}}]}]};Ext.apply(this,b);idxm.search.ux.panel.filter.internal.SystemRequiredFieldsPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.filter.internal.SystemRequiredFieldsPanel",idxm.search.ux.panel.filter.internal.SystemRequiredFieldsPanel);Ext.namespace("idxm.search.ux.panel.filter.provider.ProviderRequiredFieldsPanel");idxm.search.ux.panel.filter.provider.ProviderRequiredFieldsPanel=Ext.extend(Ext.Panel,{constructor:function(a){var b=[a.id+"providerEmail",a.id+"providerLastName",a.id+"providerFirstName"];var c={items:[{layout:"form",labelAlign:"top",baseCls:"idxm-search-filter-fields-body",items:[{xtype:"textfield",id:a.id+"providerEmail",name:"email",fieldLabel:"Email",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(d){return idxm.search.validation.SearchValidator.oneFieldRequiredCheck(b)}},{xtype:"textfield",id:a.id+"providerFirstName",name:"firstName",fieldLabel:"First Name",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(d){return idxm.search.validation.SearchValidator.oneFieldRequiredCheck(b)}},{xtype:"textfield",id:a.id+"providerLastName",name:"lastName",fieldLabel:"Last Name",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(d){return idxm.search.validation.SearchValidator.oneFieldRequiredCheck(b)}}]}]};Ext.apply(this,c);idxm.search.ux.panel.filter.provider.ProviderRequiredFieldsPanel.superclass.constructor.call(this,c)}});Ext.reg("idxm.search.ux.panel.filter.provider.ProviderRequiredFieldsPanel",idxm.search.ux.panel.filter.provider.ProviderRequiredFieldsPanel);Ext.namespace("idxm.search.ux.panel.filter.vendor.VendorFieldsPanel");idxm.search.ux.panel.filter.vendor.VendorFieldsPanel=Ext.extend(Ext.Panel,{ID:undefined,constructor:function(a){if(!Ext.isEmpty(a.id)){this.ID=a.id}var b={items:[{id:this.ID,layout:"form",labelAlign:"top",baseCls:"idxm-search-filter-fields-body",items:[{xtype:"textfield",id:a.id+"FirstName",name:"firstName",fieldLabel:"First Name"},{xtype:"idxm.search.ux.panel.filter.common.StatusComboBox",id:a.id+"Status",name:"status",dataList:a.baseObjConfig.statuses,fieldLabel:"Status"}]}]};Ext.apply(this,b);idxm.search.ux.panel.filter.vendor.VendorFieldsPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.filter.vendor.VendorFieldsPanel",idxm.search.ux.panel.filter.vendor.VendorFieldsPanel);Ext.namespace("idxm.search.ux.panel.filter.vendor.VendorNameFieldPanel");idxm.search.ux.panel.filter.vendor.VendorNameFieldPanel=Ext.extend(Ext.Panel,{constructor:function(a){var b={items:[{layout:"form",labelAlign:"top",baseCls:"idxm-search-filter-fields-body",items:[{xtype:"combo",id:a.id+"VendorName",fieldLabel:"Vendor Name",allowBlank:false,name:null,hiddenName:"vendorCode",mode:"local",store:new Ext.data.JsonStore({fields:["id","name"],root:"rows",idProperty:"id",data:{rows:a.baseObjConfig.vendorNames}}),valueField:"id",emptyText:"- Select One -",displayField:"name",triggerAction:"all",forceSelection:false,selectOnFocus:true,listeners:{render:function(){this.el.dom.name=this.name}},typeAhead:true,typeAheadDelay:0}]}]};Ext.apply(this,b);idxm.search.ux.panel.filter.vendor.VendorNameFieldPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.filter.vendor.VendorNameFieldPanel",idxm.search.ux.panel.filter.vendor.VendorNameFieldPanel);Ext.namespace("idxm.search.ux.panel.filter.vendor.VendorRequiredFieldsPanel");idxm.search.ux.panel.filter.vendor.VendorRequiredFieldsPanel=Ext.extend(Ext.Panel,{PANEL_TYPE:"vendor",constructor:function(a){if(!Ext.isEmpty(a.panelType)){this.PANEL_TYPE=a.panelType}var b={items:[{layout:"form",labelAlign:"top",baseCls:"idxm-search-filter-fields-body",items:[{xtype:"label",html:"<b>*Provide at least one:</b><br><br>"},{xtype:"textfield",id:a.id+this.PANEL_TYPE+"LastName",name:"lastName",fieldLabel:"Last Name",msgTarget:"side",validateOnBlur:false,validationEvent:false,validator:function(c){var d=this.findParentByType("idxm.search.ux.panel.filter.vendor.VendorRequiredFieldsPanel");return idxm.search.validation.SearchValidator.siblingRequiredCheck(c,a.id+d.PANEL_TYPE+"Email")}},{xtype:"textfield",id:a.id+this.PANEL_TYPE+"Email",name:"email",fieldLabel:(this.PANEL_TYPE=="vendor")?"Email":"Email/User ID",msgTarget:"side",vtype:(this.PANEL_TYPE=="vendor")?"email":undefined,validateOnBlur:false,validationEvent:false,validator:function(c){var d=this.findParentByType("idxm.search.ux.panel.filter.vendor.VendorRequiredFieldsPanel");return idxm.search.validation.SearchValidator.siblingRequiredCheck(c,a.id+d.PANEL_TYPE+"LastName")}}]}]};Ext.apply(this,b);idxm.search.ux.panel.filter.vendor.VendorRequiredFieldsPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.filter.vendor.VendorRequiredFieldsPanel",idxm.search.ux.panel.filter.vendor.VendorRequiredFieldsPanel);Ext.namespace("idxm.search.ux.panel.results.common.ResultsContentPanel");idxm.search.ux.panel.results.common.ResultsContentPanel=Ext.extend(Ext.Panel,{ID:undefined,RESULTS_MARKUP_TPL:new Ext.XTemplate('<div><b class="idxm-search-spiffy"><b class="idxm-search-spiffy1"><b></b></b><b class="idxm-search-spiffy2"><b></b></b><b class="idxm-search-spiffy3"></b><b class="idxm-search-spiffy4"></b><b class="idxm-search-spiffy5"></b></b>','<div class="idxm-search-spiffyfg"><center><br><font class="idxm-search-results-content">{content}</font></br><br></center></div>','<b class="idxm-search-spiffy"><b class="idxm-search-spiffy5"></b><b class="idxm-search-spiffy4"></b><b class="idxm-search-spiffy3"></b><b class="idxm-search-spiffy2"><b></b></b><b class="idxm-search-spiffy1"><b></b></b></b></div>'),constructor:function(a){this.ID=a.id;var b={id:a.id,style:"padding-top:48px;",html:this.RESULTS_MARKUP_TPL.applyTemplate({content:a.content}),hidden:a.hidden};Ext.apply(this,b);idxm.search.ux.panel.results.common.ResultsContentPanel.superclass.constructor.call(this,b)}});Ext.reg("idxm.search.ux.panel.results.common.ResultsContentPanel",idxm.search.ux.panel.results.common.ResultsContentPanel);Ext.namespace("idxm.search.ux.panel.results.common.ResultsGridPanel");idxm.search.ux.panel.results.common.ResultsGridPanel=Ext.extend(Ext.grid.GridPanel,{constructor:function(a){var b={cls:"idxm-grid",frame:false,autoHeight:true,colModel:new Ext.grid.ColumnModel({columns:[{id:"name",header:"Name",sortable:true,dataIndex:"firstName"},{header:"Location",sortable:true,dataIndex:"locationName"},{header:"Department",sortable:true,dataIndex:"departmentName"},{header:"Status",sortable:true,dataIndex:"statusName"}],defaults:{sortable:true,menuDisabled:true}}),stripeRows:true,viewConfig:{rowHeight:25,scrollOffset:0,autoFill:true,forceFit:true},store:{reader:new Ext.data.JsonReader({root:"searchUserList",fields:["name","location","department","status"]}),data:{searchUserList:[]}},listeners:{rowdblclick:function(d,c,f){var h=d.getStore().getAt(c);document.location=a.baseObjConfig.userProfileURL+"?systemUserId="+h.data.sysKey}}};Ext.apply(this,a,b);idxm.search.ux.panel.results.common.ResultsGridPanel.superclass.constructor.call(this,a)}});Ext.reg("idxm.search.ux.panel.results.common.ResultsGridPanel",idxm.search.ux.panel.results.common.ResultsGridPanel);Ext.namespace("idxm.search.validation.SearchValidator");idxm.search.validation.SearchValidator=function(){this.siblingRequiredCheck=function(c,a){var b=true;try{c=c.trim();sibVal_=Ext.getCmp(a).getValue();sibVal_=sibVal_.trim();if(Ext.isEmpty(c)&&Ext.isEmpty(sibVal_)){b="One of these fields is required."}}catch(d){}return b},this.oneFieldRequiredCheck=function(c){var b="One of these fields is required.";try{for(var a=0;a<c.length;a++){fieldVal_=Ext.getCmp(c[a]).getValue();fieldVal_=fieldVal_.trim();if(!Ext.isEmpty(fieldVal_)){b=true}}}catch(d){}return b}};idxm.search.validation.SearchValidator=new idxm.search.validation.SearchValidator();Ext.apply(Ext.form.VTypes,{siblingRequiredText:"One of these fields is required",siblingRequired:function(c,b){c=c.trim();if(Ext.isEmpty(c)){var a=Ext.getCmp(b.siblingField).getValue();a=a.trim();if(Ext.isEmpty(a)){return false}}else{return true}}});