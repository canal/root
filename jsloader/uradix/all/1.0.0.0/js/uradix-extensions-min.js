function uRadixClientMessageHandler(){this.DEFAULT_STATUS_DOM_ID="uradix_statusbox";this.DEFAULT_STATUS_SUCC_DOM_ID="uradix_statusboxsuccess";this.DEFAULT_STATUS_SUCCMSG_DOM_ID="uradix_statusboxsuccessmsg";this.DEFAULT_STATUS_ERR_DOM_ID="uradix_statusboxerror";this.DEFAULT_STATUS_ERRMSG_DOM_ID="uradix_statusboxerrormsg";this.DEFAULT_STATUS_WARN_DOM_ID="uradix_statusboxwarn";this.DEFAULT_STATUS_WARNMSG_DOM_ID="uradix_statusboxwarnmsg";this.setAdvice=function(b,f){var c;Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);if(b){c=Ext.get(this.DEFAULT_STATUS_SUCCMSG_DOM_ID);if(f){for(var e=0,a=f.length;e<a;e++){var d=f[e];if(c){c.update(d.description,true)}}}Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY).originalDisplay="block";Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisible(true);Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).dom.style.display="block"}else{c=Ext.get(this.DEFAULT_STATUS_ERRMSG_DOM_ID);if(f){for(var e=0,a=f.length;e<a;e++){var d=f[e];if(c){c.update(d.description,true)}}}Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY).originalDisplay="block";Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisible(true);Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).dom.style.display="block"}};this.setWarning=function(b){var a;Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);a=Ext.get(this.DEFAULT_STATUS_WARNMSG_DOM_ID);if(b){if(a){a.update(b.description,true)}}Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY).originalDisplay="block";Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).dom.style.display="block"};this.setMessage=function(b,f){var c="";if(f){for(var d=0,a=f.length;d<a;d++){var e=f[d];c=c+"<b>"+e.msg+"</b><br>"+e.msgDetail+"<br><br>"}}Ext.Msg.show({title:"General Errors",msg:c,width:300,buttons:Ext.MessageBox.OK});return};this.setMessageAsTabs=function(b,f){var g=new Ext.Window({title:"General Messages",draggable:true,layout:"fit",shadow:true,width:400,height:250,plain:true,modal:true,items:new Ext.TabPanel({id:"genMsgTabPanel",autoTabs:true,activeTab:0,deferredRender:false,border:false}),buttons:[{text:"Close",handler:function(){g.hide()}}]});var c=Ext.getCmp("genMsgTabPanel");if(f){for(var d=0,a=f.length;d<a;d++){var e=f[d];if(d===0){c.add({title:e.msg,html:e.msgDetail,collapsible:true,closable:false,border:false,autoScroll:true})}else{c.add({title:e.msg,html:e.msgDetail,collapsible:true,closable:true,border:false,autoScroll:true})}}}c.doLayout();g.show(this);return};this.setAlert=function(a,b){var c="Error Encountered";if(a){c="Success"}Ext.Msg.alert(c,b);return};this.fireEvent=function(a,b){return};this.initializeStatusDOM=function(b){if((b===undefined)||(b===null)){b=this.DEFAULT_STATUS_DOM_ID}var a=new Ext.Template('<div id="{boxErr}" class="uradix-statuserror">',"<div>",'<table cellspacing="0" cellpadding="0" border="0">',"<tr>",'<td valign="middle"><div class="uradix-error-icon" style="visibility: visible;"></div></td>','<td width="10"></td>','<td><div id="{boxErrMsg}" class="uradix-statuserror-msg"></div></td>',"</tr>","</table>","</div>","</div>",'<div id="{boxSucc}" class="uradix-statussuccess">',"<div>",'<table cellspacing="0" cellpadding="0" border="0">',"<tr>",'<td valign="middle"><div class="uradix-success-icon" style="visibility: visible;"></div></td>','<td width="10"></td>','<td><div id="{boxSuccMsg}" class="uradix-statussuccess-msg"></div></td>',"</tr>","</table>","</div>","</div>",'<div id="{boxWarn}" class="uradix-statuswarn">',"<div>",'<table cellspacing="0" cellpadding="0" border="0">',"<tr>",'<td valign="middle"><div class="uradix-warning-icon" style="visibility: visible;"></div></td>','<td width="10"></td>','<td><div id="{boxWarnMsg}" class="uradix-statuswarn-msg"></div></td>',"</tr>","</table>","</div>","</div>");a.append(b,{boxErr:this.DEFAULT_STATUS_ERR_DOM_ID,boxErrMsg:this.DEFAULT_STATUS_ERRMSG_DOM_ID,boxSucc:this.DEFAULT_STATUS_SUCC_DOM_ID,boxSuccMsg:this.DEFAULT_STATUS_SUCCMSG_DOM_ID,boxWarn:this.DEFAULT_STATUS_WARN_DOM_ID,boxWarnMsg:this.DEFAULT_STATUS_WARNMSG_DOM_ID});this.setCookieAdvice();return};this.setCustomStatusDOM=function(b){var a=new Ext.XTemplate('<div id="{boxId}" class="uradix-statuswarn" style="display:block;">',"<div>",'<table cellspacing="0" cellpadding="0" border="0">',"<tr>",'<td valign="middle"><div class="uradix-warning-icon" style="visibility: visible;"></div></td>','<td width="10"></td>','<td><div class="uradix-statuswarn-msg">{boxMsg}</div></td>','<tpl if="boxCallBack">','<td width="10"></td>','<td><div class="uradix-form-help-details-icon" style="visibility: visible;" onclick="{boxCallBack}();" title="More Information" onmouseover="document.body.style.cursor=\'pointer\';" onmouseout="document.body.style.cursor=\'default\';"></div></td>',"</tpl>","</tr>","</table>","</div>","</div>");if(b.append){a.append(b.id,{boxId:b.boxId,boxMsg:b.boxMsg,boxCallBack:b.boxCallBack});return}else{return a.apply({boxId:b.boxId,boxMsg:b.boxMsg,boxCallBack:b.boxCallBack})}};this.setCookieAdvice=function(){try{var d=document.location.search;if(d.indexOf(uRadixCookieManager.MPI_COOKIE_PARAMETER)!=-1){var a=uRadixCookieManager.readCookie(uRadixCookieManager.MPI_COOKIE_NAME);var b=uRadixUtilities.jsonDecode(a);if(b){this.setAdvice(b.success,b.advices);uRadixCookieManager.eraseCookie(uRadixCookieManager.MPI_COOKIE_NAME)}}}catch(c){}};this.hideStatusBox=function(){Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisible(false)};this.resizeStatusPanel=function(d,b,a){try{Ext.getCmp(d).setHeight(b);Ext.getCmp(a).doLayout()}catch(c){}};this.isVisible=function(){var a=false;if(!Ext.isEmpty(Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID))&&!Ext.isEmpty(Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID))&&!Ext.isEmpty(Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID))){if(Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).isVisible()||Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).isVisible()||Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).isVisible()){a=true}else{a=false}}return a}}uRadixClientMessageHandler=new uRadixClientMessageHandler();Ext.namespace("uRadix.form.PhoneField");uRadix.form.PhoneField=Ext.extend(Ext.Panel,{initComponent:function(){var a="<div class='x-form-item' tabindex='-1'><label class='x-form-item-label' style='width: auto;'></label><div class='x-form-element' style='padding-left: 0pt;'>-</div><div class='x-form-clear-left'/></div>";Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:40,layout:"form",items:[{id:this.id+"_1",hideLabel:true,width:35,style:"padding-right:5px",maxLength:3,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"3"},xtype:"textfield",vtype:"numeric",listeners:{keyup:{fn:function(b){var c=Ext.get(b.id);if(c.dom.value.length===3){Ext.getCmp(this.id+"_2").focus()}},scope:this}}}]},{width:49,layout:"form",items:[{id:this.id+"_2",fieldLabel:"-",labelStyle:"padding-left:0px; padding-right:3px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:35,maxLength:3,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"3"},xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:5px;"},scope:this},keyup:{fn:function(b){var c=Ext.get(b.id);if(c.dom.value.length===3){Ext.getCmp(this.id+"_3").focus()}},scope:this}}}]},{width:60,layout:"form",items:[{id:this.id+"_3",fieldLabel:"-",labelStyle:"padding-left:0px; padding-right:4px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:50,maxLength:4,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"4"},xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]},{width:110,layout:"form",items:[{id:this.id+"Ext",fieldLabel:"x",labelStyle:"padding-left:3px; padding-right:0px; width:15px; margin-top:3px; float:left;",labelSeparator:"",width:50,xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:3px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.PhoneField.superclass.initComponent.call(this)}});Ext.reg("phonefield",uRadix.form.PhoneField);Ext.namespace("uRadix.form.SSNField");uRadix.form.SSNField=Ext.extend(Ext.Panel,{initComponent:function(){Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:40,layout:"form",items:[{id:this.id+"_1",hideLabel:true,width:35,style:"padding-right:5px",maxLength:3,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"3"},msgTarget:"qtip",xtype:"textfield",vtype:"numeric",listeners:{keyup:{fn:function(a){var b=Ext.get(a.id);if(b.dom.value.length===3){Ext.getCmp(this.id+"_2").focus()}},scope:this}}}]},{width:42,layout:"form",items:[{id:this.id+"_2",fieldLabel:"-",labelStyle:"padding-left:0px; padding-right:3px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:29,maxLength:2,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"2"},xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:5px;"},scope:this},keyup:{fn:function(a){var b=Ext.get(a.id);if(b.dom.value.length===2){Ext.getCmp(this.id+"_3").focus()}},scope:this}}}]},{width:60,layout:"form",items:[{id:this.id+"_3",fieldLabel:"-",labelStyle:"padding-left:0px; padding-right:4px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:50,maxLength:4,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"4"},xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.SSNField.superclass.initComponent.call(this)}});Ext.reg("ssnfield",uRadix.form.SSNField);Ext.namespace("uRadix.form.TINField");uRadix.form.TINField=Ext.extend(Ext.Panel,{initComponent:function(){Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:40,layout:"form",items:[{id:this.id+"_1",hideLabel:true,width:35,style:"padding-right:5px",maxLength:2,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"2"},msgTarget:"qtip",xtype:"textfield",vtype:"numeric",listeners:{keyup:{fn:function(a){var b=Ext.get(a.id);if(b.dom.value.length===2){Ext.getCmp(this.id+"_2").focus()}},scope:this}}}]},{width:80,layout:"form",items:[{id:this.id+"_2",fieldLabel:"-",labelStyle:"padding-left:0px; padding-right:3px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:65,maxLength:7,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"7"},xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.TINField.superclass.initComponent.call(this)}});Ext.reg("tinfield",uRadix.form.TINField);Ext.namespace("uRadix.form.DOBField");uRadix.form.DOBField=Ext.extend(Ext.Panel,{initComponent:function(){Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:37,layout:"form",items:[{id:this.id+"_1",hideLabel:true,width:32,style:"padding-right:5px",maxLength:2,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"2"},xtype:"textfield",vtype:"numeric",emptyText:"mm",listeners:{keyup:{fn:function(a){var b=Ext.get(a.id);if(b.dom.value.length===2){Ext.getCmp(this.id+"_2").focus()}},scope:this}}}]},{width:42,layout:"form",items:[{id:this.id+"_2",fieldLabel:"/",labelStyle:"padding-left:0px; padding-right:3px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:29,maxLength:2,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"2"},xtype:"textfield",vtype:"numeric",emptyText:"dd",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:5px;"},scope:this},keyup:{fn:function(a){var b=Ext.get(a.id);if(b.dom.value.length===2){Ext.getCmp(this.id+"_3").focus()}},scope:this}}}]},{width:60,layout:"form",items:[{id:this.id+"_3",fieldLabel:"/",labelStyle:"padding-left:0px; padding-right:4px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:50,maxLength:4,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"4"},xtype:"textfield",vtype:"numeric",emptyText:"yyyy",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.DOBField.superclass.initComponent.call(this)}});Ext.reg("dobfield",uRadix.form.DOBField);Ext.namespace("uRadix.form.ShortNameField");uRadix.form.ShortNameField=Ext.extend(Ext.Panel,{initComponent:function(){Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:74,layout:"form",items:[{id:this.id+"_1",hideLabel:true,width:70,style:"padding-right:5px",xtype:"textfield",emptyText:"first name"}]},{width:22,layout:"form",items:[{id:this.id+"_2",fieldLabel:"",labelStyle:"padding-left:0px; padding-right:0px; width:0px;",labelSeparator:"",width:17,maxLength:1,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"1"},xtype:"textfield",emptyText:"i",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:3px;"},scope:this},keyup:{fn:function(a){var b=Ext.get(a.id);if(b.dom.value.length===1){Ext.getCmp(this.id+"_3").focus()}},scope:this}}}]},{width:180,layout:"form",items:[{id:this.id+"_3",fieldLabel:"",labelStyle:"padding-left:0px; padding-right:0px; width:0px;",labelSeparator:"",width:70,xtype:"textfield",emptyText:"last name",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.ShortNameField.superclass.initComponent.call(this)}});Ext.reg("shortnamefield",uRadix.form.ShortNameField);Ext.namespace("uRadix.form.LongNameField");uRadix.form.LongNameField=Ext.extend(Ext.Panel,{initComponent:function(){Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:180,layout:"form",items:[{id:this.id+"_1",fieldLabel:this.fieldLabel,width:70,style:"padding-right:5px",xtype:"textfield",emptyText:"first name"}]},{width:22,layout:"form",items:[{id:this.id+"_2",fieldLabel:"",labelStyle:"padding-left:0px; padding-right:0px; width:0px;",labelSeparator:"",width:17,maxLength:1,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"1"},xtype:"textfield",emptyText:"i",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:3px;"},scope:this},keyup:{fn:function(a){var b=Ext.get(a.id);if(b.dom.value.length===1){Ext.getCmp(this.id+"_3").focus()}},scope:this}}}]},{width:180,layout:"form",items:[{id:this.id+"_3",fieldLabel:"",labelStyle:"padding-left:0px; padding-right:0px; width:0px;",labelSeparator:"",width:70,xtype:"textfield",emptyText:"last name",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.ShortNameField.superclass.initComponent.call(this)}});Ext.reg("longnamefield",uRadix.form.LongNameField);Ext.namespace("uRadix.form");uRadix.form.FormPanel=Ext.extend(Ext.form.FormPanel,{initComponent:function(){Ext.apply(this,{buttonAlign:"right",errorReader:new Ext.data.JsonReader({root:"messages.inputFields",successProperty:"status.success"},[{name:"code",mapping:"typeCD"},{name:"ids",mapping:"fieldID"},{name:"msg",mapping:"title"},{name:"msgDetail",mapping:"description"}]),adviceReader:new Ext.data.JsonReader({root:"advice",successProperty:"status.success"},[{name:"code",mapping:"adviceCD"},{name:"name",mapping:"name"},{name:"description",mapping:"description"}]),messageReader:new Ext.data.JsonReader({root:"messages.general"},[{name:"code",mapping:"typeCD"},{name:"msg",mapping:"title"},{name:"msgDetail",mapping:"description"}]),reader:new Ext.data.JsonReader({root:"data",successProperty:"status.success"},[{name:"id",mapping:"id"},{name:"value",mapping:"value"}])});Ext.apply(this.initialConfig,{errorReader:this.errorReader,adviceReader:this.adviceReader,messageReader:this.messageReader,reader:this.reader,buttonAlign:this.buttonAlign});this.addEvents("uradix_enterkey");this.keys=[{key:13,scope:this,fn:function(a,b){this.fireEvent("uradix_enterkey",this,b)}}];uRadix.form.FormPanel.superclass.initComponent.call(this,arguments)}});Ext.reg("uRadix.form.FormPanel",uRadix.form.FormPanel);Ext.override(Ext.form.Action.Submit,{handleResponse:function(j){var u=[];var o=[];var k=[];var b=[];var t;var h=Ext.decode(j.responseText);t=h.status.success;if(this.form.errorReader){try{var p=this.form.errorReader.read(j);t=p.success;if(!t){if(p.records){for(var m=0,q=p.records.length;m<q;m++){var a=p.records[m];for(var d=0,c=a.data.ids.length;d<c;d++){var l={id:a.data.ids[d]};if(d==a.data.ids.length-1){l={id:a.data.ids[d],msg:a.data.msg,msgDetail:a.data.msgDetail}}u.push(l)}}}}}catch(s){}if(u.length<1){u=null}if(u==null&&this.form.reader){try{rsSucc=this.form.reader.read(j);t=rsSucc.success;if(rsSucc.records){for(var m=0,q=rsSucc.records.length;m<q;m++){var a=rsSucc.records[m];o[m]=a.data}}}catch(s){t=h.status.success}}if(this.form.messageReader){try{var g=this.form.messageReader.read(j);if(g.records){for(var m=0,q=g.records.length;m<q;m++){var a=g.records[m];k[m]=a.data}}}catch(s){}if(k.length<1){k=null}}if(this.form.adviceReader){try{var f=this.form.adviceReader.read(j);t=f.success;if(f.records){for(var m=0,q=f.records.length;m<q;m++){var a=f.records[m];b[m]=a.data}}}catch(s){}if(b.length<1){b=null}}return{success:t,data:o,errors:u,advices:b,messages:k}}return Ext.decode(j.responseText)},success:function(b){var a=this.processResponse(b);if(a===true||a.success){if(!this.options.disableAllStatusBinding){if(this.options.isRedirect){uRadixCookieManager.createCookie(uRadixCookieManager.MPI_COOKIE_NAME,uRadixUtilities.jsonEncode(a),1)}else{if(a.advices){uRadixClientMessageHandler.setAdvice(true,a.advices)}if(a.messages){if(this.options.isMessageIgnore!=undefined&&(!this.options.isMessageIgnore)){uRadixClientMessageHandler.setMessage(true,a.messages)}}}}this.form.afterAction(this,true);return}if(!a.success){if(a.errors){this.form.markInvalid(a.errors);this.failureType=Ext.form.Action.SERVER_INVALID}if(!this.options.disableAllStatusBinding&&!this.options.disableErrorStatusBinding){if(a.advices){uRadixClientMessageHandler.setAdvice(false,a.advices)}if(a.messages){if(this.options.isMessageIgnore!=undefined&&(!this.options.isMessageIgnore)){uRadixClientMessageHandler.setMessage(false,a.messages)}}}}this.form.afterAction(this,false)}});Ext.override(Ext.form.BasicForm,{markInvalid:function(j){if(Ext.isArray(j)){for(var d=0,a=j.length;d<a;d++){var c=j[d];var e=this.findField(c.id);if(e){var b=null;if(c.msgDetail){b=c.msgDetail}e.markInvalid(c.msg,b)}}}else{var g,h;for(h in j){if(typeof j[h]!="function"&&(g=this.findField(h))){g.markInvalid(j[h])}}}return this}});Ext.override(Ext.form.Field,{isFieldEmpty:undefined,validateFieldEmpty:function(){var a=this.getValue()||this.processValue(this.getRawValue());if(!this.allowBlank&&(a===undefined||a.length<1||a===this.emptyText)){this.isFieldEmpty=true}else{this.isFieldEmpty=false}},markInvalid:function(d,b){if(!this.rendered||this.preventMark){return}this.el.addClass(this.invalidClass);switch(this.msgTarget){case"qtip":d=d||this.invalidText;this.el.dom.qtip=d;this.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable()}break;case"title":d=d||this.invalidText;this.el.dom.title=d;break;case"under":var f=d;this.validateFieldEmpty();if(Ext.isEmpty(b)){if(b===undefined){if(this.isFieldEmpty){f="Required"}else{f="Incorrect"}b=d}else{if(b===null){f=d}}}if(!this.errorEl){var g=this.el.findParent(".x-form-element",5,true);this.errorEl=g.createChild({})}var a=Ext.id();if(this.isFieldEmpty){this.errorEl.update("<span class='uradix-form-invalid-icon-under'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:11px;'>"+f+"</span>")}else{this.errorEl.update("<span class='uradix-form-invalid-icon-under'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:11px;'>"+f+"</span>&nbsp;</span><span id='"+a+"' class='uradix-form-invalid-details-icon-under' onmouseover=\"document.body.style.cursor='default';\" onmouseout=\"document.body.style.cursor='default';\">&nbsp;&nbsp;&nbsp;&nbsp;</span>")}Ext.form.Field.msgFx[this.msgFx].show(this.errorEl,this);this.errorUnder=Ext.get(a);if(this.errorUnder){this.errorUnder.dom.qtip=b||d;this.errorUnder.dom.qclass="x-form-invalid-tip";this.errorUnder.show()}break;case"side":d=d||this.invalidText;if(!this.errorIcon){var g=this.el.findParent(".x-form-element",5,true);this.errorIcon=g.createChild({cls:"x-form-invalid-icon"})}this.alignErrorIcon();this.errorIcon.dom.qtip=d;this.errorIcon.dom.qclass="x-form-invalid-tip";this.errorIcon.show();this.on("resize",this.alignErrorIcon,this);break;case"sideWithDetails":d=d||this.invalidText;if(!this.errorEl){var g=this.el.findParent(".x-form-element",5,true);this.errorEl=g.createChild({cls:"x-form-invalid-msgDetail"});this.errorEl.setStyle({width:"auto"})}var c=d;this.errorEl.update(c);if(Ext.isIE){this.errorEl.setLeft(this.el.getWidth()+3)}else{this.errorEl.setLeft(this.el.getWidth()+20)}this.errorEl.show();this.on("resize",function(){this.errorEl.alignTo(this.el,"tl-tr",[2,0])},this);if(b){var e=this.errorEl.id+"_detailsTip";var i=this.errorEl.createChild({id:e,cls:"x-form-invalid-msgDetail-more"});i.update("&nbsp;&nbsp;");Ext.form.Field.msgFx[this.msgFx].show(i,this);var h=new Ext.ToolTip({target:e,html:b,title:"Error Details",autoHide:true,closable:true,header:true,width:200})}break;case"sideDetails":var f=d;this.validateFieldEmpty();if(Ext.isEmpty(b)){if(b===undefined){if(this.isFieldEmpty){f="Required"}else{f="Incorrect"}b=d}else{if(b===null){f=d}}}if(!this.errorIcon){var g=this.el.findParent(".x-form-element",5,true);this.errorIcon=g.createChild({cls:"x-form-invalid-icon"})}if(!this.errorTitle){var g=this.el.findParent(".x-form-element",5,true);this.errorTitle=g.createChild({html:f,cls:"x-form-invalid-msgDetail-noIcon"})}else{this.errorTitle.update(f)}this.alignErrorIcon();this.errorIcon.show();this.errorTitle.alignTo(Ext.get(this.errorIcon.id),"tl-tr",[4,0]);this.errorTitle.show();if(!Ext.isEmpty(b)){if(!this.errorDetailsIcon){var g=this.el.findParent(".x-form-element",5,true);this.errorDetailsIcon=g.createChild({cls:"uradix-form-invalid-details-icon"})}if(!this.isFieldEmpty){this.errorDetailsIcon.dom.qtip=b;this.errorDetailsIcon.dom.qclass="x-form-invalid-tip";this.errorDetailsIcon.alignTo(Ext.get(this.errorTitle.id),"tl-tr",[7,0]);this.errorDetailsIcon.show()}else{this.errorDetailsIcon.hide()}}this.on("resize",this.alignErrorIcon,this);break;default:var j=Ext.getDom(this.msgTarget);j.innerHTML=d;j.style.display=this.msgDisplay;break}this.fireEvent("invalid",this,d)},clearInvalid:function(){if(!this.rendered||this.preventMark){return}this.el.removeClass(this.invalidClass);switch(this.msgTarget){case"qtip":this.el.dom.qtip="";break;case"title":this.el.dom.title="";break;case"under":if(this.errorEl){Ext.form.Field.msgFx[this.msgFx].hide(this.errorEl,this)}break;case"side":if(this.errorIcon){this.errorIcon.dom.qtip="";this.errorIcon.hide();this.un("resize",this.alignErrorIcon,this)}break;case"sideWithDetails":if(this.errorEl){Ext.form.Field.msgFx[this.msgFx].hide(this.errorEl,this)}break;case"sideDetails":if(this.errorIcon){this.errorIcon.dom.qtip="";this.errorIcon.hide();this.un("resize",this.alignErrorIcon,this);if(this.errorTitle){this.errorTitle.hide()}if(this.errorDetailsIcon){this.errorDetailsIcon.hide()}}break;default:var a=Ext.getDom(this.msgTarget);a.innerHTML="";a.style.display="none";break}this.fireEvent("valid",this)},fireKey:function(a){if(((Ext.isIE&&a.type=="keydown")||a.type=="keypress")&&a.isSpecialKey()){this.fireEvent("specialkey",this,a)}else{this.fireEvent(a.type,this,a)}},initEvents:function(){this.el.on("focus",this.onFocus,this);this.el.on("blur",this.onBlur,this);this.el.on("keydown",this.fireKey,this);this.el.on("keypress",this.fireKey,this);this.el.on("keyup",this.fireKey,this);this.originalValue=this.getValue()}});Ext.override(Ext.layout.FormLayout,{getTemplateArgs:function(e){var b=!e.fieldLabel||e.hideLabel;var a=typeof e.help=="undefined"?false:e.help;var d=typeof e.helpHandler=="undefined"?false:e.helpHandler;var c=typeof e.allowBlankBasic=="undefined"?false:e.allowBlankBasic;return{id:e.id,label:e.fieldLabel,labelStyle:e.labelStyle||this.labelStyle||"",elementStyle:this.elementStyle||"",labelSeparator:b?"":(typeof e.labelSeparator=="undefined"?this.labelSeparator:e.labelSeparator),itemCls:(e.itemCls||this.container.itemCls||"")+(e.hideLabel?" x-hide-label":""),clearCls:e.clearCls||"x-form-clear-left",allowBlank:e.allowBlank,help:a,helpHandler:d,allowBlankBasic:c}}});Ext.layout.ContainerLayout.prototype.fieldTpl=(function(){var a=new Ext.XTemplate('<div class="x-form-item {itemCls}" tabIndex="-1">','<tpl if="(allowBlank == false)&&(help == true)">','<tpl if="(allowBlank == false)&&(allowBlankBasic == true)">','<table><tr><td><label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}',"</tpl>",'<tpl if="(allowBlank == false)&&(allowBlankBasic == false)">','<table><tr><td><label for="{id}" style="{labelStyle}" class="x-form-item-label"><b>* {label}</b>{labelSeparator}',"</tpl>","</label>",'</td><td><div class="uradix-form-help-details-icon" style="visibility: visible;" onclick="{helpHandler};" title="More Information" onmouseover="document.body.style.cursor=\'pointer\';" onmouseout="document.body.style.cursor=\'default\';"></div></td></tr></table>',"</tpl>",'<tpl if="(allowBlank == false)&&(help == false)">','<tpl if="(allowBlank == false)&&(allowBlankBasic == true)">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}',"</label>","</tpl>",'<tpl if="(allowBlank == false)&&(allowBlankBasic == false)">','<label for="{id}" style="{labelStyle}" class="x-form-item-label"><b>* {label}</b>{labelSeparator}',"</label>","</tpl>","</tpl>",'<tpl if="(((allowBlank === undefined) || (allowBlank === null) || (allowBlank == true)) && (help == true))">','<table><tr><td><label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}',"</label>",'</td><td><div class="uradix-form-help-details-icon" style="visibility: visible;" onclick="{helpHandler};" title="More Information" onmouseover="document.body.style.cursor=\'pointer\';" onmouseout="document.body.style.cursor=\'default\';"></div></td></tr></table>',"</tpl>",'<tpl if="(((allowBlank === undefined) || (allowBlank === null) || (allowBlank == true)) && (help == false))">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}</label>',"</tpl>",'<div class="x-form-element" id="x-form-el-{id}" style="{elementStyle}">','</div><div class="{clearCls}"></div>',"</div>");a.disableFormats=true;return a.compile()})();Ext.form.Field.prototype.validationEvent="blur";Ext.ux.ResizableComboBox=Ext.extend(Ext.form.ComboBox,{initComponent:function(){Ext.ux.ResizableComboBox.superclass.initComponent.call(this);this.on("render",this.resizeToFitContent,this)},resizeToFitContent:function(){if(!this.elMetrics){this.elMetrics=Ext.util.TextMetrics.createInstance(this.getEl())}var a=this.elMetrics,d=0,c=this.el,b=this.getSize();this.store.each(function(e){var f=e.get(this.displayField);d=Math.max(d,a.getWidth(f))},this);if(c){d+=c.getBorderWidth("lr");d+=c.getPadding("lr")}if(this.trigger){d+=this.trigger.getWidth()}b.width=d;this.setSize(b);this.store.on({datachange:this.resizeToFitContent,add:this.resizeToFitContent,remove:this.resizeToFitContent,load:this.resizeToFitContent,update:this.resizeToFitContent,buffer:10,scope:this})}});Ext.reg("resizable-combo",Ext.ux.ResizableComboBox);Ext.tree.TreePanel.prototype.getUnchecked=function(b,c){c=c||this.root;var d=[];var e=function(){if((this.attributes.checked!=undefined)&&(this.attributes.checked==false)){d.push(!b?this:(b=="id"?this.id:this.attributes[b]))}};c.cascade(e);return d};Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:30000,callbackParam:"callback",nocache:true,doRequest:function(e,f,d,g,i,j,k){var c=Ext.urlEncode(Ext.apply(d,this.extraParams));var b=this.buildUrl(e,f);if(!b){throw new Ext.data.Api.Error("invalid-url",b)}b=Ext.urlAppend(b,c);if(this.nocache){b=Ext.urlAppend(b,"_dc="+(new Date().getTime()))}var a=++Ext.data.ScriptTagProxy.TRANS_ID;var l={id:a,action:e,cb:"stcCallback"+a,scriptId:"stcScript"+a,params:d,arg:k,url:b,callback:i,scope:j,reader:g};window[l.cb]=this.createCallback(e,f,l);b+=String.format("&{0}={1}","callback",this.callbackParam);if(this.autoAbort!==false){this.abort()}l.timeoutId=this.handleFailure.defer(this.timeout,this,[l]);var h=document.createElement("script");h.setAttribute("src",b);h.setAttribute("type","text/javascript");h.setAttribute("id",l.scriptId);this.head.appendChild(h);this.trans=l},createCallback:function(d,b,c){var a=this;return function(e){a.trans=false;a.destroyTrans(c,true);if(d===Ext.data.Api.actions.read){a.onRead.call(a,d,c,e)}else{a.onWrite.call(a,d,c,e,b)}}},onRead:function(d,c,b){var a;try{a=c.reader.readRecords(b)}catch(f){this.fireEvent("loadexception",this,c,b,f);this.fireEvent("exception",this,"response",d,c,b,f);c.callback.call(c.scope||window,null,c.arg,false);return}if(a.success===false){this.fireEvent("loadexception",this,c,b);this.fireEvent("exception",this,"remote",d,c,b,null)}else{this.fireEvent("load",this,b,c.arg)}c.callback.call(c.scope||window,a,c.arg,a.success)},onWrite:function(g,f,c,b){var a=f.reader;try{var d=a.readResponse(g,c)}catch(h){this.fireEvent("exception",this,"response",g,f,d,h);f.callback.call(f.scope||window,null,d,false);return}if(!d.success===true){this.fireEvent("exception",this,"remote",g,f,d,b);f.callback.call(f.scope||window,null,d,false);return}this.fireEvent("write",this,g,d.data,d,b,f.arg);f.callback.call(f.scope||window,d.data,d,true)},isLoading:function(){return this.trans?true:false},abort:function(){if(this.isLoading()){this.destroyTrans(this.trans)}},destroyTrans:function(b,a){this.head.removeChild(document.getElementById(b.scriptId));clearTimeout(b.timeoutId);if(a){window[b.cb]=undefined;try{delete window[b.cb]}catch(c){}}else{window[b.cb]=function(){window[b.cb]=undefined;try{delete window[b.cb]}catch(d){}}}},handleFailure:function(a){this.trans=false;this.destroyTrans(a,false);if(a.action===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,null,a.arg)}this.fireEvent("exception",this,"response",a.action,{response:null,options:a.arg});try{a.callback.call(a.scope||window,null,a.arg,false)}catch(b){}},destroy:function(){this.abort();Ext.data.ScriptTagProxy.superclass.destroy.call(this)}});