function uRadixClientMessageHandler(){this.DEFAULT_STATUS_DOM_ID="uradix_statusbox";this.DEFAULT_STATUS_SUCC_DOM_ID="uradix_statusboxsuccess";this.DEFAULT_STATUS_SUCCMSG_DOM_ID="uradix_statusboxsuccessmsg";this.DEFAULT_STATUS_ERR_DOM_ID="uradix_statusboxerror";this.DEFAULT_STATUS_ERRMSG_DOM_ID="uradix_statusboxerrormsg";this.DEFAULT_STATUS_WARN_DOM_ID="uradix_statusboxwarn";this.DEFAULT_STATUS_WARNMSG_DOM_ID="uradix_statusboxwarnmsg";this.setAdvice=function(g,i){var l;Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);if(g){l=Ext.get(this.DEFAULT_STATUS_SUCCMSG_DOM_ID);if(i){for(var j=0,h=i.length;j<h;j++){var k=i[j];if(l){l.update(k.description,true)}}}Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY).originalDisplay="block";Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisible(true);Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).dom.style.display="block"}else{l=Ext.get(this.DEFAULT_STATUS_ERRMSG_DOM_ID);if(i){for(var j=0,h=i.length;j<h;j++){var k=i[j];if(l){l.update(k.description,true)}}}Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY).originalDisplay="block";Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisible(true);Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).dom.style.display="block"}};this.setWarning=function(c){var d;Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY);d=Ext.get(this.DEFAULT_STATUS_WARNMSG_DOM_ID);if(c){if(d){d.update(c.description,true)}}Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisibilityMode(Ext.Element.DISPLAY).originalDisplay="block";Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).dom.style.display="block"};this.setMessage=function(g,i){var l="";if(i){for(var k=0,h=i.length;k<h;k++){var j=i[k];l=l+"<b>"+j.msg+"</b><br>"+j.msgDetail+"<br><br>"}}Ext.Msg.show({title:"General Errors",msg:l,width:300,buttons:Ext.MessageBox.OK});return};this.setMessageAsTabs=function(h,k){var j=new Ext.Window({title:"General Messages",draggable:true,layout:"fit",shadow:true,width:400,height:250,plain:true,modal:true,items:new Ext.TabPanel({id:"genMsgTabPanel",autoTabs:true,activeTab:0,deferredRender:false,border:false}),buttons:[{text:"Close",handler:function(){j.hide()}}]});var n=Ext.getCmp("genMsgTabPanel");if(k){for(var m=0,i=k.length;m<i;m++){var l=k[m];if(m===0){n.add({title:l.msg,html:l.msgDetail,collapsible:true,closable:false,border:false,autoScroll:true})}else{n.add({title:l.msg,html:l.msgDetail,collapsible:true,closable:true,border:false,autoScroll:true})}}}n.doLayout();j.show(this);return};this.setAlert=function(e,d){var f="Error Encountered";if(e){f="Success"}Ext.Msg.alert(f,d);return};this.fireEvent=function(d,c){return};this.initializeStatusDOM=function(c){if((c===undefined)||(c===null)){c=this.DEFAULT_STATUS_DOM_ID}var d=new Ext.Template('<div id="{boxErr}" class="uradix-statuserror">',"<div>",'<table cellspacing="0" cellpadding="0" border="0">',"<tr>",'<td valign="middle"><div class="uradix-error-icon" style="visibility: visible;"></div></td>','<td width="10"></td>','<td><div id="{boxErrMsg}" class="uradix-statuserror-msg"></div></td>',"</tr>","</table>","</div>","</div>",'<div id="{boxSucc}" class="uradix-statussuccess">',"<div>",'<table cellspacing="0" cellpadding="0" border="0">',"<tr>",'<td valign="middle"><div class="uradix-success-icon" style="visibility: visible;"></div></td>','<td width="10"></td>','<td><div id="{boxSuccMsg}" class="uradix-statussuccess-msg"></div></td>',"</tr>","</table>","</div>","</div>",'<div id="{boxWarn}" class="uradix-statuswarn">',"<div>",'<table cellspacing="0" cellpadding="0" border="0">',"<tr>",'<td valign="middle"><div class="uradix-warning-icon" style="visibility: visible;"></div></td>','<td width="10"></td>','<td><div id="{boxWarnMsg}" class="uradix-statuswarn-msg"></div></td>',"</tr>","</table>","</div>","</div>");d.append(c,{boxErr:this.DEFAULT_STATUS_ERR_DOM_ID,boxErrMsg:this.DEFAULT_STATUS_ERRMSG_DOM_ID,boxSucc:this.DEFAULT_STATUS_SUCC_DOM_ID,boxSuccMsg:this.DEFAULT_STATUS_SUCCMSG_DOM_ID,boxWarn:this.DEFAULT_STATUS_WARN_DOM_ID,boxWarnMsg:this.DEFAULT_STATUS_WARNMSG_DOM_ID});this.setCookieAdvice();return};this.setCustomStatusDOM=function(c){var d=new Ext.XTemplate('<div id="{boxId}" class="uradix-statuswarn" style="display:block;">',"<div>",'<table cellspacing="0" cellpadding="0" border="0">',"<tr>",'<td valign="middle"><div class="uradix-warning-icon" style="visibility: visible;"></div></td>','<td width="10"></td>','<td><div class="uradix-statuswarn-msg">{boxMsg}</div></td>','<tpl if="boxCallBack">','<td width="10"></td>','<td><div class="uradix-form-help-details-icon" style="visibility: visible;" onclick="{boxCallBack}();" title="More Information" onmouseover="document.body.style.cursor=\'pointer\';" onmouseout="document.body.style.cursor=\'default\';"></div></td>',"</tpl>","</tr>","</table>","</div>","</div>");if(c.append){d.append(c.id,{boxId:c.boxId,boxMsg:c.boxMsg,boxCallBack:c.boxCallBack});return}else{return d.apply({boxId:c.boxId,boxMsg:c.boxMsg,boxCallBack:c.boxCallBack})}};this.setCookieAdvice=function(){try{var g=document.location.search;if(g.indexOf(uRadixCookieManager.MPI_COOKIE_PARAMETER)!=-1){var f=uRadixCookieManager.readCookie(uRadixCookieManager.MPI_COOKIE_NAME);var e=uRadixUtilities.jsonDecode(f);if(e){this.setAdvice(e.success,e.advices);uRadixCookieManager.eraseCookie(uRadixCookieManager.MPI_COOKIE_NAME)}}}catch(h){}};this.hideStatusBox=function(){Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).setVisible(false);Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).setVisible(false)};this.resizeStatusPanel=function(g,e,f){try{Ext.getCmp(g).setHeight(e);Ext.getCmp(f).doLayout()}catch(h){}};this.isVisible=function(){var b=false;if(!Ext.isEmpty(Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID))&&!Ext.isEmpty(Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID))&&!Ext.isEmpty(Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID))){if(Ext.get(this.DEFAULT_STATUS_ERR_DOM_ID).isVisible()||Ext.get(this.DEFAULT_STATUS_SUCC_DOM_ID).isVisible()||Ext.get(this.DEFAULT_STATUS_WARN_DOM_ID).isVisible()){b=true}else{b=false}}return b}}uRadixClientMessageHandler=new uRadixClientMessageHandler();Ext.namespace("uRadix.form.PhoneField");uRadix.form.PhoneField=Ext.extend(Ext.Panel,{initComponent:function(){var b="<div class='x-form-item' tabindex='-1'><label class='x-form-item-label' style='width: auto;'></label><div class='x-form-element' style='padding-left: 0pt;'>-</div><div class='x-form-clear-left'/></div>";Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:40,layout:"form",items:[{id:this.id+"_1",hideLabel:true,width:35,style:"padding-right:5px",maxLength:3,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"3"},xtype:"textfield",vtype:"numeric",listeners:{keyup:{fn:function(a){var d=Ext.get(a.id);if(d.dom.value.length===3){Ext.getCmp(this.id+"_2").focus()}},scope:this}}}]},{width:49,layout:"form",items:[{id:this.id+"_2",fieldLabel:"-",labelStyle:"padding-left:0px; padding-right:3px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:35,maxLength:3,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"3"},xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:5px;"},scope:this},keyup:{fn:function(a){var d=Ext.get(a.id);if(d.dom.value.length===3){Ext.getCmp(this.id+"_3").focus()}},scope:this}}}]},{width:60,layout:"form",items:[{id:this.id+"_3",fieldLabel:"-",labelStyle:"padding-left:0px; padding-right:4px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:50,maxLength:4,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"4"},xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]},{width:110,layout:"form",items:[{id:this.id+"Ext",fieldLabel:"x",labelStyle:"padding-left:3px; padding-right:0px; width:15px; margin-top:3px; float:left;",labelSeparator:"",width:50,xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(a){Ext.get("x-form-el-"+a.id).dom.style.cssText="padding-left:3px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.PhoneField.superclass.initComponent.call(this)}});Ext.reg("phonefield",uRadix.form.PhoneField);Ext.namespace("uRadix.form.SSNField");uRadix.form.SSNField=Ext.extend(Ext.Panel,{initComponent:function(){Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:40,layout:"form",items:[{id:this.id+"_1",hideLabel:true,width:35,style:"padding-right:5px",maxLength:3,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"3"},msgTarget:"qtip",xtype:"textfield",vtype:"numeric",listeners:{keyup:{fn:function(d){var c=Ext.get(d.id);if(c.dom.value.length===3){Ext.getCmp(this.id+"_2").focus()}},scope:this}}}]},{width:42,layout:"form",items:[{id:this.id+"_2",fieldLabel:"-",labelStyle:"padding-left:0px; padding-right:3px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:29,maxLength:2,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"2"},xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:5px;"},scope:this},keyup:{fn:function(d){var c=Ext.get(d.id);if(c.dom.value.length===2){Ext.getCmp(this.id+"_3").focus()}},scope:this}}}]},{width:60,layout:"form",items:[{id:this.id+"_3",fieldLabel:"-",labelStyle:"padding-left:0px; padding-right:4px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:50,maxLength:4,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"4"},xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.SSNField.superclass.initComponent.call(this)}});Ext.reg("ssnfield",uRadix.form.SSNField);Ext.namespace("uRadix.form.TINField");uRadix.form.TINField=Ext.extend(Ext.Panel,{initComponent:function(){Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:40,layout:"form",items:[{id:this.id+"_1",hideLabel:true,width:35,style:"padding-right:5px",maxLength:2,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"2"},msgTarget:"qtip",xtype:"textfield",vtype:"numeric",listeners:{keyup:{fn:function(d){var c=Ext.get(d.id);if(c.dom.value.length===2){Ext.getCmp(this.id+"_2").focus()}},scope:this}}}]},{width:80,layout:"form",items:[{id:this.id+"_2",fieldLabel:"-",labelStyle:"padding-left:0px; padding-right:3px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:65,maxLength:7,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"7"},xtype:"textfield",vtype:"numeric",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.TINField.superclass.initComponent.call(this)}});Ext.reg("tinfield",uRadix.form.TINField);Ext.namespace("uRadix.form.DOBField");uRadix.form.DOBField=Ext.extend(Ext.Panel,{initComponent:function(){Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:37,layout:"form",items:[{id:this.id+"_1",hideLabel:true,width:32,style:"padding-right:5px",maxLength:2,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"2"},xtype:"textfield",vtype:"numeric",emptyText:"mm",listeners:{keyup:{fn:function(d){var c=Ext.get(d.id);if(c.dom.value.length===2){Ext.getCmp(this.id+"_2").focus()}},scope:this}}}]},{width:42,layout:"form",items:[{id:this.id+"_2",fieldLabel:"/",labelStyle:"padding-left:0px; padding-right:3px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:29,maxLength:2,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"2"},xtype:"textfield",vtype:"numeric",emptyText:"dd",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:5px;"},scope:this},keyup:{fn:function(d){var c=Ext.get(d.id);if(c.dom.value.length===2){Ext.getCmp(this.id+"_3").focus()}},scope:this}}}]},{width:60,layout:"form",items:[{id:this.id+"_3",fieldLabel:"/",labelStyle:"padding-left:0px; padding-right:4px; width:5px; margin-top:3px; float:left;",labelSeparator:"",width:50,maxLength:4,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"4"},xtype:"textfield",vtype:"numeric",emptyText:"yyyy",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.DOBField.superclass.initComponent.call(this)}});Ext.reg("dobfield",uRadix.form.DOBField);Ext.namespace("uRadix.form.ShortNameField");uRadix.form.ShortNameField=Ext.extend(Ext.Panel,{initComponent:function(){Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:74,layout:"form",items:[{id:this.id+"_1",hideLabel:true,width:70,style:"padding-right:5px",xtype:"textfield",emptyText:"first name"}]},{width:22,layout:"form",items:[{id:this.id+"_2",fieldLabel:"",labelStyle:"padding-left:0px; padding-right:0px; width:0px;",labelSeparator:"",width:17,maxLength:1,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"1"},xtype:"textfield",emptyText:"i",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:3px;"},scope:this},keyup:{fn:function(d){var c=Ext.get(d.id);if(c.dom.value.length===1){Ext.getCmp(this.id+"_3").focus()}},scope:this}}}]},{width:180,layout:"form",items:[{id:this.id+"_3",fieldLabel:"",labelStyle:"padding-left:0px; padding-right:0px; width:0px;",labelSeparator:"",width:70,xtype:"textfield",emptyText:"last name",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.ShortNameField.superclass.initComponent.call(this)}});Ext.reg("shortnamefield",uRadix.form.ShortNameField);Ext.namespace("uRadix.form.LongNameField");uRadix.form.LongNameField=Ext.extend(Ext.Panel,{initComponent:function(){Ext.apply(this,{layout:"column",autoWidth:true,items:[{width:180,layout:"form",items:[{id:this.id+"_1",fieldLabel:this.fieldLabel,width:70,style:"padding-right:5px",xtype:"textfield",emptyText:"first name"}]},{width:22,layout:"form",items:[{id:this.id+"_2",fieldLabel:"",labelStyle:"padding-left:0px; padding-right:0px; width:0px;",labelSeparator:"",width:17,maxLength:1,autoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off",maxlength:"1"},xtype:"textfield",emptyText:"i",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:3px;"},scope:this},keyup:{fn:function(d){var c=Ext.get(d.id);if(c.dom.value.length===1){Ext.getCmp(this.id+"_3").focus()}},scope:this}}}]},{width:180,layout:"form",items:[{id:this.id+"_3",fieldLabel:"",labelStyle:"padding-left:0px; padding-right:0px; width:0px;",labelSeparator:"",width:70,xtype:"textfield",emptyText:"last name",listeners:{beforerender:{fn:function(b){Ext.get("x-form-el-"+b.id).dom.style.cssText="padding-left:5px;"},scope:this}}}]}]});Ext.apply(this.initialConfig,{layout:this.layout,items:this.items});uRadix.form.ShortNameField.superclass.initComponent.call(this)}});Ext.reg("longnamefield",uRadix.form.LongNameField);Ext.namespace("uRadix.form");uRadix.form.FormPanel=Ext.extend(Ext.form.FormPanel,{initComponent:function(){Ext.apply(this,{buttonAlign:"right",errorReader:new Ext.data.JsonReader({root:"messages.inputFields",successProperty:"status.success"},[{name:"code",mapping:"typeCD"},{name:"ids",mapping:"fieldID"},{name:"msg",mapping:"title"},{name:"msgDetail",mapping:"description"}]),adviceReader:new Ext.data.JsonReader({root:"advice",successProperty:"status.success"},[{name:"code",mapping:"adviceCD"},{name:"name",mapping:"name"},{name:"description",mapping:"description"}]),messageReader:new Ext.data.JsonReader({root:"messages.general"},[{name:"code",mapping:"typeCD"},{name:"msg",mapping:"title"},{name:"msgDetail",mapping:"description"}]),reader:new Ext.data.JsonReader({root:"data",successProperty:"status.success"},[{name:"id",mapping:"id"},{name:"value",mapping:"value"}])});Ext.apply(this.initialConfig,{errorReader:this.errorReader,adviceReader:this.adviceReader,messageReader:this.messageReader,reader:this.reader,buttonAlign:this.buttonAlign});this.addEvents("uradix_enterkey");this.keys=[{key:13,scope:this,fn:function(d,c){this.fireEvent("uradix_enterkey",this,c)}}];uRadix.form.FormPanel.superclass.initComponent.call(this,arguments)}});Ext.reg("uRadix.form.FormPanel",uRadix.form.FormPanel);Ext.override(Ext.form.Action.Submit,{handleResponse:function(x){var F=[];var n=[];var w=[];var D=[];var G;var y=Ext.decode(x.responseText);G=y.status.success;if(this.form.errorReader){try{var i=this.form.errorReader.read(x);G=i.success;if(!G){if(i.records){for(var r=0,e=i.records.length;r<e;r++){var E=i.records[r];for(var B=0,C=E.data.ids.length;B<C;B++){var v={id:E.data.ids[B]};if(B==E.data.ids.length-1){v={id:E.data.ids[B],msg:E.data.msg,msgDetail:E.data.msgDetail}}F.push(v)}}}}}catch(H){}if(F.length<1){F=null}if(F==null&&this.form.reader){try{rsSucc=this.form.reader.read(x);G=rsSucc.success;if(rsSucc.records){for(var r=0,e=rsSucc.records.length;r<e;r++){var E=rsSucc.records[r];n[r]=E.data}}}catch(H){G=y.status.success}}if(this.form.messageReader){try{var z=this.form.messageReader.read(x);if(z.records){for(var r=0,e=z.records.length;r<e;r++){var E=z.records[r];w[r]=E.data}}}catch(H){}if(w.length<1){w=null}}if(this.form.adviceReader){try{var A=this.form.adviceReader.read(x);G=A.success;if(A.records){for(var r=0,e=A.records.length;r<e;r++){var E=A.records[r];D[r]=E.data}}}catch(H){}if(D.length<1){D=null}}return{success:G,data:n,errors:F,advices:D,messages:w}}return Ext.decode(x.responseText)},success:function(c){var d=this.processResponse(c);if(d===true||d.success){if(!this.options.disableAllStatusBinding){if(this.options.isRedirect){uRadixCookieManager.createCookie(uRadixCookieManager.MPI_COOKIE_NAME,uRadixUtilities.jsonEncode(d),1)}else{if(d.advices){uRadixClientMessageHandler.setAdvice(true,d.advices)}if(d.messages){if(this.options.isMessageIgnore!=undefined&&(!this.options.isMessageIgnore)){uRadixClientMessageHandler.setMessage(true,d.messages)}}}}this.form.afterAction(this,true);return}if(!d.success){if(d.errors){this.form.markInvalid(d.errors);this.failureType=Ext.form.Action.SERVER_INVALID}if(!this.options.disableAllStatusBinding&&!this.options.disableErrorStatusBinding){if(d.advices){uRadixClientMessageHandler.setAdvice(false,d.advices)}if(d.messages){if(this.options.isMessageIgnore!=undefined&&(!this.options.isMessageIgnore)){uRadixClientMessageHandler.setMessage(false,d.messages)}}}}this.form.afterAction(this,false)}});Ext.override(Ext.form.BasicForm,{markInvalid:function(k){if(Ext.isArray(k)){for(var o=0,i=k.length;o<i;o++){var p=k[o];var n=this.findField(p.id);if(n){var f=null;if(p.msgDetail){f=p.msgDetail}n.markInvalid(p.msg,f)}}}else{var m,l;for(l in k){if(typeof k[l]!="function"&&(m=this.findField(l))){m.markInvalid(k[l])}}}return this}});Ext.override(Ext.form.Field,{isFieldEmpty:undefined,validateFieldEmpty:function(){var b=this.getValue()||this.processValue(this.getRawValue());if(!this.allowBlank&&(b===undefined||b.length<1||b===this.emptyText)){this.isFieldEmpty=true}else{this.isFieldEmpty=false}},markInvalid:function(q,s){if(!this.rendered||this.preventMark){return}this.el.addClass(this.invalidClass);switch(this.msgTarget){case"qtip":q=q||this.invalidText;this.el.dom.qtip=q;this.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable()}break;case"title":q=q||this.invalidText;this.el.dom.title=q;break;case"under":var o=q;this.validateFieldEmpty();if(Ext.isEmpty(s)){if(s===undefined){if(this.isFieldEmpty){o="Required"}else{o="Incorrect"}s=q}else{if(s===null){o=q}}}if(!this.errorEl){var n=this.el.findParent(".x-form-element",5,true);this.errorEl=n.createChild({})}var t=Ext.id();if(this.isFieldEmpty){this.errorEl.update("<span class='uradix-form-invalid-icon-under'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:11px;'>"+o+"</span>")}else{this.errorEl.update("<span class='uradix-form-invalid-icon-under'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:11px;'>"+o+"</span>&nbsp;</span><span id='"+t+"' class='uradix-form-invalid-details-icon-under' onmouseover=\"document.body.style.cursor='default';\" onmouseout=\"document.body.style.cursor='default';\">&nbsp;&nbsp;&nbsp;&nbsp;</span>")}Ext.form.Field.msgFx[this.msgFx].show(this.errorEl,this);this.errorUnder=Ext.get(t);if(this.errorUnder){this.errorUnder.dom.qtip=s||q;this.errorUnder.dom.qclass="x-form-invalid-tip";this.errorUnder.show()}break;case"side":q=q||this.invalidText;if(!this.errorIcon){var n=this.el.findParent(".x-form-element",5,true);this.errorIcon=n.createChild({cls:"x-form-invalid-icon"})}this.alignErrorIcon();this.errorIcon.dom.qtip=q;this.errorIcon.dom.qclass="x-form-invalid-tip";this.errorIcon.show();this.on("resize",this.alignErrorIcon,this);break;case"sideWithDetails":q=q||this.invalidText;if(!this.errorEl){var n=this.el.findParent(".x-form-element",5,true);this.errorEl=n.createChild({cls:"x-form-invalid-msgDetail"});this.errorEl.setStyle({width:"auto"})}var r=q;this.errorEl.update(r);if(Ext.isIE){this.errorEl.setLeft(this.el.getWidth()+3)}else{this.errorEl.setLeft(this.el.getWidth()+20)}this.errorEl.show();this.on("resize",function(){this.errorEl.alignTo(this.el,"tl-tr",[2,0])},this);if(s){var p=this.errorEl.id+"_detailsTip";var l=this.errorEl.createChild({id:p,cls:"x-form-invalid-msgDetail-more"});l.update("&nbsp;&nbsp;");Ext.form.Field.msgFx[this.msgFx].show(l,this);var m=new Ext.ToolTip({target:p,html:s,title:"Error Details",autoHide:true,closable:true,header:true,width:200})}break;case"sideDetails":var o=q;this.validateFieldEmpty();if(Ext.isEmpty(s)){if(s===undefined){if(this.isFieldEmpty){o="Required"}else{o="Incorrect"}s=q}else{if(s===null){o=q}}}if(!this.errorIcon){var n=this.el.findParent(".x-form-element",5,true);this.errorIcon=n.createChild({cls:"x-form-invalid-icon"})}if(!this.errorTitle){var n=this.el.findParent(".x-form-element",5,true);this.errorTitle=n.createChild({html:o,cls:"x-form-invalid-msgDetail-noIcon"})}else{this.errorTitle.update(o)}this.alignErrorIcon();this.errorIcon.show();this.errorTitle.alignTo(Ext.get(this.errorIcon.id),"tl-tr",[4,0]);this.errorTitle.show();if(!Ext.isEmpty(s)){if(!this.errorDetailsIcon){var n=this.el.findParent(".x-form-element",5,true);this.errorDetailsIcon=n.createChild({cls:"uradix-form-invalid-details-icon"})}if(!this.isFieldEmpty){this.errorDetailsIcon.dom.qtip=s;this.errorDetailsIcon.dom.qclass="x-form-invalid-tip";this.errorDetailsIcon.alignTo(Ext.get(this.errorTitle.id),"tl-tr",[7,0]);this.errorDetailsIcon.show()}else{this.errorDetailsIcon.hide()}}this.on("resize",this.alignErrorIcon,this);break;default:var k=Ext.getDom(this.msgTarget);k.innerHTML=q;k.style.display=this.msgDisplay;break}this.fireEvent("invalid",this,q)},clearInvalid:function(){if(!this.rendered||this.preventMark){return}this.el.removeClass(this.invalidClass);switch(this.msgTarget){case"qtip":this.el.dom.qtip="";break;case"title":this.el.dom.title="";break;case"under":if(this.errorEl){Ext.form.Field.msgFx[this.msgFx].hide(this.errorEl,this)}break;case"side":if(this.errorIcon){this.errorIcon.dom.qtip="";this.errorIcon.hide();this.un("resize",this.alignErrorIcon,this)}break;case"sideWithDetails":if(this.errorEl){Ext.form.Field.msgFx[this.msgFx].hide(this.errorEl,this)}break;case"sideDetails":if(this.errorIcon){this.errorIcon.dom.qtip="";this.errorIcon.hide();this.un("resize",this.alignErrorIcon,this);if(this.errorTitle){this.errorTitle.hide()}if(this.errorDetailsIcon){this.errorDetailsIcon.hide()}}break;default:var b=Ext.getDom(this.msgTarget);b.innerHTML="";b.style.display="none";break}this.fireEvent("valid",this)},fireKey:function(b){if(((Ext.isIE&&b.type=="keydown")||b.type=="keypress")&&b.isSpecialKey()){this.fireEvent("specialkey",this,b)}else{this.fireEvent(b.type,this,b)}},initEvents:function(){this.el.on("focus",this.onFocus,this);this.el.on("blur",this.onBlur,this);this.el.on("keydown",this.fireKey,this);this.el.on("keypress",this.fireKey,this);this.el.on("keyup",this.fireKey,this);this.originalValue=this.getValue()}});Ext.override(Ext.layout.FormLayout,{getTemplateArgs:function(h){var f=!h.fieldLabel||h.hideLabel;var g=typeof h.help=="undefined"?false:h.help;var i=typeof h.helpHandler=="undefined"?false:h.helpHandler;var j=typeof h.allowBlankBasic=="undefined"?false:h.allowBlankBasic;return{id:h.id,label:h.fieldLabel,labelStyle:h.labelStyle||this.labelStyle||"",elementStyle:this.elementStyle||"",labelSeparator:f?"":(typeof h.labelSeparator=="undefined"?this.labelSeparator:h.labelSeparator),itemCls:(h.itemCls||this.container.itemCls||"")+(h.hideLabel?" x-hide-label":""),clearCls:h.clearCls||"x-form-clear-left",allowBlank:h.allowBlank,help:g,helpHandler:i,allowBlankBasic:j}}});Ext.layout.ContainerLayout.prototype.fieldTpl=(function(){var b=new Ext.XTemplate('<div class="x-form-item {itemCls}" tabIndex="-1">','<tpl if="(allowBlank == false)&&(help == true)">','<tpl if="(allowBlank == false)&&(allowBlankBasic == true)">','<table><tr><td><label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}',"</tpl>",'<tpl if="(allowBlank == false)&&(allowBlankBasic == false)">','<table><tr><td><label for="{id}" style="{labelStyle}" class="x-form-item-label"><b>* {label}</b>{labelSeparator}',"</tpl>","</label>",'</td><td><div class="uradix-form-help-details-icon" style="visibility: visible;" onclick="{helpHandler};" title="More Information" onmouseover="document.body.style.cursor=\'pointer\';" onmouseout="document.body.style.cursor=\'default\';"></div></td></tr></table>',"</tpl>",'<tpl if="(allowBlank == false)&&(help == false)">','<tpl if="(allowBlank == false)&&(allowBlankBasic == true)">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}',"</label>","</tpl>",'<tpl if="(allowBlank == false)&&(allowBlankBasic == false)">','<label for="{id}" style="{labelStyle}" class="x-form-item-label"><b>* {label}</b>{labelSeparator}',"</label>","</tpl>","</tpl>",'<tpl if="(((allowBlank === undefined) || (allowBlank === null) || (allowBlank == true)) && (help == true))">','<table><tr><td><label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}',"</label>",'</td><td><div class="uradix-form-help-details-icon" style="visibility: visible;" onclick="{helpHandler};" title="More Information" onmouseover="document.body.style.cursor=\'pointer\';" onmouseout="document.body.style.cursor=\'default\';"></div></td></tr></table>',"</tpl>",'<tpl if="(((allowBlank === undefined) || (allowBlank === null) || (allowBlank == true)) && (help == false))">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}</label>',"</tpl>",'<div class="x-form-element" id="x-form-el-{id}" style="{elementStyle}">','</div><div class="{clearCls}"></div>',"</div>");b.disableFormats=true;return b.compile()})();Ext.form.Field.prototype.validationEvent="blur";Ext.ux.ResizableComboBox=Ext.extend(Ext.form.ComboBox,{initComponent:function(){Ext.ux.ResizableComboBox.superclass.initComponent.call(this);this.on("render",this.resizeToFitContent,this)},resizeToFitContent:function(){if(!this.elMetrics){this.elMetrics=Ext.util.TextMetrics.createInstance(this.getEl())}var f=this.elMetrics,g=0,h=this.el,e=this.getSize();this.store.each(function(b){var a=b.get(this.displayField);g=Math.max(g,f.getWidth(a))},this);if(h){g+=h.getBorderWidth("lr");g+=h.getPadding("lr")}if(this.trigger){g+=this.trigger.getWidth()}e.width=g;this.setSize(e);this.store.on({datachange:this.resizeToFitContent,add:this.resizeToFitContent,remove:this.resizeToFitContent,load:this.resizeToFitContent,update:this.resizeToFitContent,buffer:10,scope:this})}});Ext.reg("resizable-combo",Ext.ux.ResizableComboBox);Ext.tree.TreePanel.prototype.getUnchecked=function(a,h){h=h||this.root;var g=[];var f=function(){if((this.attributes.checked!=undefined)&&(this.attributes.checked==false)){g.push(!a?this:(a=="id"?this.id:this.attributes[a]))}};h.cascade(f);return g};Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:30000,callbackParam:"callback",nocache:true,doRequest:function(t,s,u,r,p,o,n){var v=Ext.urlEncode(Ext.apply(u,this.extraParams));var w=this.buildUrl(t,s);if(!w){throw new Ext.data.Api.Error("invalid-url",w)}w=Ext.urlAppend(w,v);if(this.nocache){w=Ext.urlAppend(w,"_dc="+(new Date().getTime()))}var x=++Ext.data.ScriptTagProxy.TRANS_ID;var m={id:x,action:t,cb:"stcCallback"+x,scriptId:"stcScript"+x,params:u,arg:n,url:w,callback:p,scope:o,reader:r};window[m.cb]=this.createCallback(t,s,m);w+=String.format("&{0}={1}","callback",this.callbackParam);if(this.autoAbort!==false){this.abort()}m.timeoutId=this.handleFailure.defer(this.timeout,this,[m]);var q=document.createElement("script");q.setAttribute("src",w);q.setAttribute("type","text/javascript");q.setAttribute("id",m.scriptId);this.head.appendChild(q);this.trans=m},createCallback:function(g,e,h){var f=this;return function(a){f.trans=false;f.destroyTrans(h,true);if(g===Ext.data.Api.actions.read){f.onRead.call(f,g,h,a)}else{f.onWrite.call(f,g,h,a,e)}}},onRead:function(i,j,e){var g;try{g=j.reader.readRecords(e)}catch(h){this.fireEvent("loadexception",this,j,e,h);this.fireEvent("exception",this,"response",i,j,e,h);j.callback.call(j.scope||window,null,j.arg,false);return}if(g.success===false){this.fireEvent("loadexception",this,j,e);this.fireEvent("exception",this,"remote",i,j,e,null)}else{this.fireEvent("load",this,e,j.arg)}j.callback.call(j.scope||window,g,j.arg,g.success)},onWrite:function(k,l,n,e){var i=l.reader;try{var m=i.readResponse(k,n)}catch(j){this.fireEvent("exception",this,"response",k,l,m,j);l.callback.call(l.scope||window,null,m,false);return}if(!m.success===true){this.fireEvent("exception",this,"remote",k,l,m,e);l.callback.call(l.scope||window,null,m,false);return}this.fireEvent("write",this,k,m.data,m,e,l.arg);l.callback.call(l.scope||window,m.data,m,true)},isLoading:function(){return this.trans?true:false},abort:function(){if(this.isLoading()){this.destroyTrans(this.trans)}},destroyTrans:function(d,e){this.head.removeChild(document.getElementById(d.scriptId));clearTimeout(d.timeoutId);if(e){window[d.cb]=undefined;try{delete window[d.cb]}catch(f){}}else{window[d.cb]=function(){window[d.cb]=undefined;try{delete window[d.cb]}catch(a){}}}},handleFailure:function(d){this.trans=false;this.destroyTrans(d,false);if(d.action===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,null,d.arg)}this.fireEvent("exception",this,"response",d.action,{response:null,options:d.arg});try{d.callback.call(d.scope||window,null,d.arg,false)}catch(c){}},destroy:function(){this.abort();Ext.data.ScriptTagProxy.superclass.destroy.call(this)}});Ext.namespace("uradix.fileupload.ux.panel.AttachFileGridPanel");uradix.fileupload.ux.panel.AttachFileGridPanel=Ext.extend(Ext.grid.GridPanel,{constructor:function(d){var c={cls:"idxm-grid",frame:false,height:125,width:390,autoScroll:true,enableColumnMove:false,enableColumnResize:false,hidden:true,colModel:new Ext.grid.ColumnModel({columns:[{id:"addedOnDate",header:"Added On",sortable:true,dataIndex:"addedOnDate"},{header:"Name",sortable:true,dataIndex:"fileName"},{header:"Added By",sortable:true,dataIndex:"addedByUser"},{header:"Size",sortable:true,dataIndex:"fileSize"}],defaults:{sortable:true,menuDisabled:true}}),stripeRows:true,viewConfig:{rowHeight:25,scrollOffset:0,autoFill:true,forceFit:true},store:{reader:new Ext.data.JsonReader({root:"searchList",fields:["addedOnDate","fileName","addedByUser","fileSize"]}),data:{searchList:[]}},listeners:{rowdblclick:function(e,g,b){var a=e.getStore().getAt(g)}}};Ext.apply(this,d,c);uradix.fileupload.ux.panel.AttachFileGridPanel.superclass.constructor.call(this,d)}});Ext.reg("uradix.fileupload.ux.panel.AttachFileGridPanel",uradix.fileupload.ux.panel.AttachFileGridPanel);Ext.namespace("uradix.fileupload.windows.AttachFileWindow");uradix.fileupload.windows.AttachFileWindow=Ext.extend(Object,{UPLOADFORM:null,FILEFIELDID:null,UPLOADFORMHANDLER:null,DEFAULTSRESULTPANEL:null,ATTACHFILEGRIDPANEL:null,ATTACHFILESTORE:null,ATTACHFILECOLUMMODEL:null,UPLOADCALLBACK:null,UPLOADWINDOW:null,UPLOADWINDOWCALLBACK:null,CONN:new Ext.data.Connection(),CASEURL:undefined,ADDEDBY:undefined,ONADDCALLBACK:null,ONCLOSECALLBACK:null,CASENUMBER:null,SHOWWINDOW:function(e){this.CASENUMBER=e.caseNumber;this.UPLOADWINDOW.setTitle("Upload File(s) For Service Case #: "+e.caseNumber);this.UPLOADWINDOW.show();var d=this.ATTACHFILEGRIDPANEL.getStore();d.filter("caseNumber",e.caseNumber);var f=d.getCount();if(f){this.DEFAULTSRESULTPANEL.hide();this.ATTACHFILEGRIDPANEL.show()}else{this.DEFAULTSRESULTPANEL.show()}this.UPLOADFORM.getForm().reset()},constructor:function(config){var thisObj=this;thisObj.FILEFIELDID=((config.filefieldid)&&(config.filefieldid!=undefined))?config.filefieldid:"uradix-fileupload-fileuploadfield";thisObj.UPLOADFORMHANDLER=config.uploadformhandler;thisObj.CASEURL=((config.caseurl)&&(config.caseurl!=undefined))?config.caseurl:undefined;thisObj.ADDEDBY=((config.addedByName)&&(config.addedByName!=undefined))?config.addedByName:undefined;thisObj.ONADDCALLBACK=((config.onAddCallBackFunction)&&(config.onAddCallBackFunction!=undefined))?config.onAddCallBackFunction:undefined;thisObj.ONCLOSECALLBACK=((config.onCloseCallBackFunction)&&(config.onCloseCallBackFunction!=undefined))?config.onCloseCallBackFunction:undefined;this.UPLOADFORM=new uRadix.form.FormPanel({frame:true,labelWidth:50,fileUpload:true,defaults:{anchor:"95%",allowBlank:false},items:[{xtype:"hidden",id:config.userid,name:config.userid,value:config.useridvalue},{xtype:"hidden",id:config.appid,name:config.appid,value:config.appidvalue},{xtype:"hidden",id:config.tokenlistid,name:config.tokenlistid,value:config.tokenlistidvalue},{xtype:"hidden",id:config.credentialuserid,name:config.credentialuserid,value:config.credentialuseridvalue},{xtype:"hidden",id:config.filetypeid,name:config.filetypeid,value:config.filetypeidvalue},{xtype:"hidden",id:config.credentialsamltokenid,name:config.credentialsamltokenid,value:config.credentialsamltokenidvalue},{xtype:"fileuploadfield",emptyText:"Select a file",width:200,fieldLabel:"File",id:thisObj.FILEFIELDID,name:thisObj.FILEFIELDID,msgTarget:"under",buttonText:"",buttonCfg:{iconCls:"upload-icon"}}],buttons:[{text:"Upload",handler:thisObj.UPLOADFORMHANDLER}]});var UPLOADFORM=this.UPLOADFORM;this.DEFAULTSRESULTPANEL=new Ext.Panel({border:false,html:"<center><BR><BR><BR>Please Attach Files</center>"});this.ATTACHFILEGRIDPANEL=new uradix.fileupload.ux.panel.AttachFileGridPanel({});this.ATTACHFILESTORE=new Ext.data.Store({reader:new Ext.data.JsonReader({root:"searchList",fields:["caseNumber","fileUUID","addedOnDate","fileName","addedByUser","fileSize"]})});this.ATTACHFILECOLUMMODEL=new Ext.grid.ColumnModel({columns:[{header:"Added On",sortable:true,dataIndex:"addedOnDate"},{header:"Name",sortable:true,dataIndex:"fileName"},{header:"Added By",sortable:true,dataIndex:"addedByUser"},{header:"Size",sortable:true,dataIndex:"fileSize",renderer:function(val){return Ext.util.Format.fileSize(val)}}],defaults:{sortable:true,menuDisabled:true}});this.UPLOADWINDOW=new Ext.Window({width:400,height:280,modal:true,autoScroll:true,resizable:false,layout:"border",closable:false,title:"Upload File(s)",items:[{region:"north",height:100,split:true,border:false,bodyBorder:false,layout:"fit",items:[thisObj.UPLOADFORM]},{region:"center",border:false,bodyBorder:false,layout:"fit",items:[thisObj.DEFAULTSRESULTPANEL,thisObj.ATTACHFILEGRIDPANEL]}],buttons:[{text:"OK",handler:function(){if(thisObj.ONCLOSECALLBACK){eval(thisObj.ONCLOSECALLBACK+"()")}thisObj.UPLOADWINDOW.hide()}}]});var UPLOADWINDOW=this.UPLOADWINDOW;this.UPLOADCALLBACK=function(response){thisObj.ATTACHFILEGRIDPANEL.reconfigure(thisObj.ATTACHFILESTORE,thisObj.ATTACHFILECOLUMMODEL);if(response.session){if(response.status.success){thisObj.DEFAULTSRESULTPANEL.hide();var gridStore=thisObj.ATTACHFILEGRIDPANEL.getStore();var newDate=new Date();newDate=newDate.format("m/d/Y");var fileRecord=new Ext.data.Record.create([{name:"caseNumber"},,{name:"addedOnDate"},{name:"fileName"},{name:"addedByUser"},{name:"fileSize"},{name:"fileUUID"}]);var fileDataRecord=new fileRecord({caseNumber:thisObj.CASENUMBER,addedOnDate:newDate,fileName:response.data.fileName,addedByUser:thisObj.ADDEDBY,fileSize:response.data.contentLength,fileUUID:response.data.fileUUID});if(thisObj.ONADDCALLBACK){eval(thisObj.ONADDCALLBACK+"(fileDataRecord)")}gridStore.add(fileDataRecord);thisObj.ATTACHFILEGRIDPANEL.show();try{var selectionModel=thisObj.ATTACHFILEGRIDPANEL.getSelectionModel();selectionModel.selectLastRow();thisObj.ATTACHFILEGRIDPANEL.getView().getRow(gridStore.getCount()-1).scrollIntoView()}catch(e){}thisObj.CONN.request({url:thisObj.CASEURL,method:"POST",params:{caseNumber:thisObj.CASENUMBER,fileUUID:response.data.fileUUID,fileName:response.data.fileName,fileSize:response.data.contentLength,fileTypeId:response.data.fileTypeId},success:function(form,action){},failure:function(){alert("Failed to relate File "+response.data.fileName+"to this Case")}});thisObj.UPLOADFORM.getForm().reset()}else{var fileField=Ext.getCmp(thisObj.FILEFIELDID);fileField.markInvalid(response.messages.inputFields[0].title,response.messages.inputFields[0].description)}}else{alert("Session is False")}}}});Ext.reg("uradix.fileupload.windows.AttachFileWindow",uradix.fileupload.windows.AttachFileWindow);function uRadixCookieManager(){this.MPI_COOKIE_NAME="$$mpistatus$$";this.MPI_COOKIE_PARAMETER="$$statusmessage$$";this.MPI_COOKIE_PARAMETER_VALUE="1";this.createCookie=function(j,i,h){if(h){var f=new Date();f.setTime(f.getTime()+(h*24*60*60*1000));var g="; expires="+f.toGMTString()}else{var g=""}document.cookie=j+"="+i+g+"; path=/"};this.readCookie=function(c){var k=null;var j=c+"=";var h=document.cookie.split(";");for(var l=0;l<h.length;l++){var i=h[l];while(i.charAt(0)==" "){i=i.substring(1,i.length)}if(i.indexOf(j)==0){k=i.substring(j.length,i.length)}}return k};this.eraseCookie=function(b){this.createCookie(b,"",-5)}}uRadixCookieManager=new uRadixCookieManager();function uRadixRedirectHandler(){this.redirect=function(b){if(b.indexOf("?")==-1){b=b+"?"}Ext.get(document.body.id).mask("<b> Loading...</b> ","x-mask-loading");document.location=b+"&"+uRadixCookieManager.MPI_COOKIE_PARAMETER+"="+uRadixCookieManager.MPI_COOKIE_PARAMETER_VALUE}}uRadixRedirectHandler=new uRadixRedirectHandler();String.prototype.trim=function(){return(this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""))};String.prototype.startsWith=function(b){return(this.match("^"+b)==b)};String.prototype.endsWith=function(b){return(this.match(b+"$")==b)};function uRadixUtilities(){this.jsonEncode=function(b){return Ext.encode(b)};this.jsonDecode=function(b){return Ext.decode(b)};this.getParameter=function(g,e){var e=e+"=";if(g.length>0){var h=g.indexOf(e);if(h!=-1){h+=e.length;var f=g.indexOf("&",h);if(f==-1){f=g.length}return unescape(g.substring(h,f))}}return""}}uRadixUtilities=new uRadixUtilities();function uRadixWindowManager(){this.MPI_CALLBACK_NAME="$$mpicallback$$";this.uRadixWindowRegistry=new Array();this.uRadixWindowRegistry.google={title:"Google Search",width:400,height:200,modal:true,autoLoad:{url:"http://www.google.com",scripts:true,params:"param1=foo&param2=bar",text:"Loading Google..."}};this.openWindow=function(g){var i;var j=g.key;var f=g.window;var h=g.extraParams;if(j!==undefined&&j!==null){i=new Ext.Window(this.uRadixWindowRegistry[j])}else{i=new Ext.Window(f)}i.show()};this.launch=function(f){var h;var j=f.id;var i=f.key;if(i!==undefined&&i!==null){var g=this.uRadixWindowRegistry[i];if(j!==undefined&&j!==null&&j!==""){g.id=j}if(f.callback!==undefined&&f.callback!==null){if(g.autoLoad.params!==undefined&&g.autoLoad.params!==null&&g.autoLoad.params!==""){g.autoLoad.params=g.autoLoad.params+"&"}g.autoLoad.params=g.autoLoad.params+this.MPI_CALLBACK_NAME+"="+f.callback}h=new Ext.Window(g)}h.show()};this.registerWindowPopup=function(e){var f=e.key;var d=e.windowConfig;if(f!==undefined&&f!==null){if(d!==undefined&&d!==null){this.uRadixWindowRegistry[f]=d}}}}uRadixWindowManager=new uRadixWindowManager();Ext.apply(Ext.form.VTypes,{ssn:function(d){var c=/^([0-6]\d{2}|7[0-6]\d|77[0-2])([ \-]?)(\d{2})\2(\d{4})$/;if(d.length<9||d.length>11){return false}return function(a){return c.test(a)}},ssnText:"SSN must be 9 numbers long",tin:function(d){var c=/^\d{2}\-?\d{7}$/;return c.test(d)},tinText:'Not a valid TIN. Must be in format "12-3456789 or 123456789"',tinMask:/[\d\-]/,dollar:function(b){return/^[\$]?[\d]*(.[\d]{2})?$/},dollarText:'Not a valid dollar amount. Must be in the format "$123.45" ($ symbol and cents optional).',dollarMask:/[\d\$.]/,email:function(b){return/[a-z0-9#$%&'*+-/=?^_`{¦}~\.\-@]/i.test(b)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9#$%&'*+-/=?^_`{¦}~\.\-@]/i,namePart:function(b){return/^[a-z \.\'-]+$/i.test(b)},namePartText:"Incorrect Name Format.  Name can only contain letters, apostrophes and hyphens and must be at least 1 character long.",namePartMask:/^[a-z \.\'-]+$/i,phone:function(d){var e=d.replace(/[^a-zA-Z 0-9]+/g,"");var f=/[a-z0-9_]/i;if(e.length<10||e.length>15){return false}return f.test(e)},phoneText:"Not a valid phone/fax number.  Must be in the format 912-232-2332 or 800-ABC-HOME.",phoneExt:function(e){var d=e.replace(/[^a-zA-Z 0-9]+/g,"");var f=/[a-z0-9_]/i;if(d.length>5){return false}return f.test(d)},phoneExtText:"Not a valid phone extension.  Must be in the format 2345.",numeric:function(d){var c=/^[0-9_]+$/;return c.test(d)},numericText:"This field should only contain numbers and _",numericMask:/[0-9_]/i,ccode:function(f,d){var e=/^[0-9\-]+$/;if(e.test(f)){if(f.length<=50){if(!((f.startsWith("-"))||(f.endsWith("-")))){return true}}}return false},ccodeText:"This is an invalid CCode.",dea:function(c){var d=/^[A-Za-z]{2}[\d]{7}$/;return d.test(c)},deaText:"This is an invalid DEA.",medicaid:function(c){var d=/^[\d]{5,10}$/;return d.test(c)},medicaidText:"This is an invalid Medicaid ID.",medicare:function(d){var c=/^[\d]{5,10}$/;return c.test(d)},medicareText:"This is an invalid Medicare ID.",upin:function(d){var c=/^[\w]{6}$/;return c.test(d)},upinText:"This is an invalid UPIN.",npi:function(d){var c=/^\d{10}$/;return c.test(d)},npiText:"This is an invalid NPI.",npiMask:/[\d]/,cpt:function(d){var c=/^[\d]{4}[\w]{1}$/;return c.test(d)},cptText:"This is an invalid CPT.",cptmodifier:function(c){var d=/^[\w]{2}$/;return d.test(c)},cptmodifierText:"This is an invalid CPT Modifier.",drg:function(d){var c=/^[\d]{1,3}$/;return c.test(d)},drgText:"This is an invalid DRG.",hcpc:function(d){var c=/^[A-Za-z]{1}[\d]{4}$/;return c.test(d)},hcpcText:"This is an invalid HCPC.",hcpcmodifier:function(c){var d=/^[\w]{2}$/;return d.test(c)},hcpcmodifierText:"This is an invalid HCPC Modifier.",revcode:function(c){var d=/^[1-9]{1}[\d]{0,3}$/;return d.test(c)},revcodeText:"This is an invalid Revenue Code.",icd9:function(d){var c=/^[a-zA-Z0-9.]{3,6}$/;return c.test(d)},icd9Text:"This is an invalid ICD9.",daterange:function(i,j){var g=j.parseDate(i);var k=function(b){var a=b.activeDate;b.activeDate=null;b.update(a)};if(j.startDateField){var l=Ext.getCmp(j.startDateField);l.maxValue=g;if(l.menu&&l.menu.picker){l.menu.picker.maxDate=g;k(l.menu.picker)}}else{if(j.endDateField){var h=Ext.getCmp(j.endDateField);h.minValue=g;if(h.menu&&h.menu.picker){h.menu.picker.minDate=g;k(h.menu.picker)}}}return true},remote:function(c,d){return false},remoteText:"Failed remote validation",time:function(d){var c=/^([1-9]|1[0-9]):([0-5][0-9])(\s[a|p]m)$/i;return c.test(d)},timeText:'Not a valid time. Must be in the format "12:34 PM".',timeMask:/[\d\s:amp]/i});