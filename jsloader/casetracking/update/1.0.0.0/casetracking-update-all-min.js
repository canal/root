Ext.namespace("casetracking.customerservice.Preferences");casetracking.customerservice.Preferences=function(e){Ext.form.Field.prototype.msgTarget="sideDetails";var a=e.updateDemographicsURL+"?callerApp=customerServicePreferences&focusField=emailAddress0";var b=e.updateDemographicsURL+"?callerApp=customerServicePreferences&focusField=emailAddress1";var l="&nbsp;&nbsp;<a class='enduser-application-link' href='"+a+"' onclick='updateAddresses();'><span class='idxmTextSmall'>(Update Address)</span></a>";var j="&nbsp;&nbsp;<a class='enduser-application-link' href='"+b+"' onclick='updateAddresses();'><span class='idxmTextSmall'>(Update Address)</span></a>";var m="";if(e.emails.Alternate){m=", also send notifications to "+e.emails.Alternate+j}var h="";if(e.isExceptionClient){h="<br><span class='preferences-text'>Each time a service case is created, closed or reopened you will receive an email at your primary email address:</span><br>"}else{h="<br><span class='preferences-text'>Each time a service case is created, closed or reopened you will receive an email at your account notification email address:</span><br>"}function g(){var n=Ext.getCmp("idxmCustomerServicePreferencesPanelForm"+e.nameSpace).getForm();g_hideStatusBox();n.submit({url:e.urlSubmitUpdatePreferences,isMessageIgnore:false,success:function(t,u){Ext.getCmp("updateButton"+e.nameSpace).enable();Ext.get(document.body.id).unmask();g_showStatusBox();var p=uRadixUtilities.jsonDecode(u.response.responseText);if(p.messages.inputFields){for(var q=0;q<p.messages.inputFields.length;q++){var s=[];if(p.messages.inputFields[q].faultID=="8001"){var r=new Object();var o="Unable to update below selected preference. ";o+="Please refresh the screen.";r.description=o;s[0]=r;uRadixClientMessageHandler.setAdvice(false,s)}}}else{uRadixClientMessageHandler.setAdvice(true,p.advice)}},failure:function(o,p){g_showStatusBox();Ext.getCmp("updateButton"+e.nameSpace).enable();Ext.get(document.body.id).unmask()}})}function k(){var n=Ext.getCmp("idxmCustomerServicePreferencesPanelForm"+e.nameSpace).getForm();var o=n.getValues();Ext.get(document.body.id).mask("<b> Loading...</b> ","x-mask-loading");g()}if(m.length>0){new Ext.Panel({renderTo:e.formPanelDivID,border:false,bodyBorder:false,hideBorders:true,width:650,items:[{xtype:"panel",border:false,bodyBorder:false,hideBorders:true,items:[{xtype:"panel",border:false,bodyBorder:false,hideBorders:true,id:e.idToToggle,hidden:((e.g_PreferencesHideAndShow)&&(e.g_PreferencesHideAndShow!=undefined))?true:false,items:[{xtype:"uRadix.form.FormPanel",autoScroll:true,id:"idxmCustomerServicePreferencesPanelForm"+e.nameSpace,labelAlign:"top",items:[{xtype:"panel",bodyStyle:"padding-left:45px;",border:false,layout:"form",items:[{xtype:"label",border:true,html:"<span class='preferences-text'><br>Each time a service case is created, closed or reopened you will receive an email at your primary email address:</span><br>"},{xtype:"panel",border:false,height:10},{xtype:"label",style:"padding-left:35px;",border:false,html:e.emails.Primary+l},{xtype:"panel",border:false,height:10},{xtype:"radiogroup",fieldLabel:"<table><tr><td><span class='preferences-text'>Would you like to receive an email each time MultiPlan adds a note to your service case?</span></td><td><div class='uradix-form-help-details-icon' style='visibility: visible;' onclick='showEmailCommunicationWindow();' title='More Information' onmouseover='document.body.style.cursor=\"pointer\";' onmouseout='document.body.style.cursor=\"default\";'></div></td></tr></table>",labelSeparator:"",id:"emailNotificationRadioGroup",name:"emailNotificationRadioGroup",style:"padding-left:35px;",vertical:true,columns:1,items:[{hideLabel:true,boxLabel:"Yes",name:"updateEmailNotification",inputValue:"true",checked:updateEmailNotification},{hideLabel:true,boxLabel:"No",name:"updateEmailNotification",inputValue:"false",checked:!updateEmailNotification}]},{xtype:"radiogroup",fieldLabel:"<table><tr><td><span class='preferences-text'>Would you like to also receive these email notifications at your alternate email address?</span></td></tr></table>",labelSeparator:"",id:"alternateEmailNotificationRadioGroup",name:"alternateEmailNotificationRadioGroup",style:"padding-left:35px;",vertical:true,columns:1,items:[{hideLabel:true,boxLabel:"Yes"+m,name:"receiveEmailAlternate",inputValue:"true",checked:receiveEmailAlternate},{hideLabel:true,boxLabel:"No",name:"receiveEmailAlternate",inputValue:"false",checked:!receiveEmailAlternate}]}]}],buttons:[{id:"updateButton"+e.nameSpace,text:"UPDATE",ctCls:"support-portal-btn",handler:k}],listeners:{uradix_enterkey:k}}]}]}]})}else{new Ext.Panel({renderTo:e.formPanelDivID,border:false,bodyBorder:false,hideBorders:true,width:650,items:[{xtype:"panel",border:false,bodyBorder:false,hideBorders:true,items:[{xtype:"panel",border:false,bodyBorder:false,hideBorders:true,id:e.idToToggle,hidden:((e.g_PreferencesHideAndShow)&&(e.g_PreferencesHideAndShow!=undefined))?true:false,items:[{xtype:"uRadix.form.FormPanel",autoScroll:true,id:"idxmCustomerServicePreferencesPanelForm"+e.nameSpace,labelAlign:"top",items:[{xtype:"panel",bodyStyle:"padding-left:45px;",border:false,layout:"form",items:[{xtype:"label",border:false,html:"<br><span class='preferences-text'>Each time a service case is created, closed or reopened you will receive an email at your primary emails address:</span><br><br>"},{xtype:"panel",border:false,height:10},{xtype:"label",style:"padding-left:35px;",border:false,html:e.emails.Primary+l},{xtype:"panel",border:false,height:10},{xtype:"radiogroup",fieldLabel:"<table><tr><td><span class='preferences-text'>Would you like to receive an email each time MultiPlan adds a note to your service case?</span></td><td><div class='uradix-form-help-details-icon' style='visibility: visible;' onclick='showEmailCommunicationWindow();' title='More Information' onmouseover='document.body.style.cursor=\"pointer\";' onmouseout='document.body.style.cursor=\"default\";'></div></td></tr></table>",labelSeparator:"",id:"emailNotificationRadioGroup",name:"emailNotificationRadioGroup",style:"padding-left:35px;",vertical:true,columns:1,items:[{hideLabel:true,boxLabel:"Yes",name:"updateEmailNotification",inputValue:"true",checked:updateEmailNotification},{hideLabel:true,boxLabel:"No",name:"updateEmailNotification",inputValue:"false",checked:!updateEmailNotification}]}]}],buttons:[{id:"updateButton"+e.nameSpace,text:"UPDATE",ctCls:"support-portal-btn",handler:k}],listeners:{uradix_enterkey:k}}]}]}]})}var d=Ext.getCmp("idxmCustomerServicePreferencesPanelForm"+e.nameSpace);var c=false;d.getForm().items.each(function(n){n.on("change",function(){c=true;Ext.getCmp("updateButton"+e.nameSpace).enable()})});Ext.getCmp("idxmCustomerServicePreferencesPanelForm"+e.nameSpace).getForm().setValues(e.userData);var f={noCancel:function(){}};return f};function updateAddresses(){Ext.get(document.body.id).mask("<b> Loading...</b> ","x-mask-loading")}function showEmailCommunicationWindow(){casetracking.core.windows.EmailCommunication({})}var caseNumberPath=window.location.pathname+"?caseNumber=";function addNotePopup(){casetracking.update.ux.panel.notes.AddNote({caseNumber:aCase.caseNumber,nameSpace:nameSpace,urlAddNote:urlAddNote})}function addAttachmentPopup(){Ext.get(document.body.id).mask("<b>Adding Attachment...</b>","x-mask-loading");Ext.Ajax.request({url:urlAddAttachment,params:{caseNumber:aCase.caseNumber},success:function(a,c){var b=uRadixUtilities.jsonDecode(a.responseText);Ext.get(document.body.id).unmask()},failure:function(a,b){Ext.get(document.body.id).unmask()}})}function reopenCaseReasonPopup(){Ext.get(document.body.id).mask("<b>Loading Re-open Reasons...</b>","x-mask-loading");Ext.Ajax.request({url:urlReopenCaseStatusSubmit,params:{sortAs:aCase.caseContact.callerType},success:function(a,d){Ext.get(document.body.id).unmask();var b=uRadixUtilities.jsonDecode(a.responseText);var c=b.caseEventList;casetracking.update.ux.panel.basic.ReOpenCase({caseNumber:aCase.caseNumber,nameSpace:nameSpace,reopenCaseSubmit:reopenCaseSubmit,caseEventList:c})},failure:function(a,b){g_showStatusBox();Ext.getCmp("updateButton"+config.nameSpace).enable();Ext.get(document.body.id).unmask()}})}function refreshNotes(){Ext.get(document.body.id).mask("<b>Refreshing Notes...</b>","x-mask-loading");Ext.Ajax.request({url:urlRefreshNotes,params:{caseNumber:aCase.caseNumber},success:function(a,c){var b=uRadixUtilities.jsonDecode(a.responseText);addNotesToTable(b.noteList);Ext.get(document.body.id).unmask()},failure:function(a,b){Ext.get(document.body.id).unmask()}})}function refreshAttachments(a){Ext.get(document.body.id).mask("<b>Refreshing Attachments...</b>","x-mask-loading");Ext.Ajax.request({url:urlRefreshAttachments,params:{caseNumber:aCase.caseNumber},success:function(b,f){var d=uRadixUtilities.jsonDecode(b.responseText);var e=Ext.getCmp(a);var c=new Ext.data.Store({reader:new Ext.data.JsonReader({root:"attachmentsList",fields:["createDate","file.fileName","createByUser","file.sizeInByte"]}),data:d});e.reconfigure(c,e.getColumnModel());Ext.get(document.body.id).unmask()},failure:function(b,c){Ext.get(document.body.id).unmask()}})}function callBackRefreshAttachments(a){}function callBackRelatedServiceCases(){new casetracking.update.ux.panel.basic.RelatedServiceCases({})}function addNotesToTable(a,b){removeTableData("caseNotesTbl");if(a){for(i=0;i<a.length;i++){var c=a[i];if(c!=null){addNote(c,b)}}toggleNotesPanels(a)}}function removeTableData(a){var b=document.getElementById(a);if(b!=null){var c=b.rows.length;for(i=c-1;i>=0;i--){b.deleteRow(i)}}}function addNote(d,a){if(d!=null&&d.noteType!="SYNOPSIS"){var c=document.getElementById("caseNotesTbl").insertRow(0);var e=c.insertCell(0);var b="<div><table width='100%;' cellspacing='0' cellpadding='3'>";if(userClassCode&&userClassCode[0]=="INT"&&(a||(d.createByUser&&d.createByUser.userClass&&d.createByUser.userClass.internal))){b+="<tr class='casetracking-note-tr-mpi portal-text-small'>";b+="<td>Added By: "+d.createByUser.firstName+" "+d.createByUser.lastName+" {MultiPlan}</td>"}else{if(userClassCode&&userClassCode[0]=="INT"&&(d.createByUser&&d.createByUser.userClass&&d.createByUser.userClass.client)){b+="<tr class='casetracking-title-body'>";b+="<td class='casetracking-note-td portal-text-small'>Added By: "+d.createByUser.firstName+" "+d.createByUser.lastName+" {Client}</td>"}else{if(userClassCode&&userClassCode[0]=="CLI"&&(a||(d.createByUser&&d.createByUser&&d.createByUser.userClass&&d.createByUser.userClass.client))){b+="<tr class='casetracking-title-body'>";b+="<td class='casetracking-note-td portal-text-small'>Added By: "+d.createByUser.firstName+" "+d.createByUser.lastName+"</td>"}else{if(d.createByUser.firstName=="MultiPlan"||d.createByUser.lastName=="MultiPlan"){b+="<tr class='casetracking-note-tr-mpi portal-text-small'>";b+="<td>Added By: "+d.createByUser.firstName+" "+d.createByUser.lastName+"</td>"}else{b+="<tr class='casetracking-title-body'>";b+="<td class='casetracking-note-td portal-text-small'>Added By: "+d.createByUser.firstName+" "+d.createByUser.lastName+"</td>"}}}}if(d.createDate){b+="<td align='right' class='casetracking-note-td portal-text-small'>"+formatDate(d.createDate)+"</td>"}else{b+="<td>&nbsp;</td>"}b+="</tr>";b+="<tr>";if(d.noteText){b+="<td class='portal-text-small' style='padding: 5px;' colspan='2'>"+d.noteText.replace(new RegExp("\\n","g"),"<br>")+"<BR><BR></td>"}else{b+="<td>&nbsp;</td>"}b+="</tr>";b+="</table></div>";e.innerHTML=b}}function formatDate(c){var d="";if(c){if(c.time.hours>12){d=d+(c.time.hours-12)}else{d=d+c.time.hours}d=d+":";if(c.time.minutes<10){d=d+"0"+c.time.minutes}else{d=d+c.time.minutes}d=d+" ";if(c.time.hours>=12){d=d+"PM ET "}else{d=d+"AM ET "}var b=new Date(c.time.time);var a=b.format("n/j/Y");d=d+" "+a}return d}function backToSearchResults(){Ext.get(document.body.id).mask("<b>Going back to search results...</b>","x-mask-loading");history.go(-1)}function toggleGrid(b,a){var c=Ext.getCmp(b);if(c!=null&&c!=undefined){if(c.isVisible()){c.setVisible(false);document.getElementById(a).className="grid-expand-icon"}else{c.setVisible(true);document.getElementById(a).className="grid-collapse-icon"}}}function toggleNotesPanels(a){if(!a||a.length==0||(a.length==1&&a[0].noteType&&a[0].noteType=="SYNOPSIS")){Ext.getCmp("notesInfoMessagePanelId").show();Ext.getCmp("notesInfoPanelId").hide()}else{if(a&&a.length>0){Ext.getCmp("notesInfoMessagePanelId").hide();Ext.getCmp("notesInfoPanelId").show()}}}Ext.namespace("casetracking.update.ux.form.CaseForm");casetracking.update.ux.form.CaseForm=function(u){var j=650;if(document.body&&document.body.offsetWidth){j=document.body.offsetWidth}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){j=document.documentElement.offsetWidth}if(window.innerWidth){j=window.innerWidth}j=j-200;if(j<650){j=650}var m=new casetracking.update.ux.panel.basic.CaseInfo({aCase:u.aCase,CLIENT:u.CLIENT,PROVIDER:u.PROVIDER,INTERNAL:u.INTERNAL});var s=new casetracking.update.ux.panel.notes.NotesInfoMessage({aCase:u.aCase,nameSpace:u.nameSpace,urlAddNote:u.urlAddNote});var c=new casetracking.update.ux.panel.notes.NotesInfo({aCase:u.aCase,nameSpace:u.nameSpace,urlAddNote:u.urlAddNote});var q=new casetracking.update.ux.panel.notes.NotesInfoButtons({aCase:u.aCase,nameSpace:u.nameSpace,urlAddNote:u.urlAddNote,urlRefreshNotes:u.urlRefreshNotes});var v=new casetracking.update.ux.panel.provider.ProviderInfo({provider:u.aCase.caseProvider,caseProviderTypeList:u.caseProviderTypeList});var r=new casetracking.update.ux.panel.attachments.AttachmentsInfo({aCase:u.aCase,nameSpace:u.nameSpace,urlAddAttachment:u.urlAddAttachment,AttachmentGridId:u.AttachmentGridId});var t=new casetracking.update.ux.panel.attachments.AttachmentsInfoMessage({aCase:u.aCase,nameSpace:u.nameSpace,urlAddAttachment:u.urlAddAttachment});var h=new casetracking.update.ux.panel.attachments.AttachmentsInfoButtons({aCase:u.aCase,nameSpace:u.nameSpace,urlAddAttachment:u.urlAddAttachment,urlRefreshAttachments:u.urlRefreshAttachments,invokeFileWindowFunction:u.invokeFileWindowFunction,AttachmentGridId:u.AttachmentGridId});var n=new casetracking.update.ux.panel.claims.ClaimInfo({aCase:u.aCase,nameSpace:u.nameSpace});var l=new casetracking.update.ux.panel.claims.ClaimsInfoMessage({aCase:u.aCase,nameSpace:u.nameSpace});var b=new casetracking.update.ux.panel.eob.EobInfo({aCase:u.aCase});var e=new casetracking.update.ux.panel.contact.ContactInfo(u.aCase);var k=false;if(u.fromSearch&&u.fromSearch=="true"){k=true}var d=u.aCase.clonedCaseList;var f=u.aCase.createFromCaseNumber;var a=false;if(d&&d.length){a="This service case has been split into multiple service cases"}else{if(f){a="This service case was created from another service case"}else{if(d&&d.length&&f){a="This service case has created from another service case and split into multiple service cases"}}}var g=null;var p="";if(!Ext.isEmpty(userClassCode)&&userClassCode[0]=="PRV"){g=new Ext.Panel({renderTo:u.formPanelDivID,layout:"form",border:false,bodyBorder:false,hideBorders:true,width:j,items:[{xtype:"uRadix.form.FormPanel",autoScroll:true,id:"casetrackingCaseCreateUpdatePanelForm"+u.nameSpace,formObjectName:"Ext.getCmp('casetrackingCaseCreateUpdatePanelForm"+u.nameSpace+"')",items:[{xtype:"panel",border:false,hidden:!k,style:"padding-bottom: 10px;",html:"<table><tr><td align='left'><div class='form-back-to-results-icon' style='visibility: visible;' onmouseover='this.style.cursor=\"pointer\";' onclick='backToSearchResults();'></div></td></tr></table>"},{xtype:"panel",border:false,cls:"portal-title",html:"Service Case # "+u.aCase.caseNumber},{xtype:"panel",border:false,hidden:!a,style:"padding-top: 10px;",html:uRadixClientMessageHandler.setCustomStatusDOM({append:false,boxId:Ext.id,boxMsg:a,boxCallBack:"callBackRelatedServiceCases"})},{xtype:"panel",border:false,layout:"column",style:"padding-top: 8px;padding-bottom: 8px;",html:'<span class=\'idxmTextSmall\'>For service cases related to <b>Workers\' Compensation</b> and <b>Auto Medical</b>, the term "claim" refer to "bill".</span>'},{xtype:"panel",border:false,layout:"column",style:"padding-top:10px;",items:[{border:false,columnWidth:0.45,bodyBorder:false,hideBorders:true,items:[m]},{width:10,border:false,html:"&nbsp;"},{border:false,columnWidth:0.55,bodyBorder:false,hideBorders:true,items:[c,s,q]}]},{xtype:"panel",border:false,layout:"column",style:"padding-top:10px;",items:[{border:false,columnWidth:0.49,bodyBorder:false,hideBorders:true,items:[v]},{columnWidth:0.02,border:false,html:"&nbsp;"},{border:false,columnWidth:0.49,bodyBorder:false,hideBorders:true,items:[n]}]},{xtype:"panel",border:false,style:"padding-top:10px;",items:[{border:false,bodyBorder:false,hideBorders:true,items:[r,t,h]}]}]}]})}else{g=new Ext.Panel({renderTo:u.formPanelDivID,layout:"form",border:false,bodyBorder:false,hideBorders:true,width:j,items:[{xtype:"uRadix.form.FormPanel",autoScroll:true,id:"casetrackingCaseCreateUpdatePanelForm"+u.nameSpace,formObjectName:"Ext.getCmp('casetrackingCaseCreateUpdatePanelForm"+u.nameSpace+"')",items:[{xtype:"panel",border:false,hidden:!k,style:"padding-bottom: 10px;",html:"<table><tr><td align='left'><div class='form-back-to-results-icon' style='visibility: visible;' onmouseover='this.style.cursor=\"pointer\";' onclick='backToSearchResults();'></div></td></tr></table>"},{xtype:"panel",border:false,cls:"portal-title",html:"Service Case # "+u.aCase.caseNumber},{xtype:"panel",border:false,hidden:!a,style:"padding-top: 10px;",html:uRadixClientMessageHandler.setCustomStatusDOM({append:false,boxId:Ext.id,boxMsg:a,boxCallBack:"callBackRelatedServiceCases"})},{xtype:"panel",border:false,layout:"column",style:"padding-top: 8px;padding-bottom: 8px;",html:'<span class=\'idxmTextSmall\'>For service cases related to <b>Workers\' Compensation</b> and <b>Auto Medical</b>, the terms "claim" and "EOB" refer to "bill" and "EOR".</span>'},{xtype:"panel",border:false,layout:"column",style:"padding-top:10px;",items:[{border:false,columnWidth:0.45,bodyBorder:false,hideBorders:true,items:[m]},{width:10,border:false,html:"&nbsp;"},{border:false,columnWidth:0.55,bodyBorder:false,hideBorders:true,items:[c,s,q]}]},{xtype:"panel",border:false,layout:"column",style:"padding-top:10px;",items:[{border:false,columnWidth:0.34,bodyBorder:false,hideBorders:true,items:[v]},{width:10,border:false,html:"&nbsp;"},{border:false,columnWidth:0.34,bodyBorder:false,hideBorders:true,items:[e]},{width:10,border:false,html:"&nbsp;"},{border:false,columnWidth:0.32,bodyBorder:false,hideBorders:true,items:[b]}]},{xtype:"panel",border:false,style:"padding-top:10px;",items:[{border:false,bodyBorder:false,hideBorders:true,items:[n,l]}]},{xtype:"panel",border:false,style:"padding-top:10px;",items:[{border:false,bodyBorder:false,hideBorders:true,items:[r,t,h]}]}]}]});if(u.aCase.claimList&&u.aCase.claimList.length>0){n.show();l.hide()}else{n.hide();l.show()}}if(u.aCase.noteList&&u.aCase.noteList.length>0){c.show();s.hide()}else{c.hide();s.show()}if(u.aCase.attachmentFileList&&u.aCase.attachmentFileList.length>0){r.show();t.hide()}else{r.hide();t.show()}if(u.aCase.status=="CLOSED"){q.hide();h.hide()}addNotesToTable(u.aCase.noteList);toggleNotesPanels(u.aCase.noteList,false);var o={caseInfoPanel:m,notesInfoMessagePanel:m,notesInfoPanel:c,notesInfoButtons:q,providerInfoPanel:v,attachmentsInfoPanel:r,attachmentsInfoMessagePanel:t,attachmentsInfoButtons:h,claimsInfoPanel:n,eobInfoPanel:b};return o};Ext.namespace("casetracking.update.ux.panel.attachments.AttachmentsInfoMessage");casetracking.update.ux.panel.attachments.AttachmentsInfoMessage=function(a){var b=new Ext.Panel({layout:"fit",bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",border:false,cls:"casetracking-title",style:"padding-top:10px;",bodyCssClass:"casetracking-title-body",html:"Attachments"},{xtype:"panel",layout:"column",border:false,bodyBorder:false,items:[{xtype:"panel",border:false,bodyBorder:false,height:50,style:"padding-top:5px;",html:"<table><tr><td align='center'><span class='portal-text-small-bold'>No attachments</span></td></tr></table>"}]}]}]});return b};Ext.namespace("casetracking.update.ux.panel.attachments.AttachmentsInfo");casetracking.update.ux.panel.attachments.AttachmentsInfo=function(b){var a=(b.AttachmentGridId&&b.AttachmentGridId!==undefined)?b.AttachmentGridId:"casetracking.update.ux.panel.attachments.AttachmentsDefaultGridId";var c=new Ext.Panel({bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",border:false,cls:"casetracking-title",style:"padding-top:10px;",bodyCssClass:"casetracking-title-body",layout:"column",items:[{xtype:"panel",border:false,bodyBorder:false,columnWidth:0.5,cls:"casetracking-title",bodyCssClass:"casetracking-title-body",html:"Attachments"},{xtype:"panel",border:false,bodyBorder:false,columnWidth:0.5,cls:"casetracking-title",bodyCssClass:"casetracking-title-body",html:"<table width='100%' cellpadding='0' cellspacing='0'><tr><td align='right'><div id='casetracking.update.ux.panel.attachments.AttachmentsInfoGridIcon' class='grid-collapse-icon' style='visibility: visible;' onmouseover='this.style.cursor=\"pointer\";' onclick='toggleGrid(\""+a+"\", this.id);'></div></td></tr></table>"}]},{xtype:"grid",autoScroll:true,border:false,height:140,buttonAlign:"right",id:a,stripeRows:true,cm:new Ext.grid.ColumnModel({columns:[{header:"Added On",sortable:true,width:90,dataIndex:"createDate",renderer:function(e){if(e.time){var d="";if(e!=null){d=new Date(e.time.time);d=d.format("m/d/Y")}return d}else{return e}}},{header:"Name",sortable:true,width:200,dataIndex:"file.fileName"},{header:"Added By",sortable:true,width:200,dataIndex:"createByUser",renderer:function(d){if(d.firstName){return d.firstName+" "+d.lastName}else{return d}}},{header:"Size",width:90,sortable:true,dataIndex:"file.sizeInByte",renderer:function(d){return Ext.util.Format.fileSize(d)}}],defaults:{sortable:true,menuDisabled:true}}),store:new Ext.data.Store({reader:new Ext.data.JsonReader({root:"data",fields:["createDate","file.fileName","createByUser","file.sizeInByte"]}),data:{data:b.aCase.attachmentFileList}})}]}]});return c};Ext.namespace("casetracking.update.ux.panel.attachments.AttachmentsInfoButtons");casetracking.update.ux.panel.attachments.AttachmentsInfoButtons=function(b){var a=new Ext.Panel({layout:"fit",bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",layout:"column",border:false,bodyBorder:false,items:[{xtype:"panel",border:false,bodyBorder:false,columnWidth:0.99,style:"padding-left: 10;padding-top:5px;",html:"<table><tr><td align='left'><div class='form-refresh-icon' style='visibility: visible;' onmouseover='this.style.cursor=\"pointer\";' onclick='refreshAttachments(\""+b.AttachmentGridId+"\");'></div></td></tr></table>"},{xtype:"panel",border:false,bodyBorder:false,width:140,style:"padding-left: 0;padding-top:5px;",html:"<table width='100%'><tr><td align='right'><div class='form-add-attachment-icon' style='visibility: visible;' onmouseover='this.style.cursor=\"pointer\";' onclick='"+b.invokeFileWindowFunction+"();'></div></td></tr></table>"}]}]}]});return a};Ext.namespace("casetracking.update.ux.panel.basic.AdditionalCaseNumbers");casetracking.update.ux.panel.basic.AdditionalCaseNumbers=function(a){var d="<table width='100%'>";if(a.caseList){for(i=1;i<a.caseList.length;i++){var c="<a class='enduser-application-link' href='"+a.caseNumberPath+a.caseList[i]+"'>"+a.caseList[i]+"</a>";d+="<tr><td>";d+=c;d+="</td></tr>"}}d+="</table>";var b=new Ext.Window({width:275,height:175,modal:true,autoScroll:true,resizable:false,layout:"fit",plain:true,items:[{xtype:"panel",border:false,bodyBorder:false,hideBorders:true,autoScroll:true,style:"background-color:#FFFFFF; background:#FFFFFF; padding:5px;",items:[{xtype:"panel",html:a.heading,cls:"portal-title"},{xtype:"panel",html:d,style:"padding-bottom: 10px;padding-top: 10px;"}]}]});b.show()};function viewMoreInquiryDescription(){document.getElementById("noteTextDiv").style.display="none";document.getElementById("viewMoreLinkDiv").style.display="none";document.getElementById("viewAllNoteTextDiv").style.display="inline";document.getElementById("viewLessLinkDiv").style.display="inline"}function hideMoreInquiryDescription(){document.getElementById("noteTextDiv").style.display="inline";document.getElementById("viewMoreLinkDiv").style.display="inline";document.getElementById("viewLessLinkDiv").style.display="none";document.getElementById("viewAllNoteTextDiv").style.display="none"}function toggleDisplay(b){var a=document.getElementById(b);if(a.style.display=="block"||a.style.display=="inline"){a.style.display="none"}else{a.style.display="block"}}function viewAllAdditionalCases(){new casetracking.update.ux.panel.basic.AdditionalCaseNumbers({caseList:aCase.clonedCaseList,heading:"Releated Service Cases",caseNumberPath:caseNumberPath})}Ext.namespace("casetracking.update.ux.panel.basic.CaseInfo");casetracking.update.ux.panel.basic.CaseInfo=function(b){function c(){var n=new Ext.XTemplate('<table width="95%">',"<tr>",'<td align="left">','<table width="100%">',"<tr>",'<td align="left">','<span class="portal-text-small-bold">Status: </span>',"</td>",'<td align="left">',"<table>","<tr>",'<td align="left"><span class="portal-text-small">{status}</span></td>',"<tpl if=\"status == 'Closed' && canReopenCase\">",'<td><div class="form-reopen-case-icon" style="visibility: visible;" onmouseover="this.style.cursor=\'pointer\';" onclick="reopenCaseReasonPopup();"></div></td>',"</tpl>","</tr>","</table>","</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Created On: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{createdOn}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Created By: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{createByUser}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Reopened On: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{reopenedOn}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Reopened Reason: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{reopenedReason}</span>',"</td>","</tr>",'<td align="left" nowrap="nowrap">','<span class="portal-text-small-bold">Original Service Case #: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{originalServiceCase}</span>',"</td>","</tr>",'<td align="left" nowrap="nowrap">','<span class="portal-text-small-bold">Related Service Case #s: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{relatedServiceCases}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Inquiry Type: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{inquiryType}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Reason for Inquiry: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{categoryType}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Priority: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{priorityType}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Network: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{caseNetwork}</span>',"</td>","</tr>","<tr><td><br></td></tr>","</table>","</td>","</tr>","<tr>",'<td align="left" colspan="2">','<span style="font: bold 15px tahoma,arial,verdana,sans-serif;color:#000000;">Inquiry Description: </span>',"</tr>","<tr>",'<td align="left" colspan="2">','<div id="noteTextDiv" class="portal-text-small">{noteText}</div>','<div id="viewAllNoteTextDiv" class="portal-text-small" style="display:none;">{viewAllNoteText}</div>',"</tr>",'<tpl if="viewAllLink == true">',"<tr>",'<td align="right" colspan="2">','<div id="viewMoreLinkDiv" class="portal-text-small"><a class="enduser-application-link" href="#" onclick="viewMoreInquiryDescription();"><span class="portal-text-small">View More</span></a></div>','<div id="viewLessLinkDiv" class="portal-text-small" style="display:none;"><a class="enduser-application-link" href="#" onclick="hideMoreInquiryDescription();"><span class="portal-text-small">Hide More</span></a></div>',"</tr>","</tpl>","</table>");var g=new Date(b.aCase.createDate.time.time);var k=g.getMonth()+1+"/"+g.getDate()+"/"+g.getFullYear();var d="",f="";if(b.aCase.lastOpenDate){var w=new Date(b.aCase.lastOpenDate.time.time);d=w.getMonth()+1+"/"+w.getDate()+"/"+w.getFullYear()}if(d==""){d="N/A"}var j="",s="",y="",p="";if(b.aCase.caseOrigin){if(b.aCase.caseContact){if(b.aCase.caseContact.callerType&&b.aCase.caseContact.callerType=="CLI"){p=b.aCase.caseNetwork.clientNetworkDetail.name;j=b.aCase.originalCaseType.clientDetail.name;s=b.aCase.originalCaseType.subType.clientDetail.name;y=b.aCase.priority.clientPriorityDetail.name;if(b.aCase.priority.clientPriorityReasonDetail.name){y+=" - "+b.aCase.priority.clientPriorityReasonDetail.name}}else{p=b.aCase.caseNetwork.providerNetworkDetail.name;j=b.aCase.originalCaseType.providerDetail.name;s=b.aCase.originalCaseType.subType.providerDetail.name;y=b.aCase.priority.providerPriorityDetail.name;if(b.aCase.priority.providerPriorityReasonDetail.name){y+=" - "+b.aCase.priority.providerPriorityReasonDetail.name}}}f=""}if(b.aCase.caseHistory){for(i=0;i<b.aCase.caseHistory.length;i++){var m=b.aCase.caseHistory[i];if(m.eventTypeCode=="REOPEN"){if(userClassCode&&userClassCode[0]=="INT"){f=m.internalEventTypeReasonDetail.name}else{f=m.clientEventTypeReasonDetail.name}}}}if(f==""||f==null){f="N/A"}var r="N/A",z="",x=false;if(b.aCase.noteList&&b.aCase.noteList.length>0){var u=false;for(i=0;i<b.aCase.noteList.length;i++){var e=b.aCase.noteList[i];if(e&&e.noteType&&e.noteType=="SYNOPSIS"){z=e.noteText;if(z.length>350){r=z.substring(0,349).replace(new RegExp("\\n","g"),"<br>");x=true}else{r=z.replace(new RegExp("\\n","g"),"<br>")}}}}z=z.replace(new RegExp("\\n","g"),"<br>");var v="";if(b.aCase.status=="OPEN"){v="Open"}else{if(b.aCase.status=="CLOSED"){v="Closed"}}var o="";if(userClassCode){if(userClassCode[0]=="INT"){o=aCase.createByUserOriginal.firstName+" "+aCase.createByUserOriginal.lastName}else{if(userClassCode[0]=="CLI"||userClassCode[0]=="PRV"){if(aCase.createByUserOriginal&&aCase.createByUserOriginal.userClass&&aCase.createByUserOriginal.userClass.internal){o="MultiPlan"}else{if(aCase.createByUserOriginal&&(aCase.createByUserOriginal.firstName||aCase.createByUserOriginal.lastName)){o=aCase.createByUserOriginal.firstName+" "+aCase.createByUserOriginal.lastName}}}}}else{if(aCase.createByUserOriginal&&(aCase.createByUserOriginal.firstName||aCase.createByUserOriginal.lastName)){o=aCase.createByUserOriginal.firstName+" "+aCase.createByUserOriginal.lastName}}var q="N/A";if(aCase.createFromCaseNumber){q="<a class='enduser-application-link' href='"+caseNumberPath+aCase.createFromCaseNumber+"'>"+aCase.createFromCaseNumber+"</a>"}var h="N/A";if(aCase.clonedCaseList&&aCase.clonedCaseList.length){if(aCase.clonedCaseList.length==1){h="<a class='enduser-application-link' href='"+caseNumberPath+aCase.clonedCaseList[0]+"'>"+aCase.clonedCaseList[0]+"</a>"}else{if(aCase.clonedCaseList.length==2){h="<a class='enduser-application-link' href='"+caseNumberPath+aCase.clonedCaseList[0]+"'>"+aCase.clonedCaseList[0]+"</a>&nbsp;&nbsp;<a class='enduser-application-link' href='"+caseNumberPath+aCase.clonedCaseList[1]+"'>"+aCase.clonedCaseList[1]+"</a>"}else{if(aCase.clonedCaseList.length>2){h="<a class='enduser-application-link' href='"+caseNumberPath+aCase.clonedCaseList[0]+"'>"+aCase.clonedCaseList[0]+"</a>&nbsp;&nbsp;<a class='enduser-application-link' href='#' onclick='viewAllAdditionalCases();'>View More</a>"}}}}var l=n.apply({status:v,createByUser:o,createdOn:k,reopenedOn:d,canReopenCase:canReopenCase,reopenedReason:f,originalServiceCase:q,relatedServiceCases:h,inquiryType:j,categoryType:s,caseNetwork:p,priorityType:y,noteText:r,viewAllNoteText:z,viewAllLink:x});return l}var a=new Ext.Panel({layout:"column",bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",border:false,cls:"portal-titles",html:c(),autoHeight:true,autoScroll:true}]}]});return a};Ext.namespace("casetracking.update.ux.panel.basic..RelatedServiceCases");casetracking.update.ux.panel.basic.RelatedServiceCases=function(a){var b="<span class='idxmTextMedium'>The service case you submitted concerns multiple providers; therefore, we have created separate service case numbers for each provider. <BR><BR>Navigation to the original and related service cases is provided below at left. <br><br>Splitting service cases in this manner helps us to expedite resolution, and we will notify you of the progress of each service case.</span>";var c=new Ext.Window({width:500,height:200,modal:true,autoScroll:true,resizable:false,layout:"fit",plain:true,items:[{xtype:"panel",border:false,bodyBorder:false,hideBorders:true,autoScroll:true,style:"background-color:#FFFFFF; background:#FFFFFF; padding:5px;",items:[{xtype:"panel",html:"Related Service Cases",cls:"portal-title"},{xtype:"panel",html:b,style:"padding-bottom: 10px;padding-top: 10px;"}]}]});c.show()};Ext.namespace("casetracking.update.ux.panel.basic.ReOpenCase");casetracking.update.ux.panel.basic.ReOpenCase=function(c){function b(){var j=Ext.getCmp("reopenReasonIdCombo").getValue();if(j==""){return}var h=Ext.getCmp("casetrackingCaseUpdateReopenCasePanelForm"+c.nameSpace).getForm();Ext.get("ReOpenCaseWindow").mask("<b> Re-opening Service Case...</b>","x-mask-loading");g_hideStatusBox();Ext.Ajax.request({url:reopenCaseSubmit,isRedirect:true,params:{caseNumber:aCase.caseNumber,eventTypeReasonCode:j},success:function(k,l){Ext.get("ReOpenCaseWindow").unmask();a.removeAll();window.location=window.location},failure:function(k,l){g_showStatusBox();Ext.getCmp("updateButton"+c.nameSpace).enable();Ext.get("ReOpenCaseWindow").unmask()}})}var f=[{id:"",name:"- Select a Reason -"}].concat(c.caseEventList);var g=new Ext.Window({width:350,height:275,modal:true,autoScroll:true,resizable:false,layout:"fit",plain:true,id:"ReOpenCaseWindow",items:[{xtype:"panel",border:false,bodyBorder:false,hideBorders:true,autoScroll:true,style:"background-color:#FFFFFF; background:#FFFFFF; padding:5px;",items:[{xtype:"panel",layout:"form",border:false,bodyBorder:false,hideBorders:true,items:[{xtype:"uRadix.form.FormPanel",autoScroll:true,id:"casetrackingCaseUpdateReopenCasePanelForm"+c.nameSpace,formObjectName:"Ext.getCmp('casetrackingCaseUpdateReopenCasePanelForm"+c.nameSpace+"')",items:[{xtype:"panel",html:"Select Reason",cls:"portal-title",border:false,bodyBorder:false,hideBorders:true},{xtype:"panel",html:"In order to reopen this service case you must select a reason.",style:"padding-top: 10px;",border:false,bodyBorder:false,hideBorders:true},{xtype:"panel",layout:"form",border:false,labelAlign:"top",items:[{xtype:"resizable-combo",mode:"local",fieldLabel:"",hiddenName:"eventTypeReasonCode",msgTarget:"under",name:"eventTypeReasonName",id:"reopenReasonIdCombo",store:new Ext.data.JsonStore({fields:["id","name"],root:"rows",idProperty:"id",data:{rows:f}}),valueField:"id",emptyText:"- Select One -",displayField:"name",triggerAction:"all",editable:false,forceSelection:false,selectOnFocus:true,listeners:{render:function(){this.el.dom.name=this.name}},typeAhead:true,typeAheadDelay:0}]},{xtype:"panel",border:false,layout:"column",style:"padding-top: 60px;",items:[{border:false,columnWidth:0.5,bodyBorder:false,hideBorders:true,items:[{id:"cancelButton"+c.nameSpace,xtype:"button",text:"CANCEL",style:"padding-top: 35px;float: left;",ctCls:"support-portal-btn-cancel",handler:function(){if(e){idxm.core.popups.Cancel({doCancelFunction:d.doCancel,noCancelFunction:d.noCancel})}else{g.close()}}}]},{border:false,columnWidth:0.5,bodyBorder:false,hideBorders:true,items:[{id:"updateButton"+c.nameSpace,xtype:"button",text:"REOPEN",style:"padding-top: 35px;float: right;",ctCls:"support-portal-btn",handler:b}]},{xtype:"hidden",id:"caseNumber",name:"caseNumber",value:c.caseNumber}]}]}]}],listeners:{uradix_enterkey:b}}]});g.show();var a=Ext.getCmp("casetrackingCaseUpdateReopenCasePanelForm"+c.nameSpace);var e=false;a.getForm().items.each(function(h){h.on("change",function(){e=true})});var d={doCancel:function(){g.close()},noCancel:function(){}};this.jsonObject=d};Ext.namespace("casetracking.update.ux.panel.claims.ClaimsInfoMessage");casetracking.update.ux.panel.claims.ClaimsInfoMessage=function(a){var b=new Ext.Panel({bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",border:false,cls:"casetracking-title",style:"padding-top:10px;",bodyCssClass:"casetracking-title-body",html:"Claims"},{xtype:"panel",layout:"column",border:false,bodyBorder:false,items:[{xtype:"panel",border:false,bodyBorder:false,height:50,style:"padding-top:5px;",html:"<table><tr><td align='center'><span class='portal-text-small-bold'>No Claims Available</span></td></tr></table>"}]}]}]});return b};Ext.namespace("casetracking.update.ux.panel.claims.ClaimInfo");casetracking.update.ux.panel.claims.ClaimInfo=function(b){var d=null;if(!Ext.isEmpty(userClassCode)&&userClassCode[0]=="PRV"){function a(){var j=new Ext.XTemplate('<table width="100%">',"<tr>",'<td align="left">','<span class="portal-text-small-bold">DOS/Admit: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{dosAdmit}</span>',"</td>","</tr>",'<td align="left">','<span class="portal-text-small-bold">Patient Name: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{patientName}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Total Charges: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{totalCharges}</span>',"</td>","</tr>","</table>");var n="",m="",f="";if(!Ext.isEmpty(b.aCase.claimList)&&b.aCase.claimList.length>0){var h=b.aCase.claimList[0];var g=new Date(h.dateOfServiceFrom.time.time);n=g.getMonth()+1+"/"+g.getDate()+"/"+g.getFullYear();if(h.patientLastName&&h.patientLastName.length>0&&h.patientFirstName&&h.patientFirstName.length>0){m=h.patientLastName+", "+h.patientFirstName}else{if(h.patientLastName&&h.patientLastName.length>0){m=h.patientLastName}else{if(h.patientFirstName&&h.patientFirstName.length>0){m=h.patientFirstName}}}if(m){try{m=Ext.util.Format.htmlEncode(m)}catch(l){}}f=h.totalCharge}else{n="N/A";m="N/A";f="N/A"}var k=j.apply({dosAdmit:n,patientName:m,totalCharges:f});return k}d=new Ext.Panel({bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",border:false,cls:"casetracking-title",style:"padding-top:10px;",bodyCssClass:"casetracking-title-body",html:"Claim Information"},{xtype:"panel",border:false,cls:"portal-titles",style:"padding-top:5px;",html:a(),autoHeight:true,autoScroll:true}]}]})}else{var c=(b.ClaimGridId&&b.ClaimGridId!==undefined)?b.ClaimGridId:"casetracking.update.ux.panel.claims.ClaimsGridId"+b.nameSpace;d=new Ext.Panel({bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",border:false,bodyCssClass:"casetracking-title-body",style:"padding-top:10px;",cls:"casetracking-title",layout:"column",items:[{xtype:"panel",border:false,bodyBorder:false,columnWidth:0.5,cls:"casetracking-title",bodyCssClass:"casetracking-title-body",html:"Claims"},{xtype:"panel",border:false,bodyBorder:false,columnWidth:0.5,cls:"casetracking-title",bodyCssClass:"casetracking-title-body",html:"<table width='100%' cellpadding='0' cellspacing='0'><tr><td align='right'><div id='casetracking.update.ux.panel.claims.ClaimsGridIcon' class='grid-collapse-icon' style='visibility: visible;' onmouseover='this.style.cursor=\"pointer\";' onclick='toggleGrid(\""+c+"\", this.id);'></div></td></tr></table>"}]},{xtype:"grid",autoScroll:true,border:false,height:140,buttonAlign:"right",id:c,stripeRows:true,cm:new Ext.grid.ColumnModel({columns:[{header:"Dos/<br>Admit",sortable:false,dataIndex:"fromDateOfService",width:70,renderer:function(f){if(f&&f.time){var e="";e=new Date(f.time.time);e=e.format("m/d/Y");return e}else{return f}}},{id:"claimNumber",header:"Claim #",sortable:false,dataIndex:"claimIdentifierList",width:100,renderer:function(j){var h="";for(var g=0;g<j.length;g++){var f=j[g];var e=f.claimNumberSource;if(e=="MPI"){h=f.claimNumber}}return Ext.util.Format.htmlEncode(h)}},{header:"Alt Claim #",sortable:false,dataIndex:"claimIdentifierList",renderer:function(j){var h="";for(var g=0;g<j.length;g++){var f=j[g];var e=f.claimNumberSource;if(e=="CLIENT"){h=f.claimNumber}}return Ext.util.Format.htmlEncode(h)}},{header:"Member<br>SSN / ID",sortable:false,dataIndex:"memberSSNID",renderer:function(e){return Ext.util.Format.htmlEncode(e)}},{header:"<BR>Patient Name",sortable:false,dataIndex:"patientName",renderer:function(e){return e}},{header:"<BR>Provider Name",sortable:false,dataIndex:"providerName",renderer:function(g){try{return Ext.util.Format.htmlEncode(g)}catch(f){return g}}},{header:"Provider<br>TIN",sortable:false,dataIndex:"providerTIN",renderer:function(e){return e}},{header:"Total<br>Charges",sortable:false,dataIndex:"totalCharge",renderer:function(e){return e}},{header:"Discount<br>Amount",sortable:false,dataIndex:"discountedTotalCharge",renderer:function(e){return e}},{header:"Date<br>Processed",sortable:false,dataIndex:"processedDate",width:90,renderer:function(f){if(f&&f.time){var e="";e=new Date(f.time.time);e=e.format("m/d/Y");return e}else{return f}}}],defaults:{sortable:true,menuDisabled:true}}),store:new Ext.data.Store({reader:new Ext.data.JsonReader({root:"claimList",fields:[{name:"fromDateOfService",mapping:"dateOfServiceFrom"},{name:"toDateOfService",mapping:"dateOfServiceTo"},{name:"claimIdentifierList",mapping:"claimIdentifierList"},{name:"memberSSNID",mapping:"memberID"},{name:"patientName",mapping:'patientLastName+", "+obj.patientFirstName'},{name:"lastName",mapping:"patientLastName"},{name:"firstName",mapping:"patientFirstName"},{name:"providerName",mapping:"providerName"},{name:"providerTIN",mapping:"providerTIN"},{name:"totalCharge",mapping:"totalCharge"},{name:"discountedTotalCharge",mapping:"discountedTotalCharge"},{name:"processedDate",mapping:"processedDate"}]}),data:b.aCase})}]}]})}return d};Ext.namespace("casetracking.update.ux.panel.contact.ContactInfo");casetracking.update.ux.panel.contact.ContactInfo=function(b){function c(){var p=new Ext.XTemplate('<table width="100%">',"<tr>",'<td align="left">','<span class="portal-text-small-bold">First Name: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{contactFirstName}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Last Name: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{contactLastName}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Email: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{contactEmail}</span>',"</td>","</tr>",'<td align="left">','<span class="portal-text-small-bold">Phone: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{contactPhone}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Fax: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{contactFax}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Type: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{contactType}</span>',"</td>","</tr>",'<tpl if="displayCCode == true">',"<tr>",'<td align="left">','<span class="portal-text-small-bold">CCode: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{ccode}</span>',"</td>","</tr>","</tpl>","</table>");var n="N/A";if((!Ext.isEmpty(b.caseContact.firstName))&&b.caseContact.firstName.trim().length>0){n=b.caseContact.firstName}var o="N/A";if((!Ext.isEmpty(b.caseContact.lastName))&&b.caseContact.lastName.trim().length>0){o=b.caseContact.lastName}var g="N/A";if((!Ext.isEmpty(b.caseContact.email))&&b.caseContact.email.trim().length>0){g=b.caseContact.email}var f="N/A";if(!Ext.isEmpty(b.caseContact.phone)){f=b.caseContact.phone;try{if(!Ext.isEmpty(b.caseContact.phoneExt)&&!Ext.isEmpty(b.caseContact.phoneExt.trim())){f+=" x "+b.caseContact.phoneExt}}catch(l){}}var d="N/A";if(!Ext.isEmpty(b.caseContact.fax)){d=b.caseContact.fax}var j="";if(!Ext.isEmpty(b.caseContact.callerType)){if(b.caseContact.callerType=="CLI"){j="Client"}if(b.caseContact.callerType=="PRV"){j="Provider"}}var m=false;var h="";if(!Ext.isEmpty(b.accessClient.ccode)){m=true;h=b.accessClient.ccode;h=h.toUpperCase()}var k=p.apply({contactFirstName:n,contactLastName:o,contactEmail:g,contactPhone:f,contactFax:d,contactType:j,displayCCode:m,ccode:h});return k}var a=new Ext.Panel({bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",border:false,cls:"casetracking-title",style:"padding-top:10px;",bodyCssClass:"casetracking-title-body",html:"Contact Information"},{xtype:"panel",border:false,cls:"portal-titles",style:"padding-top:5px;",html:c(),autoHeight:true,autoScroll:true}]}]});return a};Ext.namespace("casetracking.update.ux.panel.eob.EobInfo");casetracking.update.ux.panel.eob.EobInfo=function(c){function a(){var p=new Ext.XTemplate('<table width="100%">',"<tr>",'<td align="left">','<span class="portal-text-small-bold">Non-covered Amount: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{nonCoveredAmount}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Network Discount Amount: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{discountAmount}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Payment Amount: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{paymentAmount}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Allowable Amount: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{allowableAmount}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Co-Ins %: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{coInsurancePercentage}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Deductible: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{deductable}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Date of Payment: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{dateOfPayment}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Check #: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{checkNumber}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Payment Details: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{paymentDetails}</span>',"</td>","</tr>","</table>");var o="N/A",g="N/A",f="N/A",j="N/A",q="N/A",d="N/A",l="N/A",e="N/A",k="N/A";var n=n=c.aCase.numberOfClaimsReported;if(c.aCase.eobList&&c.aCase.eobList[0]){f=c.aCase.eobList[0].checkNumber;if(f==""){f="N/A"}j=c.aCase.eobList[0].discountAmount;if(j==""){j="N/A"}q=c.aCase.eobList[0].nonCoveredAmount;if(q==""){q="N/A"}d=c.aCase.eobList[0].paymentAmount;if(d==""){d="N/A"}l=c.aCase.eobList[0].allowableAmount;if(l==""){l="N/A"}e=c.aCase.eobList[0].coInsurancePercentage;if(e==""){e="N/A"}k=c.aCase.eobList[0].deductable;if(k==""){k="N/A"}g=c.aCase.eobList[0].paymentDetails;if(g==""){g="N/A"}if(c.aCase.eobList[0].dateOfPayment){var h=new Date(c.aCase.eobList[0].dateOfPayment.time.time);o=h.getMonth()+1+"/"+h.getDate()+"/"+h.getFullYear()}if(o==""){g="N/A"}}var m=p.apply({nonCoveredAmount:q,discountAmount:j,paymentAmount:d,allowableAmount:l,coInsurancePercentage:e,deductable:k,dateOfPayment:o,checkNumber:f,paymentDetails:g});return m}var b=new Ext.Panel({bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",border:false,cls:"casetracking-title",style:"padding-top:10px;",bodyCssClass:"casetracking-title-body",html:"EOB Information"},{xtype:"panel",border:false,cls:"portal-titles",style:"padding-top:5px;",html:a(),autoHeight:true,autoScroll:true}]}]});return b};Ext.namespace("casetracking.update.ux.panel.notes.AddNote");casetracking.update.ux.panel.notes.AddNote=function(c){function b(){var j=Ext.getCmp("noteText");var g=j.getValue();if(g==null||g.length==0){j.markInvalid("Type your note and then click Add Note.");return}var h=Ext.getCmp("casetrackingCaseUpdateAddNotePanelForm"+c.nameSpace).getForm();g_hideStatusBox();Ext.get("AddServiceCaseNoteWindow").mask("<b> Adding Service Case Note...</b>","x-mask-loading");h.submit({url:c.urlAddNote,clientValidation:true,isRedirect:false,success:function(m,n){Ext.get("AddServiceCaseNoteWindow").unmask();var k=uRadixUtilities.jsonDecode(n.response.responseText);if(k.noteInfo&&k.noteInfo.addNoteList){var l=k.noteInfo.addNoteList[0];addNote(l,true);toggleNotesPanels(k.noteInfo.addNoteList)}f.close()},failure:function(k,l){g_showStatusBox();Ext.getCmp("updateButton"+c.nameSpace).enable();Ext.get("AddServiceCaseNoteWindow").unmask()}})}var f=new Ext.Window({width:490,height:355,modal:true,autoScroll:false,resizable:true,layout:"fit",plain:true,id:"AddServiceCaseNoteWindow",items:[{xtype:"panel",border:false,bodyBorder:false,hideBorders:true,autoScroll:false,style:"background-color:#FFFFFF; background:#FFFFFF; padding:5px;",items:[{xtype:"uRadix.form.FormPanel",autoScroll:true,id:"casetrackingCaseUpdateAddNotePanelForm"+c.nameSpace,formObjectName:"Ext.getCmp('casetrackingCaseUpdateAddNotePanelForm"+c.nameSpace+"')",items:[{xtype:"panel",border:false,bodyBorder:false,hideBorders:true,autoScroll:false,style:"padding-top: 0px;",items:[{xtype:"panel",html:"Add Note",cls:"portal-title",border:false,bodyBorder:false,hideBorders:true,style:"padding-top: 0px;"},{xtype:"panel",layout:"form",border:false,labelAlign:"top",style:"padding-top: 8px;",items:[{xtype:"textarea",name:"noteText",id:"noteText",maxLength:1024,msgTarget:"under",width:445,height:195}]},{xtype:"panel",border:false,layout:"column",style:"padding-top: 20px;",items:[{border:false,columnWidth:0.5,bodyBorder:false,hideBorders:true,items:[{id:"cancelButton"+c.nameSpace,xtype:"button",text:"CANCEL",style:"float: left;",ctCls:"support-portal-btn-cancel",handler:function(){if(e){idxm.core.popups.Cancel({doCancelFunction:d.doCancel,noCancelFunction:d.noCancel})}else{f.close()}}}]},{border:false,columnWidth:0.47,bodyBorder:false,hideBorders:true,items:[{id:"updateButton"+c.nameSpace,xtype:"button",text:"ADD NOTE",style:"float: right;",ctCls:"support-portal-btn",handler:b}]},{xtype:"hidden",id:"caseNumber",name:"caseNumber",value:c.caseNumber}]}]}]}],listeners:{uradix_enterkey:b}}]});f.show();var a=Ext.getCmp("casetrackingCaseUpdateAddNotePanelForm"+c.nameSpace);var e=false;a.getForm().items.each(function(g){g.on("change",function(){e=true})});var d={doCancel:function(){f.close()},noCancel:function(){}};this.jsonObject=d};Ext.namespace("casetracking.update.ux.panel.notes.NotesInfoMessage");casetracking.update.ux.panel.notes.NotesInfoMessage=function(a){var b=new Ext.Panel({layout:"fit",bodyBorder:false,border:false,hideBorders:true,id:"notesInfoMessagePanelId",items:[{autoHeight:true,items:[{xtype:"panel",border:false,cls:"casetracking-title",bodyCssClass:"casetracking-title-body",html:"Notes"},{xtype:"panel",border:false,bodyBorder:false,height:165,style:"padding-left: 10;padding-top:5px;",html:"<table><tr><td align='center'><span class='portal-text-small-bold'>There are no notes</span></td></tr></table>"}]}]});return b};Ext.namespace("casetracking.update.ux.panel.notes.NotesInfo");casetracking.update.ux.panel.notes.NotesInfo=function(a){var b=new Ext.Panel({bodyBorder:false,border:false,hideBorders:true,id:"notesInfoPanelId",items:[{autoHeight:true,items:[{xtype:"panel",border:false,cls:"casetracking-title",bodyCssClass:"casetracking-title-body",html:"Notes"},{xtype:"panel",border:false,cls:"portal-titles",html:"<div style='width:100%; height:150px; overflow:auto;'><table width='100%' id='caseNotesTbl'></table>",height:165,autoScroll:true}]}]});return b};Ext.namespace("casetracking.update.ux.panel.notes.NotesInfoButtons");casetracking.update.ux.panel.notes.NotesInfoButtons=function(a){var b=new Ext.Panel({layout:"fit",bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",layout:"column",border:false,bodyBorder:false,items:[{xtype:"panel",border:false,bodyBorder:false,columnWidth:0.99,style:"padding-top:5px;",html:"<table><tr><td align='left'><div class='form-refresh-icon' style='visibility: visible;' onmouseover='this.style.cursor=\"pointer\";' onclick='refreshNotes();'></div></td></tr></table>"},{xtype:"panel",border:false,bodyBorder:false,width:105,style:"padding-top:5px;",html:"<table width='100%' cellpadding='0' cellspacing='0'><tr><td align='right'><div class='form-add-note-icon' style='visibility: visible;' onmouseover='this.style.cursor=\"pointer\";' onclick='addNotePopup();'></div></td></tr></table>"}]}]}]});return b};Ext.namespace("casetracking.update.ux.panel.provider.ProviderInfo");casetracking.update.ux.panel.provider.ProviderInfo=function(c){function b(){var s=new Ext.XTemplate('<table width="100%">',"<tr>",'<td align="left">','<span class="portal-text-small-bold">Provider Type: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{providerType}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">TIN: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{tinSsn}</span>',"</td>","</tr>",'<td align="left">','<span class="portal-text-small-bold">NPI: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{npi}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Name: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{name}</span>',"</td>","</tr>","<tr>",'<tpl if="!isProviderUser">','<td align="left">','<span class="portal-text-small-bold">Contact Name: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{contactName}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Contact Phone: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{contactPhone}</span>',"</td>","</tr>","</tpl>",'<tpl if="isProviderUser">',"<tr>",'<td align="left">','<span class="portal-text-small-bold">Address: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{address}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">City: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{city}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">State: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{state}</span>',"</td>","</tr>","<tr>",'<td align="left">','<span class="portal-text-small-bold">Zip Code: </span>',"</td>",'<td align="left">','<span class="portal-text-small">{zipcode}</span>',"</td>","</tr>","</tpl>","</table>");var f="";if(c.provider.organizationName&&c.provider.organizationName.length>0){f+=c.provider.organizationName}else{if(c.provider.lastName&&c.provider.lastName.length>0&&c.provider.firstName&&c.provider.firstName.length){f+=c.provider.lastName+", "+c.provider.firstName}else{if(c.provider.lastName&&c.provider.lastName.length>0){f+=c.provider.lastName}else{if(c.provider.firstName&&c.provider.firstName.length){f+=c.provider.firstName}}}}if(f){try{f=Ext.util.Format.htmlEncode(f)}catch(o){}}var g="";if(c.provider.contactPhone&&c.provider.contactPhone.length>0){g+=c.provider.contactPhone}if(g.length==0){g="N/A"}var j="";for(i=0;i<c.caseProviderTypeList.length;i++){var m=c.caseProviderTypeList[i];if(m.id==c.provider.providerType){j=m.name}if(j=="Facility/Ancillary/Group"){j="Facility/Ancillary"}}if(Ext.isEmpty(j)){j="N/A"}var k="";if(c.provider.npi&&c.provider.npi.length>0){k+=c.provider.npi}else{k="N/A"}var r="";if(c.provider.contactName&&c.provider.contactName.length>0){r=c.provider.contactName}else{r="N/A"}var q="",h="",d="",p="",l=false;if(!Ext.isEmpty(userClassCode)&&userClassCode[0]=="PRV"){l=true;if(!Ext.isEmpty(c.provider.address.addressLine1)){q=c.provider.address.addressLine1}else{q="N/A"}if(!Ext.isEmpty(c.provider.address.city)){h=c.provider.address.city}else{h="N/A"}if(!Ext.isEmpty(c.provider.address.state)){d=c.provider.address.state.stateAbbreviation}else{d="N/A"}if(!Ext.isEmpty(c.provider.address.zipcode)){p=c.provider.address.zipcode}else{p="N/A"}}var n=s.apply({providerType:j,tinSsn:c.provider.tinSsn,contactName:r,name:f,contactPhone:g,npi:k,isProviderUser:l,address:q,city:h,state:d,zipcode:p});return n}var a=new Ext.Panel({bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"panel",border:false,cls:"casetracking-title",style:"padding-top:10px;",bodyCssClass:"casetracking-title-body",html:"Provider Information"},{xtype:"panel",border:false,cls:"portal-titles",style:"padding-top:5px;",html:b(),autoHeight:true,autoScroll:true}]}]});return a};