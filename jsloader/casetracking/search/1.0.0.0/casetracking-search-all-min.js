Ext.namespace("casetracking.search.advanced.container.SearchContainer");casetracking.search.advanced.container.SearchContainer=Ext.extend(Object,{ID:"caseTrackingAdvancedSearchLayoutPanel",NAMESPACE:undefined,RENDERTO:undefined,RENDERURL:undefined,WIDTH:"990",constructor:function(a){this.ID+=a.nameSpace;this.NAMESPACE=a.nameSpace;this.RENDERTO=a.renderTo;this.renderLayoutPanel(a);this.WIDTH=(a.width&&a.width!==undefined)?a.width:"990"},renderLayoutPanel:function(b){var a=new casetracking.search.advanced.ux.panel.LayoutPanel({id:this.ID,renderTo:this.RENDERTO,baseObjConfig:b,width:this.WIDTH})},navigate:function(a){return}});Ext.namespace("casetracking.search.advanced.ux.panel.FilterControllerPanel");casetracking.search.advanced.ux.panel.FilterControllerPanel=Ext.extend(uRadix.form.FormPanel,{thisObj:undefined,NAMESPACE:undefined,PREFIX_ID:"caseTrackingFilterPanel",RENDERURL:undefined,CASEURL:undefined,SEARCH_SUBMIT_URL:undefined,MPI_SEARCH_COOKIE_NAME:"$$mpi_casetracking_search_filters$$",FIELD_CASE_NUMBER_ID:"caseNumber",FIELD_CREATED_BY_DATE_FROM_ID:"createdByDateFrom",FIELD_CREATED_BY_DATE_TO_ID:"createdByDateTo",FIELD_CCODE_NAME_ID:"ccode",FIELD_PROVIDER_NAME_ID:"providerName",FIELD_STATUS_ID:"statusId",FIELD_FILTER_SOURCE_ID:undefined,BUTTON_SEARCH_ID:"searchButton",constructor:function(a){var f=this;this.NAMESPACE=a.baseObjConfig.nameSpace;this.RENDERURL=a.baseObjConfig.renderURL;this.CASEURL=a.baseObjConfig.caseURL;this.MPI_SEARCH_COOKIE_NAME=this.MPI_SEARCH_COOKIE_NAME;this.SEARCH_SUBMIT_URL=a.baseObjConfig.searchSubmitURL;if(a.baseObjConfig.fieldIds&&(a.baseObjConfig.fieldIds!==undefined)){this.FIELD_CASE_NUMBER_ID=(a.baseObjConfig.fieldIds.caseNumberId&&(a.baseObjConfig.fieldIds.caseNumberId!==undefined))?a.baseObjConfig.fieldIds.caseNumberId:this.FIELD_CASE_NUMBER_ID;this.FIELD_CREATED_BY_DATE_FROM_ID=(a.baseObjConfig.fieldIds.createdByDateFromId&&(a.baseObjConfig.fieldIds.createdByDateFromId!==undefined))?a.baseObjConfig.fieldIds.createdByDateFromId:this.FIELD_CREATED_BY_DATE_FROM_ID;this.FIELD_CREATED_BY_DATE_TO_ID=(a.baseObjConfig.fieldIds.createdByDateToId&&(a.baseObjConfig.fieldIds.createdByDateToId!==undefined))?a.baseObjConfig.fieldIds.createdByDateToId:this.FIELD_CREATED_BY_DATE_FROM_ID;this.FIELD_PROVIDER_NAME_ID=(a.baseObjConfig.fieldIds.providerNameId&&(a.baseObjConfig.fieldIds.providerNameId!==undefined))?a.baseObjConfig.fieldIds.providerNameId:this.FIELD_PROVIDER_NAME_ID;this.FIELD_STATUS_ID=(a.baseObjConfig.fieldIds.statusId&&(a.baseObjConfig.fieldIds.statusId!==undefined))?a.baseObjConfig.fieldIds.statusId:this.FIELD_STATUS_ID;this.FIELD_FILTER_SOURCE_ID=(a.baseObjConfig.fieldIds.filterSourceId&&(a.baseObjConfig.fieldIds.filterSourceId!==undefined))?a.baseObjConfig.fieldIds.filterSourceId:this.FIELD_FILTER_SOURCE_ID}var c=[this.FIELD_CASE_NUMBER_ID,this.FIELD_CREATED_BY_DATE_FROM_ID,this.FIELD_CREATED_BY_DATE_TO_ID,this.FIELD_PROVIDER_NAME_ID];this.BUTTON_SEARCH_ID=(a.baseObjConfig.buttonIds.searchButton&&(a.baseObjConfig.buttonIds.searchButton!==undefined))?a.baseObjConfig.buttonIds.searchButton:this.BUTTON_SEARCH_ID;var b=a.baseObjConfig.userClassCode;var e={};if(b=="INT"){c[c.length]=this.FIELD_CCODE_NAME_ID;e={xtype:"textfield",id:this.FIELD_CCODE_NAME_ID,name:this.FIELD_CCODE_NAME_ID,fieldLabel:"CCode",hideLabel:false,allowBlank:true,width:200,maxLength:40,validateOnBlur:false,validationEvent:false,validator:function(g){return casetracking.search.validation.SearchValidator.oneFieldRequiredCheck(c)}}}var d={buttonAlign:"right",columnWidth:a.columnWidth,border:false,labelAlign:"top",items:[{xtype:"panel",border:false,layout:"column",baseCls:"title",items:[{xtype:"panel",columnWidth:0.9,html:"<div>Search Service Cases</div>"},{xtype:"panel",columnWidth:0.1,html:"<div class='uradix-form-help-details-icon' style='visibility: visible; float:right;' onclick='casetracking.core.windows.SearchInformation();' title='More Information' onmouseover='document.body.style.cursor=\"pointer\";' onmouseout='document.body.style.cursor=\"default\";'></div>"}]},{xtype:"panel",border:false,ctCls:"support-portal-panel",style:"padding-top:5px;padding-bottom:10px;",html:"<div></div><div class='casetrackingTextSmall'>Search by Service Case # or other criteria. When<br>searching by other criteria, using more than one<br>will narrow your results.</div>"},{xtype:"panel",baseCls:"idxm-search-filter-fields-body",layout:"form",labelAlign:"top",items:[{xtype:"textfield",baseCls:"idxm-search-filter-fields-body",id:this.FIELD_CASE_NUMBER_ID,name:this.FIELD_CASE_NUMBER_ID,fieldLabel:"Service Case #",hideLabel:false,allowBlank:true,width:150,maxLength:40,validateOnBlur:false,validationEvent:false,validator:function(g){return casetracking.search.validation.SearchValidator.oneFieldRequiredCheck(c)}}]},{xtype:"panel",border:true,style:"padding-top:10px; padding-bottom:10px",html:"<div class='casetrackingTextMedium'><b><center>OR</center></b></div>"},{xtype:"panel",baseCls:"idxm-search-filter-fields-body",layout:"form",labelAlign:"top",items:[{xtype:"label",bodyStyle:"padding-left:15px;",text:"Service Case Created Date:",cls:"supportPortalFormLabel"},{xtype:"panel",border:false,layout:"column",baseCls:"idxm-search-filter-datefields-body",width:200,items:[{columnWidth:0.5,layout:"form",border:false,labelAlign:"top",baseCls:"idxm-search-filter-datefields-body",items:[{xtype:"datefield",name:this.FIELD_CREATED_BY_DATE_FROM_ID,id:this.FIELD_CREATED_BY_DATE_FROM_ID,fieldLabel:"From",hideLabel:false,allowBlank:true,msgTarget:"under",maxValue:new Date(),validateOnBlur:false,validationEvent:false,validator:function(g){return(casetracking.search.validation.SearchValidator.oneFieldRequiredCheck(c))},format:"m/d/Y"}]},{xtype:"panel",columnWidth:0.5,layout:"form",border:false,labelAlign:"top",baseCls:"idxm-search-filter-datefields-body",style:"padding-top:0px;padding-bottom:10px;",items:[{xtype:"datefield",name:this.FIELD_CREATED_BY_DATE_TO_ID,id:this.FIELD_CREATED_BY_DATE_TO_ID,fieldLabel:"To",hideLabel:false,allowBlank:true,msgTarget:"under",maxValue:new Date(),validateOnBlur:false,validationEvent:false,validator:function(g){return(casetracking.search.validation.SearchValidator.oneFieldRequiredCheck(c))},format:"m/d/Y"}]}]},{xtype:"panel",border:false,layout:"form",baseCls:"idxm-search-filter-datefields-body",items:[{xtype:"panel",layout:"form",border:true,labelAlign:"top",baseCls:"idxm-search-filter-datefields-body",items:[e,{xtype:"textfield",id:this.FIELD_PROVIDER_NAME_ID,name:this.FIELD_PROVIDER_NAME_ID,fieldLabel:"Provider Name",hideLabel:false,allowBlank:true,width:200,maxLength:40,validateOnBlur:false,validationEvent:false,validator:function(g){return casetracking.search.validation.SearchValidator.oneFieldRequiredCheck(c)}},{xtype:"panel",border:true,baseCls:"idxm-search-filter-datefields-body",style:"padding-top:0px;padding-bottom:15px;",html:"<div class='casetrackingTextSmall'>Use Practitioner Last Name or Facility Name</div>"}]}]},{xtype:"panel",border:false,layout:"form",baseCls:"idxm-search-filter-datefields-body",items:[{xtype:"panel",layout:"form",border:true,labelAlign:"top",baseCls:"idxm-search-filter-datefields-body",items:[{xtype:"combo",mode:"local",fieldLabel:"Status",allowBlank:true,hiddenName:this.FIELD_STATUS_ID,name:this.FIELD_STATUS_ID+"NAME",id:this.FIELD_STATUS_ID+"ID",store:new Ext.data.JsonStore({fields:new Ext.data.Record.create([{name:"id"},{name:"name"}]),root:"rows",idProperty:"id",data:{rows:[{id:"All",name:"All"},{id:"OPEN",name:"Open"},{id:"CLOSED",name:"Closed"}]},reader:new Ext.data.JsonReader({},["id","name"])}),valueField:"id",displayField:"name",triggerAction:"all",editable:false,forceSelection:false,selectOnFocus:true,width:100,listeners:{render:function(){this.el.dom.name=this.name},select:function(){}},typeAhead:true,typeAheadDelay:0,value:"All"}]}]},{xtype:"hidden",id:"isAllSearch",name:"isAllSearch",value:"true"}]},{height:10},{xtype:"button",id:this.BUTTON_SEARCH_ID,style:"float:right;",text:"&nbsp;&nbsp;SEARCH&nbsp;&nbsp;",ctCls:"support-portal-btn",handler:this.filterSearchSubmit}],listeners:{uradix_enterkey:this.filterSearchSubmit,afterrender:function(){var g=uRadixCookieManager.readCookie(this.MPI_SEARCH_COOKIE_NAME);uRadixCookieManager.eraseCookie(this.MPI_SEARCH_COOKIE_NAME);g=Ext.util.JSON.decode(g);if(!Ext.isEmpty(g)&&((/posted=1/.test(window.location.hash))==true)){this.getForm().setValues(g);this.add({id:this.FIELD_FILTER_SOURCE_ID,xtype:"hidden",name:this.FIELD_FILTER_SOURCE_ID,value:"cookie"});this.filterSearchSubmit()}}}};Ext.apply(this,d);casetracking.search.advanced.ux.panel.FilterControllerPanel.superclass.constructor.call(this,d)},filterSearchSubmit:function(){var c=undefined;if(this.getXType()=="casetracking.search.advanced.ux.panel.FilterControllerPanel"){c=this}else{c=this.findParentByType("casetracking.search.advanced.ux.panel.FilterControllerPanel")}if(c.getForm().isValid()){g_hideStatusBox();Ext.getCmp(c.BUTTON_SEARCH_ID).disable();var f=c.getForm();var d=new Array();c.findBy(function(j,h){if(j.isFormField){if(!Ext.isEmpty(j.getValue())&&!j.disabled){if(j.getXType()=="datefield"){d.push({id:j.id,value:j.getRawValue()})}else{j.setValue(j.getValue().trim());d.push({id:j.id,value:j.getValue()})}}}},this);if(!Ext.isEmpty(d)){uRadixCookieManager.createCookie(c.MPI_SEARCH_COOKIE_NAME,Ext.util.JSON.encode(d),1)}var g=c.findParentByType("casetracking.search.advanced.ux.panel.LayoutPanel");var b=g.findByType("casetracking.search.advanced.ux.panel.ResultsControllerPanel")[0];var a=c;var e=c.SEARCH_SUBMIT_URL;a.el.mask("Searching...","x-mask-loading");f.submit({url:e,isMessageIgnore:true,success:function(k,n){window.location.hash="posted=1";if(Ext.getCmp(c.FIELD_FILTER_SOURCE_ID)!==undefined){Ext.getCmp(c.FIELD_FILTER_SOURCE_ID).setValue("")}var m=Ext.decode(n.response.responseText);var j=m.caseList;var h=m.totalNumberOfRecords;if(j.length>0){if(j.length==1&&(Ext.isEmpty(m.filterSource)||m.filterSource!="cookie")){var l=c.CASEURL+"?caseNumber="+j[0].caseNumber+"&fromSearch=true";document.location=l}else{b.toggleResultsPanels({panelId:"GridPanel",searchList:j,totalNumberOfRecords:h});b.toggleTitlePanel({panelId:"TitlePanel",searchList:j});a.el.unmask();Ext.getCmp(c.BUTTON_SEARCH_ID).enable()}}else{b.toggleResultsPanels({panelId:"NoResultsPanel"});b.toggleTitlePanel({panelId:"TitlePanel"});a.el.unmask();Ext.getCmp(c.BUTTON_SEARCH_ID).enable()}},failure:function(h,j){g_showStatusBox();a.el.unmask();Ext.getCmp(c.BUTTON_SEARCH_ID).enable()}})}}});Ext.reg("casetracking.search.advanced.ux.panel.FilterControllerPanel",casetracking.search.advanced.ux.panel.FilterControllerPanel);Ext.namespace("casetracking.search.advanced.ux.panel.LayoutPanel");casetracking.search.advanced.ux.panel.LayoutPanel=Ext.extend(Ext.Panel,{NAMESPACE:undefined,constructor:function(a){this.NAMESPACE=a.baseObjConfig.nameSpace;var b={id:a.id,renderTo:a.renderTo,width:a.baseObjConfig.width,bodyBorder:false,border:false,buttonAlign:"right",layout:"column",items:[{xtype:"casetracking.search.advanced.ux.panel.FilterControllerPanel",baseObjConfig:a.baseObjConfig,columnWidth:0.32},{xtype:"casetracking.search.advanced.ux.panel.ResultsControllerPanel",baseObjConfig:a.baseObjConfig,columnWidth:0.65}]};Ext.apply(this,b);casetracking.search.advanced.ux.panel.LayoutPanel.superclass.constructor.call(this,b)}});Ext.reg("casetracking.search.advanced.ux.panel.LayoutPanel",casetracking.search.advanced.ux.panel.LayoutPanel);Ext.namespace("casetracking.search.advanced.ux.panel.ResultsControllerPanel");casetracking.search.advanced.ux.panel.ResultsControllerPanel=Ext.extend(Ext.Panel,{NAMESPACE:undefined,PREFIX_ID:"caseTrackingSearchResults",RESULTS_PANELS_ARR:["NoResultsPanel","TooManyResultsPanel","TitlePanel","GridPanel"],RENDERURL:undefined,SEARCH_SUBMIT_URL:undefined,FIELD_CASE_NUMBER_ID:"caseNumber",FIELD_CREATED_BY_DATE_FROM_ID:"createdByDateFrom",FIELD_CREATED_BY_DATE_TO_ID:"createdByDateTo",FIELD_PROVIDER_NAME_ID:"providerName",FIELD_STATUS_ID:"statusId",FIELD_FILTER_SOURCE_ID:undefined,FIELD_CCODE_NAME_ID:"ccode",USERCLASSCODE:undefined,constructor:function(a){this.NAMESPACE=a.baseObjConfig.nameSpace;this.RENDERURL=a.baseObjConfig.renderURL;this.SEARCH_SUBMIT_URL=a.baseObjConfig.searchSubmitURL;this.USERCLASSCODE=a.baseObjConfig.userClassCode;if(a.baseObjConfig.fieldIds&&(a.baseObjConfig.fieldIds!==undefined)){this.FIELD_CASE_NUMBER_ID=(a.baseObjConfig.fieldIds.caseNumberId&&(a.baseObjConfig.fieldIds.caseNumberId!==undefined))?a.baseObjConfig.fieldIds.caseNumberId:this.FIELD_CASE_NUMBER_ID;this.FIELD_CREATED_BY_DATE_FROM_ID=(a.baseObjConfig.fieldIds.createdByDateFromId&&(a.baseObjConfig.fieldIds.createdByDateFromId!==undefined))?a.baseObjConfig.fieldIds.createdByDateFromId:this.FIELD_CREATED_BY_DATE_FROM_ID;this.FIELD_CREATED_BY_DATE_TO_ID=(a.baseObjConfig.fieldIds.createdByDateToId&&(a.baseObjConfig.fieldIds.createdByDateToId!==undefined))?a.baseObjConfig.fieldIds.createdByDateToId:this.FIELD_CREATED_BY_DATE_FROM_ID;this.FIELD_PROVIDER_NAME_ID=(a.baseObjConfig.fieldIds.providerNameId&&(a.baseObjConfig.fieldIds.providerNameId!==undefined))?a.baseObjConfig.fieldIds.providerNameId:this.FIELD_PROVIDER_NAME_ID;this.FIELD_STATUS_ID=(a.baseObjConfig.fieldIds.statusId&&(a.baseObjConfig.fieldIds.statusId!==undefined))?a.baseObjConfig.fieldIds.statusId:this.FIELD_STATUS_ID;this.FIELD_FILTER_SOURCE_ID=(a.baseObjConfig.fieldIds.filterSourceId&&(a.baseObjConfig.fieldIds.filterSourceId!==undefined))?a.baseObjConfig.fieldIds.filterSourceId:this.FIELD_FILTER_SOURCE_ID}var b={columnWidth:a.columnWidth,style:"padding-left:30px;",border:false,items:[{xtype:"panel",border:false,id:this.PREFIX_ID+"TitlePanel",title:"Search Results",ctCls:"support-portal-panel",hidden:true},{xtype:"casetracking.search.advanced.ux.panel.results.common.ResultsContentPanel",id:this.PREFIX_ID+"NoResultsPanel",baseObjConfig:a.baseObjConfig,content:"Your Search Produced No Results",hidden:true},{xtype:"casetracking.search.advanced.ux.panel.results.common.ResultsContentPanel",id:this.PREFIX_ID+"TooManyResultsPanel",baseObjConfig:a.baseObjConfig,content:"Your Search Produced Too Many Results",hidden:true},{xtype:"casetracking.search.advanced.ux.panel.results.common.ResultsGridPanel",id:this.PREFIX_ID+"GridPanel",baseObjConfig:a.baseObjConfig,hidden:true}]};Ext.apply(this,b);casetracking.search.advanced.ux.panel.ResultsControllerPanel.superclass.constructor.call(this,b)},toggleResultsPanels:function(a){var b=a.panelId;for(i=0;i<this.RESULTS_PANELS_ARR.length;i++){Ext.getCmp(this.PREFIX_ID+this.RESULTS_PANELS_ARR[i]).hide();Ext.getCmp(this.PREFIX_ID+this.RESULTS_PANELS_ARR[i]).disable();Ext.getCmp(this.PREFIX_ID+this.RESULTS_PANELS_ARR[i]).cascade(function(c){if(c.isFormField){c.hide();c.disable()}})}Ext.getCmp(this.PREFIX_ID+b).enable();Ext.getCmp(this.PREFIX_ID+b).show();Ext.getCmp(this.PREFIX_ID+b).cascade(function(c){if(c.isFormField){c.show();c.enable()}});if(!Ext.isEmpty(a.searchList)){this.reconfigureGrid({searchList:a.searchList})}this.doLayout()},toggleTitlePanel:function(a){var b=a.panelId;if(!Ext.getCmp(this.PREFIX_ID+"TitlePanel").isVisible()){Ext.getCmp(this.PREFIX_ID+"TitlePanel").enable();Ext.getCmp(this.PREFIX_ID+"TitlePanel").show();Ext.getCmp(this.PREFIX_ID+"TitlePanel").cascade(function(c){if(c.isFormField){c.show();c.enable()}})}else{Ext.getCmp(this.PREFIX_ID+"TitlePanel").hide();Ext.getCmp(this.PREFIX_ID+"TitlePanel").disable();Ext.getCmp(this.PREFIX_ID+"TitlePanel").cascade(function(c){if(c.isFormField){c.hide();c.disable()}})}this.doLayout()},reconfigureGrid:function(b){var g=Ext.getCmp(this.PREFIX_ID+"GridPanel");var p;var n;var j=Ext.getCmp(this.FIELD_CASE_NUMBER_ID);var e=Ext.getCmp(this.FIELD_CREATED_BY_DATE_FROM_ID);var c=Ext.getCmp(this.FIELD_CREATED_BY_DATE_TO_ID);var d=Ext.getCmp(this.FIELD_PROVIDER_NAME_ID);var k=Ext.getCmp(this.FIELD_STATUS_ID+"ID");var l=Ext.getCmp(this.FIELD_CCODE_NAME_ID);function h(q,o){var s=false;var u=q;var t;var r=(!Ext.isEmpty(f.jsonData.lastLoginDate))?new Date(f.jsonData.lastLoginDate):undefined;if(this.USERCLASSCODE=="INT"){u=o}else{if(this.USERCLASSCODE=="CLI"){u=q}}if(!Ext.isEmpty(u)&&!Ext.isEmpty(u.time)&&!Ext.isEmpty(u.time.time)){t=new Date(u.time.time)}if(Ext.isDate(r)&&Ext.isDate(t)&&(casetracking.core.date.compare({fromDate:r,toDate:t}))){s=true}return s}n=new Ext.grid.ColumnModel({columns:[{header:"",sortable:false,dataIndex:"actionReqIcon",width:15,renderer:function(t,q,o,u,s,r){if(h(o.data.lastExternalModifyDate,o.data.lastModifyDate)){return"<div class='action-req-icon' style='float:left; visibility: visible;' title='Note Added'></div>"}else{return""}}},{header:"<BR>Created On",sortable:true,dataIndex:"createdOnDate",width:40,renderer:function(q){if(q.time){var o="";if(q!=null){o=new Date(q.time.time);o=o.format("m/d/Y")}return o}else{return q}}},{header:"<BR>Priority",sortable:true,dataIndex:"priority",width:50,renderer:function(q){try{q=q.clientPriorityDetail.name}catch(o){}return q}},{id:"caseNumber",header:"<BR>Service 	Case #",sortable:true,dataIndex:"caseNumber",width:50},{header:"<BR>Provider Name",sortable:true,dataIndex:"providerName",renderer:function(r){var o=r;if(r&&r.providerType){if(r.providerType=="PRAC"){o=r.lastName+", "+r.firstName}else{o=r.organizationName}}else{o=r.organizationName}try{o=Ext.util.Format.htmlEncode(o)}catch(q){}return o}}],defaults:{sortable:true,menuDisabled:true}});var a={caseNumber:(j.getValue())?j.getValue().trim():j.getValue(),createdByDateFrom:e.getRawValue(),createdByDateTo:c.getRawValue(),providerName:(d.getValue())?d.getValue().trim():d.getValue(),statusId:k.getValue(),isAllSearch:true};if(this.USERCLASSCODE=="INT"){a[this.FIELD_CCODE_NAME_ID]=(l.getValue())?l.getValue().trim():l.getValue()}var m=new Ext.grid.GridView({forceFit:true,getRowClass:function(s,q){var o="";var r=s.data;if(h(r.lastExternalModifyDate,r.lastModifyDate)){o="grid-row-highlight"}return o}});var f=new Ext.data.JsonReader({root:"caseList",fields:[{name:"actionReqIcon",mapping:"createDate"},{name:"createdOnDate",mapping:"createDate"},{name:"priority",mapping:"priority"},{name:"caseNumber"},{name:"providerName",mapping:"caseProvider"},{name:"lastExternalModifyDate",mapping:"lastExternalModifyDate"},{name:"lastModifyDate",mapping:"lastModifyDate"}],totalProperty:"totalNumberOfRecords"});p=new Ext.data.Store({reader:f,proxy:new Ext.data.HttpProxy({url:this.SEARCH_SUBMIT_URL}),remoteSort:true,baseParams:a});if((!Ext.isEmpty(p))&&(!Ext.isEmpty(n))){g.reconfigure(p,n);_gridPagingToolbar=g.getBottomToolbar();_gridPagingToolbar.bindStore(p);p.load({params:{start:0,limit:10}})}return}});Ext.reg("casetracking.search.advanced.ux.panel.ResultsControllerPanel",casetracking.search.advanced.ux.panel.ResultsControllerPanel);Ext.namespace("casetracking.search.advanced.ux.panel.results.common.ResultsContentPanel");casetracking.search.advanced.ux.panel.results.common.ResultsContentPanel=Ext.extend(Ext.Panel,{ID:undefined,RESULTS_MARKUP_TPL:new Ext.XTemplate('<div><b class="idxm-search-spiffy"><b class="idxm-search-spiffy1"><b></b></b><b class="idxm-search-spiffy2"><b></b></b><b class="idxm-search-spiffy3"></b><b class="idxm-search-spiffy4"></b><b class="idxm-search-spiffy5"></b></b>','<div class="idxm-search-spiffyfg"><center><br><font class="idxm-search-results-content">{content}</font></br><br></center></div>','<b class="idxm-search-spiffy"><b class="idxm-search-spiffy5"></b><b class="idxm-search-spiffy4"></b><b class="idxm-search-spiffy3"></b><b class="idxm-search-spiffy2"><b></b></b><b class="idxm-search-spiffy1"><b></b></b></b></div>'),constructor:function(a){this.ID=a.id;var b={id:a.id,style:"padding-top:15px;",html:this.RESULTS_MARKUP_TPL.applyTemplate({content:a.content}),hidden:a.hidden};Ext.apply(this,b);casetracking.search.advanced.ux.panel.results.common.ResultsContentPanel.superclass.constructor.call(this,b)}});Ext.reg("casetracking.search.advanced.ux.panel.results.common.ResultsContentPanel",casetracking.search.advanced.ux.panel.results.common.ResultsContentPanel);Ext.namespace("casetracking.search.advanced.ux.panel.results.common.ResultsGridPanel");casetracking.search.advanced.ux.panel.results.common.ResultsGridPanel=Ext.extend(Ext.grid.GridPanel,{SEARCH_SUBMIT_URL:undefined,CASE_URL:undefined,constructor:function(b){this.SEARCH_SUBMIT_URL=b.baseObjConfig.searchSubmitURL;this.CASE_URL=b.baseObjConfig.caseURL;var d=this.findParentByType("casetracking.search.advanced.ux.panel.LayoutPanel");function c(j,h){var l=false;var n=j;var m;var k=(!Ext.isEmpty(f.grid.store.reader.jsonData.lastLoginDate))?new Date(f.grid.store.reader.jsonData.lastLoginDate):undefined;if(b.baseObjConfig.userClassCode=="INT"){n=h}else{if(b.baseObjConfig.userClassCode=="CLI"){n=j}}if(!Ext.isEmpty(n)&&!Ext.isEmpty(n.time)&&!Ext.isEmpty(n.time.time)){m=new Date(n.time.time)}if(Ext.isDate(k)&&Ext.isDate(m)&&(casetracking.core.date.compare({fromDate:k,toDate:m}))){l=true}return l}var f=new Ext.grid.GridView({forceFit:true,getRowClass:function(l,j){var h="";var k=l.data;if(c(k.lastExternalModifyDate,k.lastModifyDate)){h="grid-row-highlight"}return h},emptyText:'<div align="center" class="casetrackingGridEmpty"><BR><b>No Cases</b></div>'});var g=new Ext.data.JsonReader({root:"caseList",fields:[{name:"actionReqIcon",mapping:"createDate"},{name:"createdOnDate",mapping:"createDate.time.time",type:"date",dateFormat:"timestamp"},{name:"priority",mapping:(("priority"!==null)&&("priority.clientPriorityDetail"!==undefined)&&("priority.clientPriorityDetail.name"!==undefined))?"priority":null},{name:"caseNumber"},{name:"providerName",mapping:"caseProvider"},{name:"lastExternalModifyDate",mapping:"lastExternalModifyDate"},{name:"lastModifyDate",mapping:"lastModifyDate"}],totalProperty:"totalNumberOfRecords"});var a=new Ext.data.Store({reader:g,proxy:new Ext.data.HttpProxy({url:this.SEARCH_SUBMIT_URL}),remoteSort:true,baseParams:{city:"Nueva Jork"}});var e={frame:false,border:false,autoHeight:true,enableColumnMove:false,enableColumnResize:false,colModel:new Ext.grid.ColumnModel({columns:[{header:"Created On",sortable:true,dataIndex:"createdOnDate"},{header:"Priority",sortable:true,dataIndex:"priority"},{id:"caseNumber",header:"Case #",sortable:true,dataIndex:"caseNumber"},{header:"Provider Name",sortable:true,dataIndex:"providerName"}],defaults:{sortable:true,menuDisabled:true}}),stripeRows:true,viewConfig:{rowHeight:25,scrollOffset:0,autoFill:true,forceFit:true},store:a,view:f,bbar:new Ext.PagingToolbar({pageSize:10,displayInfo:true,emptyMsg:"No Cases",border:false,store:a}),listeners:{rowdblclick:function(j,h,k){var l=j.getStore().getAt(h);j.el.mask("Opening Service Case <b>"+l.data.caseNumber+"</b>","x-mask-loading");document.location=this.CASE_URL+"?caseNumber="+l.data.caseNumber+"&fromSearch=true"}}};Ext.apply(this,b,e);casetracking.search.advanced.ux.panel.results.common.ResultsGridPanel.superclass.constructor.call(this,b)}});Ext.reg("casetracking.search.advanced.ux.panel.results.common.ResultsGridPanel",casetracking.search.advanced.ux.panel.results.common.ResultsGridPanel);Ext.namespace("casetracking.search.validation.SearchValidator");casetracking.search.validation.SearchValidator=function(){this.siblingRequiredCheck=function(c,a){var b=true;try{c=c.trim();sibVal_=Ext.getCmp(a).getValue();sibVal_=sibVal_.trim();if(Ext.isEmpty(c)&&Ext.isEmpty(sibVal_)){b="One of these fields is required."}}catch(d){}return b},this.oneFieldRequiredCheck=function(c){var b="One of these fields is required.";try{for(var a=0;a<c.length;a++){field_=Ext.getCmp(c[a]);fieldVal_=field_.getRawValue();fieldVal_=fieldVal_.trim();if(!Ext.isEmpty(fieldVal_)){b=true}}}catch(d){}return b}};casetracking.search.validation.SearchValidator=new casetracking.search.validation.SearchValidator();Ext.namespace("casetracking.search.validation.CompareDateRange");casetracking.search.validation.CompareDateRange=function(d,b,e){var d=Ext.getCmp(d);var b=Ext.getCmp(b);var a=d.getRawValue();var c=b.getRawValue();if((!Ext.isEmpty(a))&&(!Ext.isEmpty(c))){var g=d.parseDate(a);var f=b.parseDate(c);if(!g){return"From Date must be a date."}if(!f){return"To Date must be a date."}g=g.clearTime();f=f.clearTime();if(!g.between(g,f)){return"From date must be less than To date."}}else{if((Ext.isEmpty(a))&&(!Ext.isEmpty(c))){return"From date is required."}else{if((!Ext.isEmpty(a))&&(Ext.isEmpty(c))){return"To date is required."}else{if(e){return false}else{return true}}}}return true};Ext.apply(Ext.form.VTypes,{siblingRequiredText:"One of these fields is required",siblingRequired:function(c,b){c=c.trim();if(Ext.isEmpty(c)){var a=Ext.getCmp(b.siblingField).getValue();a=a.trim();if(Ext.isEmpty(a)){return false}}else{return true}}});Ext.namespace("casetracking.search.common.ux.panel.results.common.ResultsContentPanel");casetracking.search.common.ux.panel.results.common.ResultsContentPanel=Ext.extend(Ext.Panel,{ID:undefined,RESULTS_MARKUP_TPL:new Ext.XTemplate('<div><b class="idxm-search-spiffy"><b class="idxm-search-spiffy1"><b></b></b><b class="idxm-search-spiffy2"><b></b></b><b class="idxm-search-spiffy3"></b><b class="idxm-search-spiffy4"></b><b class="idxm-search-spiffy5"></b></b>','<div class="idxm-search-spiffyfg"><center><br><font class="idxm-search-results-content">{content}</font></br><br></center></div>','<b class="idxm-search-spiffy"><b class="idxm-search-spiffy5"></b><b class="idxm-search-spiffy4"></b><b class="idxm-search-spiffy3"></b><b class="idxm-search-spiffy2"><b></b></b><b class="idxm-search-spiffy1"><b></b></b></b></div>'),constructor:function(a){this.ID=a.id;var b={id:a.id,style:"padding-top:15px;",html:this.RESULTS_MARKUP_TPL.applyTemplate({content:a.content}),hidden:a.hidden};Ext.apply(this,b);casetracking.search.common.ux.panel.results.common.ResultsContentPanel.superclass.constructor.call(this,b)}});Ext.reg("casetracking.search.common.ux.panel.results.common.ResultsContentPanel",casetracking.search.common.ux.panel.results.common.ResultsContentPanel);Ext.namespace("casetracking.search.quick.ux.panel.QuickSearchPanel");casetracking.search.quick.ux.panel.QuickSearchPanel=Ext.extend(uRadix.form.FormPanel,{NAMESPACE:undefined,PREFIX_ID:"caseTrackingFilterPanel",RENDERURL:undefined,CASEURL:undefined,OPEN_CASE_URL:undefined,SEARCH_CASE_URL:undefined,SEARCH_SUBMIT_URL:undefined,QUICK_SEARCH_SUBMIT_URL:undefined,MPI_SEARCH_COOKIE_NAME:"$$mpi_casetracking_search_filters$$",FIELD_CASE_NUMBER_ID:"caseNumber",FIELD_CREATED_BY_DATE_FROM_ID:"createdByDateFrom",FIELD_CREATED_BY_DATE_TO_ID:"createdByDateTo",BUTTON_SEARCH_ID:"searchButton",constructor:function(a){this.NAMESPACE=a.nameSpace;this.RENDERURL=a.renderURL;this.CASEURL=a.caseURL;this.OPEN_CASE_URL=a.openCaseURL;this.SEARCH_CASE_URL=a.searchCaseURL;this.SEARCH_SUBMIT_URL=a.searchSubmitURL;this.QUICK_SEARCH_SUBMIT_URL=a.quickSearchSubmitURL;this.MPI_SEARCH_COOKIE_NAME=this.MPI_SEARCH_COOKIE_NAME;if(a.fieldIds&&(a.fieldIds!==undefined)){this.FIELD_CASE_NUMBER_ID=(a.fieldIds.caseNumberId&&(a.fieldIds.caseNumberId!==undefined))?a.fieldIds.caseNumberId:this.FIELD_CASE_NUMBER_ID;this.FIELD_CREATED_BY_DATE_FROM_ID=(a.fieldIds.createdByDateFromId&&(a.fieldIds.createdByDateFromId!==undefined))?a.fieldIds.createdByDateFromId:this.FIELD_CREATED_BY_DATE_FROM_ID;this.FIELD_CREATED_BY_DATE_TO_ID=(a.fieldIds.createdByDateToId&&(a.fieldIds.createdByDateToId!==undefined))?a.fieldIds.createdByDateToId:this.FIELD_CREATED_BY_DATE_FROM_ID}var b=[this.FIELD_CASE_NUMBER_ID,this.FIELD_CREATED_BY_DATE_FROM_ID,this.FIELD_CREATED_BY_DATE_TO_ID];this.BUTTON_SEARCH_ID=(a.buttonIds.searchButton&&(a.buttonIds.searchButton!==undefined))?a.buttonIds.searchButton:this.BUTTON_SEARCH_ID;var c={buttonAlign:"right",border:false,renderTo:a.renderTo,labelAlign:"top",items:[{xtype:"panel",border:false,html:"<div class='form-open-case-icon' style='visibility: visible;' onclick='Ext.getBody().mask(\"Open Service Case...\", \"x-mask-loading\"); window.location=\""+this.OPEN_CASE_URL+"\";' onmouseover=\"document.body.style.cursor='pointer';\" onmouseout=\"document.body.style.cursor='default';\"></div>"},{xtype:"panel",border:false,title:"Search Service Cases",ctCls:"support-portal-panel",style:"padding-top:5px;padding-bottom:5px;",html:"<table width='100%'><tr><td align='right'><div onclick='Ext.getBody().mask(\"Advanced Search...\", \"x-mask-loading\"); window.location=\""+this.SEARCH_CASE_URL+"\";' onmouseover=\"document.body.style.cursor='pointer';\" onmouseout=\"document.body.style.cursor='default';\"><a href='#' class='casetrackingLink'>More Search Options</a></div></td></tr></table></div>"},{xtype:"textfield",id:this.FIELD_CASE_NUMBER_ID,name:this.FIELD_CASE_NUMBER_ID,fieldLabel:"Service Case #",hideLabel:false,allowBlank:true,width:150,maxLength:40,validateOnBlur:false,validationEvent:false,validator:function(d){return casetracking.search.validation.SearchValidator.oneFieldRequiredCheck(b)}},{xtype:"panel",border:true,html:"<div class='casetrackingTextMedium'><b>OR</b></div>"},{height:10},{xtype:"label",bodyStyle:"padding-left:15px;",text:"Service Case Created Date:",cls:"supportPortalFormLabel"},{xtype:"panel",border:false,layout:"column",width:250,items:[{xtype:"panel",columnWidth:0.5,layout:"form",border:false,labelAlign:"top",items:[{xtype:"datefield",name:this.FIELD_CREATED_BY_DATE_FROM_ID,id:this.FIELD_CREATED_BY_DATE_FROM_ID,fieldLabel:"From",hideLabel:false,allowBlank:true,msgTarget:"under",maxValue:new Date(),validateOnBlur:false,validationEvent:false,validator:function(d){return casetracking.search.validation.SearchValidator.oneFieldRequiredCheck(b)}}]},{xtype:"panel",columnWidth:0.5,layout:"form",border:false,labelAlign:"top",items:[{xtype:"datefield",name:this.FIELD_CREATED_BY_DATE_TO_ID,id:this.FIELD_CREATED_BY_DATE_TO_ID,fieldLabel:"To",hideLabel:false,allowBlank:true,msgTarget:"under",maxValue:new Date(),validateOnBlur:false,validationEvent:false,validator:function(d){return casetracking.search.validation.SearchValidator.oneFieldRequiredCheck(b)}}]}]},{height:10},{xtype:"button",id:this.BUTTON_SEARCH_ID,style:"float:right;",text:"&nbsp;&nbsp;SEARCH&nbsp;&nbsp;",ctCls:"support-portal-btn",handler:this.filterSearchSubmit}],listeners:{uradix_enterkey:this.filterSearchSubmit,afterrender:function(){}}};Ext.apply(this,c);casetracking.search.quick.ux.panel.QuickSearchPanel.superclass.constructor.call(this,c)},filterSearchSubmit:function(){var a=undefined;if(this.getXType()=="casetracking.search.quick.ux.panel.QuickSearchPanel"){a=this}else{a=this.findParentByType("casetracking.search.quick.ux.panel.QuickSearchPanel")}if(a.getForm().isValid()){g_hideStatusBox();Ext.getCmp(a.BUTTON_SEARCH_ID).disable();var c=a.getForm();var b=new Array();a.findBy(function(g,f){if(g.isFormField){if(!Ext.isEmpty(g.getValue())&&!g.disabled){if(g.getXType()=="datefield"){b.push({id:g.id,value:g.getRawValue()})}else{g.setValue(g.getValue().trim());b.push({id:g.id,value:g.getValue()})}}}},this);if(!Ext.isEmpty(b)){uRadixCookieManager.createCookie(a.MPI_SEARCH_COOKIE_NAME,Ext.util.JSON.encode(b),1)}a.el.mask("Searching...","x-mask-loading");var e=Ext.getCmp(a.FIELD_CASE_NUMBER_ID);var d=e.getValue();d=(d&&d.trim())?d.trim():d;if(d){c.submit({url:a.SEARCH_SUBMIT_URL,isMessageIgnore:true,success:function(h,k){var j=Ext.decode(k.response.responseText);var g=j.caseList;var f=j.totalNumberOfRecords;if(g.length>0&&f>0){window.location=a.CASEURL+"?caseNumber="+d}else{e.markInvalid("None Found","Your search returned no results");a.el.unmask();Ext.getCmp(a.BUTTON_SEARCH_ID).enable()}},failure:function(f,g){e.markInvalid("None Found","Your search returned no results");g_showStatusBox();a.el.unmask();Ext.getCmp(a.BUTTON_SEARCH_ID).enable()}})}else{c.submit({url:a.QUICK_SEARCH_SUBMIT_URL,isMessageIgnore:true,success:function(f,g){window.location=a.SEARCH_CASE_URL+"?#posted=1"},failure:function(f,g){a.el.unmask();Ext.getCmp(a.BUTTON_SEARCH_ID).enable()}})}}}});Ext.reg("casetracking.search.quick.ux.panel.QuickSearchPanel",casetracking.search.quick.ux.panel.QuickSearchPanel);Ext.Ajax.timeout=7200000;Ext.namespace("casetracking.search.view.ux.panel.ViewAllPanels");casetracking.search.view.ux.panel.ViewAllPanels=Ext.extend(uRadix.form.FormPanel,{NAMESPACE:undefined,RENDERTO:undefined,SEARCH_CASE_SUBMIT_URL:undefined,CASE_URL:undefined,PRIORITY_LIST:undefined,SUBMITTED_BY_LIST:undefined,FORM_CMPS:undefined,COLMODELOPEN:undefined,COLMODELCLOSE:undefined,STOREOPEN:undefined,STORECLOSE:undefined,GRIDPANELOPEN:undefined,GRIDPANELCLOSE:undefined,MPI_VIEW_ALL_CASES_COOKIE_NAME:"$$mpi_casetracking_viewall_search_filters$$",FIELD_FILTER_SOURCE_ID:undefined,SUMITTED_BY_USER_NAME_URL:undefined,SUBMITTED_BY_USER_NAME_STORE:undefined,constructor:function(a){var d=this;this.NAMESPACE=a.namespace;this.RENDERTO=a.renderTo;this.SEARCH_CASE_SUBMIT_URL=a.searchCaseSubmitUrl;this.CASE_URL=a.caseUrl;this.FIELD_FILTER_SOURCE_ID=(a.fieldIds.filterSourceId&&(a.fieldIds.filterSourceId!==undefined))?a.fieldIds.filterSourceId:this.FIELD_FILTER_SOURCE_ID;this.USERCLASSCODE=a.userClassCode;this.SUMITTED_BY_USER_NAME_URL=a.submittedByUserNameUrl;this.PRIORITY_LIST=a.priorityList;this.SUBMITTED_BY_LIST=a.submittedByList;if(this.PRIORITY_LIST&&this.PRIORITY_LIST.length){this.PRIORITY_LIST=[{id:"",name:"Select",nameWithoutReasonCode:"- Select -"}].concat(this.PRIORITY_LIST)}var e={xtype:"panel",columnWidth:0.7,border:false,html:"&nbsp;"};if(a.userClassCode&&a.userClassCode!="PRV"){if(a.isManager){var b=new Ext.data.Store({proxy:new Ext.data.HttpProxy({url:a.submittedByUserNameUrl,method:"POST"}),reader:new Ext.data.JsonReader({root:"submitedByUserNameList",id:"id"},[{name:"id",mapping:"id"},{name:"name",mapping:"name"}]),autoLoad:true,listeners:{load:function(f,g){var j=Ext.getCmp("submittedByUserNameId").getValue();var h=Ext.getCmp("submittedByUserName");if(h){h.setValue(j)}}}});e={xtype:"panel",columnWidth:0.7,layout:"form",border:false,labelAlign:"top",hidden:!a.isManager,items:[{xtype:"resizable-combo",mode:"local",fieldLabel:"Filter by Submitter",hiddenName:"submitterId",allowBlank:true,name:"submittedByUserName",id:"submittedByUserName",msgTarget:"under",store:b,valueField:"id",emptyText:"- Select One -",displayField:"name",triggerAction:"all",editable:false,forceSelection:false,selectOnFocus:true,listeners:{render:function(){this.el.dom.name=this.name},select:function(h,f,g){Ext.getCmp("submittedByUserNameDesc").setValue(f.data.name);Ext.getCmp("submittedByUserNameId").setValue(f.data.id)}},typeAhead:true,typeAheadDelay:0}]}}this.FORM_CMPS=[e,{xtype:"panel",columnWidth:0.2,layout:"form",border:false,labelAlign:"top",items:[{xtype:"resizable-combo",mode:"local",fieldLabel:"Filter by Priority",hiddenName:"priorityId",allowBlank:true,name:"priorityName",id:"priorityName",msgTarget:"under",store:new Ext.data.JsonStore({fields:["id","nameWithoutReasonCode"],root:"rows",idProperty:"id",data:{rows:this.PRIORITY_LIST}}),valueField:"id",emptyText:"- Select -",displayField:"nameWithoutReasonCode",triggerAction:"all",editable:false,forceSelection:false,selectOnFocus:true,listeners:{render:function(){this.el.dom.name=this.name}},typeAhead:true,typeAheadDelay:0}]},{xtype:"panel",columnWidth:0.1,layout:"form",border:false,labelAlign:"top",items:[{height:15},{xtype:"button",id:"filterById",style:"float:right;",text:"&nbsp;&nbsp;FILTER&nbsp;&nbsp;",ctCls:"support-portal-btn",handler:this.SEARCHSUBMIT}]},{xtype:"hidden",id:"submittedByUserNameDesc",value:""},{xtype:"hidden",id:"submittedByUserNameId",value:""}]}this.getSubmittedBy=function(f){var g="";if(d.USERCLASSCODE=="INT"||d.USERCLASSCODE=="PRV"){g=f.data.createByUserOriginal.firstName+" "+f.data.createByUserOriginal.lastName}else{if(d.USERCLASSCODE=="CLI"){if(f.data.createByUserOriginal.userClass&&f.data.createByUserOriginal.userClass.internal){g="MultiPlan"}else{g=f.data.createByUserOriginal.firstName+" "+f.data.createByUserOriginal.lastName}}}return g};this.STOREOPEN=new casetracking.search.view.ux.panel.common.OpenStore({searchCaseSubmitUrl:this.SEARCH_CASE_SUBMIT_URL});this.COLMODELOPEN=new casetracking.search.view.ux.panel.common.OpenColumnModel({USERCLASSCODE:d.USERCLASSCODE,store:this.STOREOPEN,parentWindow:d});this.STORECLOSE=new casetracking.search.view.ux.panel.common.CloseStore({searchCaseSubmitUrl:this.SEARCH_CASE_SUBMIT_URL});this.COLMODELCLOSE=new casetracking.search.view.ux.panel.common.CloseColumnModel({USERCLASSCODE:d.USERCLASSCODE,store:this.STORECLOSE,parentWindow:d});this.GRIDVIEW=new Ext.grid.GridView({forceFit:true,getRowClass:function(m,g){var f="";var k=m.data;var l=k.lastExternalModifyDate;var j;var h=(!Ext.isEmpty(m.store.reader.jsonData.lastLoginDate))?new Date(m.store.reader.jsonData.lastLoginDate):undefined;if(d.USERCLASSCODE=="INT"){l=k.lastModifyDate}else{if(d.USERCLASSCODE=="CLI"||d.USERCLASSCODE=="PRV"){l=k.lastExternalModifyDate}}if(!Ext.isEmpty(l)&&!Ext.isEmpty(l.time)&&!Ext.isEmpty(l.time.time)){j=new Date(l.time.time)}if(Ext.isDate(h)&&Ext.isDate(j)&&(casetracking.core.date.compare({fromDate:h,toDate:j}))){f="grid-row-highlight"}return f},emptyText:'<div align="center" class="casetrackingGridEmpty"><BR><BR><BR><BR><b>No open service cases</b></div>'});this.GRIDCLOSEVIEW=new Ext.grid.GridView({forceFit:true,getRowClass:function(m,g){var f="";var k=m.data;var l=undefined;var j;var h=(!Ext.isEmpty(m.store.reader.jsonData.lastLoginDate))?new Date(m.store.reader.jsonData.lastLoginDate):undefined;if(m.store.reader.jsonData.caseList){if(d.USERCLASSCODE=="INT"){l=m.store.reader.jsonData.caseList[g].lastModifyDate}else{if(d.USERCLASSCODE=="CLI"||d.USERCLASSCODE=="PRV"){l=m.store.reader.jsonData.caseList[g].lastExternalModifyDate}}}if(!Ext.isEmpty(l)&&!Ext.isEmpty(l.time)&&!Ext.isEmpty(l.time.time)){j=new Date(l.time.time)}if(Ext.isDate(h)&&Ext.isDate(j)&&(casetracking.core.date.compare({fromDate:h,toDate:j}))){f="grid-row-highlight"}return f},emptyText:'<div align="center" class="casetrackingGridEmpty"><BR><BR><BR><BR><b>No closed service cases</b></div>'});this.GRIDPANELOPEN=new casetracking.search.view.ux.panel.common.GridPanel({caseUrl:this.CASE_URL,colmodel:this.COLMODELOPEN,store:this.STOREOPEN,view:this.GRIDVIEW,height:350,emptyText:'<div align="center" class="casetrackingGridEmpty"><BR><BR><BR><BR><b>No open service cases</b></div>'});this.GRIDPANELCLOSE=new casetracking.search.view.ux.panel.common.GridPanel({caseUrl:this.CASE_URL,colmodel:this.COLMODELCLOSE,store:this.STORECLOSE,view:this.GRIDCLOSEVIEW,height:325,emptyText:'<div align="center" class="casetrackingGridEmpty"><BR><BR><BR><BR><b>No closed service cases</b></div>'});this.TABPANEL=new Ext.TabPanel({activeTab:0,plain:true,height:378,defaults:{autoScroll:true},items:[{title:"Open Service Cases",autoHeight:true,items:[this.GRIDPANELOPEN]},{title:"Closed Service Cases",items:[this.GRIDPANELCLOSE]}]});var c={renderTo:this.RENDERTO,layout:"form",id:"searchForm"+this.NAMESPACE,border:false,bodyBorder:false,hideBorders:true,title:"View Service Cases",ctCls:"support-portal-panel",style:"padding-top:5px;padding-bottom:5px;",width:950,items:[{xtype:"panel",autoScroll:true,items:[{xtype:"panel",layout:"column",border:false,bodyBorder:false,hideBorders:true,items:this.FORM_CMPS,style:"padding-top:5px;"},this.TABPANEL]}],listeners:{uradix_enterkey:this.SEARCHSUBMIT,afterrender:function(){var k=uRadixCookieManager.readCookie(this.MPI_VIEW_ALL_CASES_COOKIE_NAME);uRadixCookieManager.eraseCookie(this.MPI_VIEW_ALL_CASES_COOKIE_NAME);k=Ext.util.JSON.decode(k);if(!Ext.isEmpty(k)&&((/posted=1/.test(window.location.hash))==true)){var f="";var h="";for(var g=0;g<k.length;g++){if(k[g].id=="submittedByUserNameDesc"){f=k[g].value}if(k[g].id=="submittedByUserName"){h=k[g].value}}this.getForm().setValues(k);var j=Ext.getCmp("submittedByUserName");if(j){j.setValue(f);j.setRawValue(h)}this.add({id:this.FIELD_FILTER_SOURCE_ID,xtype:"hidden",name:this.FIELD_FILTER_SOURCE_ID,value:"cookie"});this.SEARCHSUBMIT()}}}};Ext.apply(this,c);casetracking.search.view.ux.panel.ViewAllPanels.superclass.constructor.call(this,c)},SEARCHSUBMIT:function(){var n=undefined;if(this.getXType()=="casetracking.search.view.ux.panel.ViewAllPanels"){n=this}else{n=this.findParentByType("casetracking.search.view.ux.panel.ViewAllPanels")}var h=Ext.getCmp("searchForm"+n.NAMESPACE);var m=h.getForm();var g=Ext.getCmp("priorityName");var l=Ext.getCmp("submittedByUserNameId");var a=n.TABPANEL.getActiveTab();var b=new Array();n.findBy(function(p,o){if(p.isFormField){if(!Ext.isEmpty(p.getValue())&&!p.disabled){if(p.getXType()=="datefield"){b.push({id:p.id,value:p.getRawValue()})}else{p.setValue(p.getValue().trim());b.push({id:p.id,value:p.getValue()})}}}},this);if(!Ext.isEmpty(b)){uRadixCookieManager.createCookie(n.MPI_VIEW_ALL_CASES_COOKIE_NAME,Ext.util.JSON.encode(b),1)}var f=new Ext.data.Store({reader:new Ext.data.JsonReader({root:"caseList",fields:[{name:"lastModifiedAction",mapping:"createDate"},{name:"createdOnDate",mapping:"createDate"},{name:"reopenOnDate",mapping:"lastOpenDate"},{name:"priority",mapping:"priority"},{name:"caseNumber"},{name:"inquiryType",mapping:"originalCaseType.clientDetail.name"},{name:"network",mapping:"caseNetwork.clientNetworkDetail.name"},{name:"providerName",mapping:"caseProvider"},{name:"createdByUser",mapping:"assignedToClientUser"},{name:"assignedToClientUser",mapping:"assignedToClientUser"},{name:"assignedToProviderUser",mapping:"assignedToProviderUser"},{name:"assignedToServiceUser",mapping:"assignedToServiceUser"},{name:"createdByUserForInternal",mapping:"createByUser"},{name:"lastExternalModifyDate",mapping:"lastExternalModifyDate"},{name:"lastModifyDate",mapping:"lastModifyDate"},{name:"createByUserOriginal",mapping:"createByUserOriginal"}],totalProperty:"totalNumberOfRecords"}),proxy:new Ext.data.HttpProxy({url:n.SEARCH_CASE_SUBMIT_URL}),remoteSort:true,baseParams:{caseNumber:"",createdByDateFrom:"",createdByDateTo:"",providerName:"",statusId:"OPEN",priorityId:g.getValue(),submittedByUserName:l.getValue(),isAllSearch:"true"}});if((!Ext.isEmpty(f))&&(!Ext.isEmpty(n.COLMODELOPEN))){f.on("beforeload",function(){var o=n.GRIDPANELOPEN.getGridEl();if(typeof o=="object"){o.mask("Loading Records...","x-mask-loading")}});f.on("load",function(){var o=n.GRIDPANELOPEN.getGridEl();o.unmask()});n.TABPANEL.setActiveTab(0);n.GRIDPANELOPEN.reconfigure(f,n.COLMODELOPEN);var j=n.GRIDPANELOPEN.getBottomToolbar();j.bindStore(f);var e=n.GRIDPANELOPEN.getView();e.getRowClass=function(u,p){var o="";var s=u.data;var t=s.lastExternalModifyDate;var r;var q=(!Ext.isEmpty(f.reader.jsonData.lastLoginDate))?new Date(f.reader.jsonData.lastLoginDate):undefined;if(n.USERCLASSCODE=="INT"){t=s.lastModifyDate}else{if(n.USERCLASSCODE=="CLI"){t=s.lastExternalModifyDate}}if(!Ext.isEmpty(t)&&!Ext.isEmpty(t.time)&&!Ext.isEmpty(t.time.time)){r=new Date(t.time.time)}if(Ext.isDate(q)&&Ext.isDate(r)&&(casetracking.core.date.compare({fromDate:q,toDate:r}))){o="grid-row-highlight"}return o};f.load({params:{start:0,limit:10}});window.location.hash="posted=1"}var k=new Ext.data.Store({reader:new Ext.data.JsonReader({root:"caseList",fields:[{name:"lastModifiedAction",mapping:"createDate"},{name:"closedOnDate",mapping:"lastCloseDate"},{name:"priority",mapping:"priority"},{name:"caseNumber"},{name:"inquiryType",mapping:"originalCaseType.clientDetail.name"},{name:"network",mapping:"caseNetwork.clientNetworkDetail.name"},{name:"providerName",mapping:"caseProvider"},{name:"createdByUser",mapping:"assignedToClientUser"},{name:"assignedToClientUser",mapping:"assignedToClientUser"},{name:"assignedToProviderUser",mapping:"assignedToProviderUser"},{name:"assignedToServiceUser",mapping:"assignedToServiceUser"},{name:"createdByUserForInternal",mapping:"createByUser"},{name:"lastExternalModifyDate",mapping:"lastExternalModifyDate"},{name:"lastModifyDate",mapping:"lastModifyDate"},{name:"createByUserOriginal",mapping:"createByUserOriginal"}],totalProperty:"totalNumberOfRecords"}),proxy:new Ext.data.HttpProxy({url:n.SEARCH_CASE_SUBMIT_URL}),remoteSort:true,baseParams:{caseNumber:"",createdByDateFrom:"",createdByDateTo:"",providerName:"",statusId:"CLOSED",priorityId:g.getValue(),submittedByUserName:l.getValue(),isAllSearch:"true"}});var c=n.GRIDPANELCLOSE.getView();c.getRowClass=function(u,p){var o="";var s=u.data;var t=s.lastExternalModifyDate;var r;var q=(!Ext.isEmpty(k.reader.jsonData.lastLoginDate))?new Date(k.reader.jsonData.lastLoginDate):undefined;if(n.USERCLASSCODE=="INT"){t=s.lastModifyDate}else{if(n.USERCLASSCODE=="CLI"){t=s.lastExternalModifyDate}}if(!Ext.isEmpty(t)&&!Ext.isEmpty(t.time)&&!Ext.isEmpty(t.time.time)){r=new Date(t.time.time)}if(Ext.isDate(q)&&Ext.isDate(r)&&(casetracking.core.date.compare({fromDate:q,toDate:r}))){o="grid-row-highlight"}return o};if((!Ext.isEmpty(k))&&(!Ext.isEmpty(n.COLMODELCLOSE))){k.on("beforeload",function(){var o=n.GRIDPANELCLOSE.getGridEl();if(typeof o=="object"){o.mask("Loading Records...","x-mask-loading")}});k.on("load",function(){var o=n.GRIDPANELCLOSE.getGridEl();o.unmask()});n.TABPANEL.setActiveTab(1);n.GRIDPANELCLOSE.reconfigure(k,n.COLMODELCLOSE);var d=n.GRIDPANELCLOSE.getBottomToolbar();d.bindStore(k);k.load({params:{start:0,limit:10}});window.location.hash="posted=1"}n.TABPANEL.setActiveTab(a)}});Ext.reg("casetracking.search.view.ux.panel.ViewAllPanels",casetracking.search.view.ux.panel.ViewAllPanels);Ext.namespace("casetracking.search.view.ux.panel.ViewSummaryClosedPanel");casetracking.search.view.ux.panel.ViewSummaryClosedPanel=Ext.extend(Ext.Panel,{NAMESPACE:undefined,RENDERTO:undefined,SEARCH_CASE_SUBMIT_URL:undefined,CASE_URL:undefined,STORE:undefined,COLMODEL:undefined,GRIDPANEL:undefined,constructor:function(a){var d=this;this.NAMESPACE=a.namespace;this.RENDERTO=a.renderto;this.SEARCH_CASE_SUBMIT_URL=a.searchCaseSubmitUrl;this.CASE_URL=a.caseUrl;this.USERCLASSCODE=a.userClassCode;this.COLMODEL=new Ext.grid.ColumnModel({columns:[{header:"",sortable:false,dataIndex:"actionReqIcon",width:15,renderer:function(j,f,e,k,h,g){if(b(e.data.lastExternalModifyDate,e.data.lastModifyDate)){return"<div class='action-req-icon' style='float:left; visibility: visible;' title='Note Added'></div>"}else{return""}}},{header:"Closed On",sortable:false,dataIndex:"closedOnDate",renderer:function(f){if(f&&f.time){var e="";if(f!=null){e=new Date(f.time.time);e=e.format("m/d/Y")}return e}else{return f}}},{id:"caseNumber",header:"Service<br>Case #",sortable:false,dataIndex:"caseNumber"},{header:"Priority",sortable:false,dataIndex:"priority",renderer:function(k,g,f,m,j,h){try{if(f&&f.json&&f.json.caseContact&&f.json.caseContact.callerType=="PRV"){k=k.providerPriorityDetail.name;if(k.providerPriorityReasonDetail.name){k+=" - "+a.aCase.priority.providerPriorityReasonDetail.name}}else{k=k.clientPriorityDetail.name;if(k.clientPriorityReasonDetail.name){k+=" - "+a.aCase.priority.clientPriorityReasonDetail.name}}}catch(l){}return k}},{header:"Provider Name",sortable:false,dataIndex:"providerName",renderer:function(h){var f=h;if(h&&h.providerType){if(h.providerType=="PRAC"){f=h.lastName+", "+h.firstName}else{f=h.organizationName}}else{f=h.organizationName}try{f=Ext.util.Format.htmlEncode(f)}catch(g){}return f}}],defaults:{sortable:true,menuDisabled:true}});this.READER=new Ext.data.JsonReader({root:"caseList",fields:[{name:"actionReqIcon",mapping:"createDate"},{name:"closedOnDate",mapping:"lastCloseDate"},{name:"priority",mapping:"priority"},{name:"caseNumber"},{name:"inquiryType",mapping:"originalCaseType.clientDetail.name"},{name:"network",mapping:"caseNetwork.clientNetworkDetail.name"},{name:"providerName",mapping:"caseProvider"},{name:"createdByUser",mapping:'createByUser.lastName+", "+obj.createByUser.firstName'},{name:"lastExternalModifyDate",mapping:"lastExternalModifyDate"},{name:"lastModifyDate",mapping:"lastModifyDate"},{name:"createByUserOriginal",mapping:"createByUserOriginal"}],totalProperty:"totalNumberOfRecords"});this.STORE=new Ext.data.Store({reader:this.READER,proxy:new Ext.data.HttpProxy({url:this.SEARCH_CASE_SUBMIT_URL}),remoteSort:true,baseParams:{caseNumber:"",createdByDateFrom:"",createdByDateTo:"",providerName:"",statusId:"CLOSED",isAllSearch:"false"}});this.GRIDVIEW=new Ext.grid.GridView({forceFit:true,getRowClass:function(h,f){var e="";var g=h.data;if(b(g.lastExternalModifyDate,g.lastModifyDate)){e="grid-row-highlight"}return e},emptyText:'<div align="center" class="casetrackingGridEmpty"><BR><b>No closed service cases</b></div>'});function b(f,e){var h=false;var j;var g=(!Ext.isEmpty(d.READER.jsonData.lastLoginDate))?new Date(d.READER.jsonData.lastLoginDate):undefined;if(d.USERCLASSCODE=="INT"){dataField=e}else{if(d.USERCLASSCODE=="CLI"){dataField=f}else{if(d.USERCLASSCODE=="PRV"){dataField=f}}}if(!Ext.isEmpty(dataField)&&!Ext.isEmpty(dataField.time)&&!Ext.isEmpty(dataField.time.time)){j=new Date(dataField.time.time)}if(Ext.isDate(g)&&Ext.isDate(j)&&(casetracking.core.date.compare({fromDate:g,toDate:j}))){h=true}return h}this.GRIDPANEL=new Ext.grid.GridPanel({frame:false,style:"padding-top:5px;",layout:"fit",border:false,colModel:this.COLMODEL,stripeRows:true,autoHeight:true,enableColumnMove:false,enableColumnResize:false,loadMask:true,viewConfig:{rowHeight:20,scrollOffset:0,autoFill:true,forceFit:true,emptyText:'<div align="center" class="casetrackingGridEmpty"><BR><b>No closed service cases</b></div>'},store:this.STORE,view:this.GRIDVIEW,listeners:{rowdblclick:function(h,f,j){var k=h.getStore().getAt(f);h.el.mask("Opening Service Case <b>"+k.data.caseNumber+"</b>","x-mask-loading");document.location=d.CASE_URL+"?caseNumber="+k.data.caseNumber}}});var c={renderTo:this.RENDERTO,title:"My Closed Service Cases",ctCls:"support-portal-panel",bodyBorder:false,border:false,items:[this.GRIDPANEL]};Ext.apply(this,c);casetracking.search.view.ux.panel.ViewSummaryClosedPanel.superclass.constructor.call(this,c)}});Ext.reg("casetracking.search.view.ux.panel.ViewSummaryClosedPanel",casetracking.search.view.ux.panel.ViewSummaryClosedPanel);Ext.namespace("casetracking.search.view.ux.panel.ViewSummaryOpenPanel");casetracking.search.view.ux.panel.ViewSummaryOpenPanel=Ext.extend(Ext.Panel,{NAMESPACE:undefined,RENDERTO:undefined,SEARCH_CASE_SUBMIT_URL:undefined,CASE_URL:undefined,STORE:undefined,COLMODEL:undefined,GRIDPANEL:undefined,USERCLASSCODE:undefined,constructor:function(a){var d=this;this.NAMESPACE=a.namespace;this.RENDERTO=a.renderto;this.SEARCH_CASE_SUBMIT_URL=a.searchCaseSubmitUrl;this.CASE_URL=a.caseUrl;this.USERCLASSCODE=a.userClassCode;this.COLMODEL=new Ext.grid.ColumnModel({columns:[{header:"",sortable:false,dataIndex:"actionReqIcon",width:15,renderer:function(j,f,e,k,h,g){if(b(e.data.lastExternalModifyDate,e.data.lastModifyDate)){return"<div class='action-req-icon' style='float:left; visibility: visible;' title='Note Added'></div>"}else{return""}}},{header:"Created On",sortable:false,dataIndex:"createdOnDate",renderer:function(f){if(f.time){var e="";if(f!=null){e=new Date(f.time.time);e=e.format("m/d/Y")}return e}else{return f}}},{id:"caseNumber",header:"Service<br>Case #",sortable:false,dataIndex:"caseNumber"},{header:"Priority",sortable:false,dataIndex:"priority",renderer:function(k,g,f,m,j,h){try{if(f&&f.json&&f.json.caseContact&&f.json.caseContact.callerType=="PRV"){k=k.providerPriorityDetail.name;if(k.providerPriorityReasonDetail.name){k+=" - "+a.aCase.priority.providerPriorityReasonDetail.name}}else{k=k.clientPriorityDetail.name;if(k.clientPriorityReasonDetail.name){k+=" - "+a.aCase.priority.clientPriorityReasonDetail.name}}}catch(l){}return k}},{header:"Provider Name",sortable:false,dataIndex:"providerName",renderer:function(h){var f=h;if(h&&h.providerType){if(h.providerType=="PRAC"){f=h.lastName+", "+h.firstName}else{f=h.organizationName}}else{f=h.organizationName}try{f=Ext.util.Format.htmlEncode(f)}catch(g){}return f}}],defaults:{sortable:true,menuDisabled:true}});this.READER=new Ext.data.JsonReader({root:"caseList",fields:[{name:"actionReqIcon",mapping:"createDate"},{name:"createdOnDate",mapping:"createDate"},{name:"priority",mapping:"priority"},{name:"caseNumber"},{name:"inquiryType",mapping:"originalCaseType.clientDetail.name"},{name:"network",mapping:"caseNetwork.clientNetworkDetail.name"},{name:"providerName",mapping:"caseProvider"},{name:"createdByUser",mapping:'createByUser.lastName+", "+obj.createByUser.firstName'},{name:"lastExternalModifyDate",mapping:"lastExternalModifyDate"},{name:"lastModifyDate",mapping:"lastModifyDate"},{name:"createByUserOriginal",mapping:"createByUserOriginal"}],totalProperty:"totalNumberOfRecords"});this.STORE=new Ext.data.Store({reader:this.READER,proxy:new Ext.data.HttpProxy({url:this.SEARCH_CASE_SUBMIT_URL}),remoteSort:true,baseParams:{caseNumber:"",createdByDateFrom:"",createdByDateTo:"",providerName:"",statusId:"OPEN",isAllSearch:"false"}});this.GRIDVIEW=new Ext.grid.GridView({forceFit:true,getRowClass:function(h,f){var e="";var g=h.data;if(b(g.lastExternalModifyDate,g.lastModifyDate)){e="grid-row-highlight"}return e},emptyText:'<div align="center" class="casetrackingGridEmpty"><BR><b>No open service cases</b></div>'});function b(f,e){var h=false;var k=f;var j;var g=(!Ext.isEmpty(d.READER.jsonData.lastLoginDate))?new Date(d.READER.jsonData.lastLoginDate):undefined;if(d.USERCLASSCODE=="INT"){k=e}else{if(d.USERCLASSCODE=="CLI"||d.USERCLASSCODE=="PRV"){k=f}}if(!Ext.isEmpty(k)&&!Ext.isEmpty(k.time)&&!Ext.isEmpty(k.time.time)){j=new Date(k.time.time)}if(Ext.isDate(g)&&Ext.isDate(j)&&(casetracking.core.date.compare({fromDate:g,toDate:j}))){h=true}return h}this.GRIDPANEL=new Ext.grid.GridPanel({frame:false,layout:"fit",border:false,colModel:this.COLMODEL,stripeRows:true,autoHeight:true,enableColumnMove:false,enableColumnResize:false,style:"padding-top:5px;",loadMask:true,viewConfig:{rowHeight:20,scrollOffset:0,autoFill:true,forceFit:true,emptyText:'<div align="center" class="casetrackingGridEmpty"><BR><b>No open service cases</b></div>'},view:this.GRIDVIEW,store:this.STORE,listeners:{rowdblclick:function(h,f,j){var k=h.getStore().getAt(f);h.el.mask("Opening Service Case <b>"+k.data.caseNumber+"</b>","x-mask-loading");document.location=d.CASE_URL+"?caseNumber="+k.data.caseNumber}}});var c={renderTo:this.RENDERTO,title:"My Open Service Cases",ctCls:"support-portal-panel",bodyBorder:false,border:false,items:[this.GRIDPANEL]};Ext.apply(this,c);casetracking.search.view.ux.panel.ViewSummaryOpenPanel.superclass.constructor.call(this,c)}});Ext.reg("casetracking.search.view.ux.panel.ViewSummaryOpenPanel",casetracking.search.view.ux.panel.ViewSummaryOpenPanel);Ext.namespace("casetracking.search.view.ux.panel.common.CloseColumnModel");casetracking.search.view.ux.panel.common.CloseColumnModel=Ext.extend(Ext.grid.ColumnModel,{NAMESPACE:undefined,RENDERTO:undefined,constructor:function(a){function b(e,d,g){var f=false;var h;if(a.USERCLASSCODE=="INT"){dataField=d}else{if(a.USERCLASSCODE=="CLI"||a.USERCLASSCODE=="PRV"){dataField=e}}if(!Ext.isEmpty(dataField)&&!Ext.isEmpty(dataField.time)&&!Ext.isEmpty(dataField.time.time)){h=new Date(dataField.time.time)}if(Ext.isDate(g)&&Ext.isDate(h)&&(casetracking.core.date.compare({fromDate:g,toDate:h}))){f=true}return f}var c={columns:[{header:"",sortable:false,dataIndex:"lastModifiedAction",width:15,renderer:function(k,d,h,j,m,l){var g;var e;var f;if(l&&l.reader&&l.reader.jsonData&&l.reader.jsonData.caseList&&l.reader.jsonData.caseList[j]){g=l.reader.jsonData.caseList[j].lastExternalModifyDate;e=l.reader.jsonData.caseList[j].lastModifyDate;f=(!Ext.isEmpty(l.reader.jsonData.lastLoginDate))?new Date(l.reader.jsonData.lastLoginDate):undefined}if(b(g,e,f)){return"<div class='action-req-icon' style='float:left; visibility: visible;' title='Note Added'></div>"}else{return""}return""}},{header:"Closed On",sortable:true,dataIndex:"closedOnDate",width:65,renderer:function(e){if(e&&e.time){var d="";if(e!=null){d=new Date(e.time.time);d=d.format("m/d/Y")}return d}else{return e}}},{id:"caseNumber",header:"Service<br>Case #",sortable:true,dataIndex:"caseNumber",width:55},{header:"Priority",sortable:true,dataIndex:"priority",renderer:function(j,f,d,l,h,g){try{if(d&&d.json&&d.json.caseContact&&d.json.caseContact.callerType=="PRV"){j=j.providerPriorityDetail.name;if(j.providerPriorityReasonDetail.name){j+=" - "+a.aCase.priority.providerPriorityReasonDetail.name}}else{j=j.clientPriorityDetail.name;if(j.clientPriorityReasonDetail.name){j+=" - "+a.aCase.priority.clientPriorityReasonDetail.name}}}catch(k){}return j}},{header:"Inquiry Type",sortable:true,dataIndex:"inquiryType",renderer:function(h,e,d,k,g,f){var j=h;if(d&&d.json&&d.json.caseContact&&d.json.caseContact.callerType=="PRV"){j=d.json.originalCaseType.providerDetail.name}return j}},{header:"Reason for<br>Inquiry",sortable:true,dataIndex:"caseSubType",hidden:((a.USERCLASSCODE=="PRV")||(a.USERCLASSCODE=="CLI"))?false:true,renderer:function(j,f,e,k,h,g){var d=j;if(e&&e.json&&e.json.caseContact){if(e.json.caseContact.callerType=="PRV"){d=e.json.originalCaseType.subType.providerDetail.name}else{if(e.json.caseContact.callerType=="CLI"){d=e.json.originalCaseType.subType.clientDetail.name}}}return d}},{header:"Network",sortable:true,dataIndex:"network",renderer:function(j,e,d,k,g,f){var h=j;if(d&&d.json&&d.json.caseContact&&d.json.caseContact.callerType=="PRV"){h=d.json.caseNetwork.providerNetworkDetail.name}return h}},{header:"Provider Name",sortable:true,dataIndex:"providerName",renderer:function(g){var d=g;if(g&&g.providerType){if(g.providerType=="PRAC"){d=g.lastName+", "+g.firstName}else{d=g.organizationName}}else{d=g.organizationName}try{d=Ext.util.Format.htmlEncode(d)}catch(f){}return d}},{header:"Submitted By",sortable:true,dataIndex:"assignedToClientUser",renderer:function(h,e,d,k,g,f){var j=a.parentWindow.getSubmittedBy(d);return j}}],defaults:{sortable:true,menuDisabled:true}};Ext.apply(this,c);casetracking.search.view.ux.panel.common.CloseColumnModel.superclass.constructor.call(this,c)}});Ext.reg("casetracking.search.view.ux.panel.common.CloseColumnModel",casetracking.search.view.ux.panel.common.CloseColumnModel);Ext.namespace("casetracking.search.view.ux.panel.common.CloseStore");casetracking.search.view.ux.panel.common.CloseStore=Ext.extend(Ext.data.Store,{NAMESPACE:undefined,SEARCH_CASE_SUBMIT_URL:undefined,constructor:function(a){this.SEARCH_CASE_SUBMIT_URL=a.searchCaseSubmitUrl;var b={reader:new Ext.data.JsonReader({root:"caseList",fields:[{name:"closedOnDate",mapping:"lastCloseDate"},{name:"priority",mapping:"priority"},{name:"caseNumber"},{name:"inquiryType",mapping:"originalCaseType.clientDetail.name"},{name:"network",mapping:"caseNetwork.clientNetworkDetail.name"},{name:"providerName",mapping:"caseProvider"},{name:"createdByUser",mapping:"assignedToClientUser"},{name:"assignedToClientUser",mapping:"assignedToClientUser"},{name:"assignedToProviderUser",mapping:"assignedToProviderUser"},{name:"assignedToServiceUser",mapping:"assignedToServiceUser"},{name:"createdByUserForInternal",mapping:"createByUser"},{name:"createByUserOriginal",mapping:"createByUserOriginal"}],totalProperty:"totalNumberOfRecords"}),proxy:new Ext.data.HttpProxy({url:this.SEARCH_CASE_SUBMIT_URL}),remoteSort:true,baseParams:{caseNumber:"",createdByDateFrom:"",createdByDateTo:"",providerName:"",statusId:"CLOSED",isAllSearch:"true"}};Ext.apply(this,b);casetracking.search.view.ux.panel.common.CloseStore.superclass.constructor.call(this,b)}});Ext.reg("casetracking.search.view.ux.panel.common.CloseStore",casetracking.search.view.ux.panel.common.CloseStore);Ext.namespace("casetracking.search.view.ux.panel.common.GridPanel");casetracking.search.view.ux.panel.common.GridPanel=Ext.extend(Ext.grid.GridPanel,{NAMESPACE:undefined,CASE_URL:undefined,STORE:undefined,COLMODEL:undefined,EMPTY_TEXT:undefined,GRIDVIEW:undefined,constructor:function(a){this.CASE_URL=a.caseUrl;this.STORE=a.store;this.COLMODEL=a.colmodel;this.EMPTY_TEXT=(a.emptyText&&a.emptyText!==undefined)?a.emptyText:"";this.GRIDVIEW=a.view;var b={frame:false,layout:"fit",border:false,enableColumnMove:false,enableColumnResize:false,colModel:this.COLMODEL,stripeRows:true,height:a.height,viewConfig:{rowHeight:25,scrollOffset:0,autoFill:true,forceFit:true,emptyText:this.EMPTY_TEXT},store:this.STORE,bbar:new Ext.PagingToolbar({pageSize:10,displayInfo:true,emptyMsg:"",border:false,store:this.STORE}),listeners:{rowdblclick:function(d,c,f){var h=d.getStore().getAt(c);d.el.mask("Opening Service Case <b>"+h.data.caseNumber+"</b>","x-mask-loading");document.location=this.CASE_URL+"?caseNumber="+h.data.caseNumber+"&fromSearch=true"}}};if(this.GRIDVIEW){b.view=this.GRIDVIEW}Ext.apply(this,b);casetracking.search.view.ux.panel.common.GridPanel.superclass.constructor.call(this,b)}});Ext.reg("casetracking.search.view.ux.panel.common.GridPanel",casetracking.search.view.ux.panel.common.GridPanel);function openCase(a,b){Ext.get(document.body.id).mask("Opening Service Case <b>"+b+"</b>","x-mask-loading");document.location=a+"?caseNumber="+b+"&fromSearch=true"}Ext.namespace("casetracking.search.view.ux.panel.common.OpenColumnModel");casetracking.search.view.ux.panel.common.OpenColumnModel=Ext.extend(Ext.grid.ColumnModel,{NAMESPACE:undefined,RENDERTO:undefined,constructor:function(a){var d=this;function b(f,e,h){var g=false;var j;if(a.USERCLASSCODE=="INT"){dataField=e}else{if(a.USERCLASSCODE=="CLI"||a.USERCLASSCODE=="PRV"){dataField=f}}if(!Ext.isEmpty(dataField)&&!Ext.isEmpty(dataField.time)&&!Ext.isEmpty(dataField.time.time)){j=new Date(dataField.time.time)}if(Ext.isDate(h)&&Ext.isDate(j)&&(casetracking.core.date.compare({fromDate:h,toDate:j}))){g=true}return g}var c={columns:[{header:"",sortable:false,dataIndex:"lastModifiedAction",width:15,renderer:function(l,e,j,k,n,m){var h;var f;var g;if(m&&m.reader&&m.reader.jsonData&&m.reader.jsonData.caseList&&m.reader.jsonData.caseList[k]){h=m.reader.jsonData.caseList[k].lastExternalModifyDate;f=m.reader.jsonData.caseList[k].lastModifyDate;g=(!Ext.isEmpty(m.reader.jsonData.lastLoginDate))?new Date(m.reader.jsonData.lastLoginDate):undefined}if(b(h,f,g)){return"<div class='action-req-icon' style='float:left; visibility: visible;' title='Note Added'></div>"}else{return""}return""}},{header:"Created On",sortable:true,dataIndex:"createdOnDate",width:65,renderer:function(f){if(f&&f.time){var e="";if(f!=null){e=new Date(f.time.time);e=e.format("m/d/Y")}return e}else{return f}}},{id:"caseNumber",header:"Service<br>Case #",sortable:true,dataIndex:"caseNumber",width:55},{header:"Priority",sortable:true,dataIndex:"priority",renderer:function(k,g,f,m,j,h){try{if(f&&f.json&&f.json.caseContact&&f.json.caseContact.callerType=="PRV"){k=k.providerPriorityDetail.name;if(k.providerPriorityReasonDetail.name){k+=" - "+a.aCase.priority.providerPriorityReasonDetail.name}}else{k=k.clientPriorityDetail.name;if(k.clientPriorityReasonDetail.name){k+=" - "+a.aCase.priority.clientPriorityReasonDetail.name}}}catch(l){}return k}},{header:"Inquiry Type",sortable:true,dataIndex:"inquiryType",renderer:function(j,f,e,l,h,g){var k=j;if(e&&e.json&&e.json.caseContact&&e.json.caseContact.callerType=="PRV"){k=e.json.originalCaseType.providerDetail.name}return k}},{header:"Reason for<br>Inquiry",sortable:true,dataIndex:"caseSubType",hidden:((a.USERCLASSCODE=="PRV")||(a.USERCLASSCODE=="CLI"))?false:true,renderer:function(k,g,f,l,j,h){var e=k;if(f&&f.json&&f.json.caseContact){if(f.json.caseContact.callerType=="PRV"){e=f.json.originalCaseType.subType.providerDetail.name}else{if(f.json.caseContact.callerType=="CLI"){e=f.json.originalCaseType.subType.clientDetail.name}}}return e}},{header:"Network",sortable:true,dataIndex:"network",renderer:function(k,f,e,l,h,g){var j=k;if(e&&e.json&&e.json.caseContact&&e.json.caseContact.callerType=="PRV"){j=e.json.caseNetwork.providerNetworkDetail.name}return j}},{header:"Provider Name",sortable:true,dataIndex:"providerName",renderer:function(h){var f=h;if(h&&h.providerType){if(h.providerType=="PRAC"){f=h.lastName+", "+h.firstName}else{f=h.organizationName}}else{f=h.organizationName}try{f=Ext.util.Format.htmlEncode(f)}catch(g){}return f}},{header:"Submitted By",sortable:true,dataIndex:"assignedToClientUser",renderer:function(j,f,e,l,h,g){var k=a.parentWindow.getSubmittedBy(e);return k}},{header:"Reopened On",sortable:true,dataIndex:"reopenOnDate",width:65,renderer:function(f){if(f&&f.time){var e="";if(f!=null){e=new Date(f.time.time);e=e.format("m/d/Y")}return e}else{return f}}}],defaults:{sortable:true,menuDisabled:true}};Ext.apply(this,c);casetracking.search.view.ux.panel.common.OpenColumnModel.superclass.constructor.call(this,c)}});Ext.reg("casetracking.search.view.ux.panel.common.OpenColumnModel",casetracking.search.view.ux.panel.common.OpenColumnModel);Ext.namespace("casetracking.search.view.ux.panel.common.OpenStore");casetracking.search.view.ux.panel.common.OpenStore=Ext.extend(Ext.data.Store,{NAMESPACE:undefined,SEARCH_CASE_SUBMIT_URL:undefined,constructor:function(a){this.SEARCH_CASE_SUBMIT_URL=a.searchCaseSubmitUrl;var b={reader:new Ext.data.JsonReader({root:"caseList",fields:[{name:"createdOnDate",mapping:"createDate"},{name:"reopenOnDate",mapping:"lastOpenDate"},{name:"priority",mapping:"priority"},{name:"caseNumber"},{name:"inquiryType",mapping:"originalCaseType.clientDetail.name"},{name:"network",mapping:"caseNetwork.clientNetworkDetail.name"},{name:"providerName",mapping:"caseProvider"},{name:"createdByUser",mapping:"assignedToClientUser"},{name:"assignedToClientUser",mapping:"assignedToClientUser"},{name:"assignedToProviderUser",mapping:"assignedToProviderUser"},{name:"assignedToServiceUser",mapping:"assignedToServiceUser"},{name:"lastExternalModifyDate",mapping:"lastExternalModifyDate"},{name:"lastModifyDate",mapping:"lastModifyDate"},{name:"createdByUserForInternal",mapping:"createByUser"},{name:"createByUserOriginal",mapping:"createByUserOriginal"}],totalProperty:"totalNumberOfRecords"}),proxy:new Ext.data.HttpProxy({url:this.SEARCH_CASE_SUBMIT_URL}),remoteSort:true,baseParams:{caseNumber:"",createdByDateFrom:"",createdByDateTo:"",providerName:"",statusId:"OPEN",isAllSearch:"true"}};Ext.apply(this,b);casetracking.search.view.ux.panel.common.OpenStore.superclass.constructor.call(this,b)}});Ext.reg("casetracking.search.view.ux.panel.common.OpenStore",casetracking.search.view.ux.panel.common.OpenStore);