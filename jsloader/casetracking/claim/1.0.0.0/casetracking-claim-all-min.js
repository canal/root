Ext.namespace("casetracking.claim.ux.panel.lookup.ClaimLookup");casetracking.claim.ux.panel.lookup.ClaimLookup=Ext.extend(Ext.Panel,{initComponent:function(b){var c=this;var a=Ext.id();Ext.apply(this,{layout:"form",bodyBorder:false,border:false,hideBorders:true,labelAlign:"top",items:[{xtype:"panel",border:false,baseCls:"portal-subtitle-bold",style:"padding-top:5px; padding-bottom:5px;",html:"Lookup by Claim #"},{xtype:"textfield",fieldLabel:"Claim #",allowBlank:true,id:"claimNumber",name:"claimNumber",width:200,msgTarget:"under",enableKeyEvents:true,listeners:{keypress:function(f,d){if(d.getCharCode()==96||d.getCharCode()==126||d.getCharCode()==33||d.getCharCode()==64||d.getCharCode()==35||d.getCharCode()==36||d.getCharCode()==37||d.getCharCode()==94||d.getCharCode()==38||d.getCharCode()==42||d.getCharCode()==40||d.getCharCode()==41||d.getCharCode()==61||d.getCharCode()==43||d.getCharCode()==91||d.getCharCode()==93||d.getCharCode()==123||d.getCharCode()==125||d.getCharCode()==92||d.getCharCode()==124||d.getCharCode()==59||d.getCharCode()==58||d.getCharCode()==39||d.getCharCode()==34||d.getCharCode()==60||d.getCharCode()==44||d.getCharCode()==62||d.getCharCode()==63||d.getCharCode()==47){d.stopEvent()}}}},{xtype:"panel",border:false,style:"padding-left:5px; padding-bottom:10px;",html:"<div class'portal-text-tiny'>MultiPlan, Viant, or Your Claim#</div>"},{xtype:"panel",border:false,style:"padding-left:5px; padding-bottom:10px;",items:[{xtype:"imagebutton",iconCls:"findClaimButton",style:"float:left;text-align:left;",handler:c.formSubmitHandler}]},{xtype:"panel",border:false,style:"padding-left:5px; padding-top:10px;",html:"<a id='"+a+"' class='portal-link-tiny' href='#'>Enter a claim manually</a>",listeners:{afterrender:function(){var d=Ext.get(a);d.on("click",function(){c.showAddClaimManualPanel.call()})}}}]});casetracking.claim.ux.panel.lookup.ClaimLookup.superclass.initComponent.call(this)}});Ext.reg("casetracking.claim.ux.panel.lookup.ClaimLookup",casetracking.claim.ux.panel.lookup.ClaimLookup);Ext.namespace("casetracking.claim.ux.panel.lookup.PatientLookup");casetracking.claim.ux.panel.lookup.PatientLookup=Ext.extend(Ext.Panel,{initComponent:function(a){thisObj=this;Ext.apply(this,{layout:"form",bodyBorder:false,border:false,hideBorders:true,labelAlign:"top",items:[{xtype:"panel",border:false,baseCls:"portal-subtitle-bold",style:"padding-top:10px;",html:"Lookup by Patient Name and Date"},{xtype:"panel",border:false,html:"<div>Enter multiple criteria to narrow your results. <a id='claimSearchTips' href='#' class='portal-link portal-text-small'>See Tips</a>.</div>",listeners:{afterrender:function(){var b=Ext.get("claimSearchTips");b.on("click",function(){new casetracking.core.windows.ClaimSearchInformation({})})}}},{xtype:"panel",layout:"form",border:false,labelAlign:"top",items:[{xtype:"panel",border:false,layout:"column",style:"padding-top:5px;",width:325,items:[{xtype:"panel",columnWidth:0.5,layout:"form",border:false,labelAlign:"top",items:[{xtype:"textfield",name:"patientLastName",id:"patientLastName",fieldLabel:"Last Name",allowBlank:true,width:150,msgTarget:"under"}]},{xtype:"panel",columnWidth:0.5,layout:"form",border:false,labelAlign:"top",items:[{xtype:"textfield",name:"patientFirstName",id:"patientFirstName",fieldLabel:"First Name",hideLabel:false,allowBlank:true,width:150,msgTarget:"under"}]}]},{xtype:"panel",border:false,layout:"column",width:325,items:[{xtype:"panel",columnWidth:0.5,layout:"form",border:false,labelAlign:"top",items:[{xtype:"datefield",name:"dateOfServiceFrom",id:"dateOfServiceFrom",fieldLabel:"From",hideLabel:false,allowBlank:true,width:150,msgTarget:"under",maxValue:new Date()}]},{xtype:"panel",columnWidth:0.5,layout:"form",border:false,labelAlign:"top",items:[{xtype:"datefield",name:"dateOfServiceTo",id:"dateOfServiceTo",fieldLabel:"To",hideLabel:false,allowBlank:true,width:150,msgTarget:"under",maxValue:new Date()}]}]},{xtype:"textfield",fieldLabel:"Provider Name",allowBlank:true,id:"providerName",name:"providerName",width:300,msgTarget:"under",maxLength:200},{xtype:"panel",border:false,layout:"column",items:[{columnWidth:0.65,border:false,layout:"form",items:[{xtype:"textfield",fieldLabel:"Provider TIN",allowBlank:true,id:"providerTin",name:"providerTin",width:125,vtype:"tin",autoCreate:{tag:"input",size:"10",minLength:"9",maxLength:"10"},listeners:{blur:function(c){var b=c.getValue();Ext.form.VTypes.tin(b)}}}]},{columnWidth:0.35,border:false,layout:"form",style:"padding-top:15px;padding-right:25px;",items:[{xtype:"imagebutton",iconCls:"findClaimButton",style:"float:right;text-align:right;",handler:thisObj.formSubmitHandler}]}]}]}]});casetracking.claim.ux.panel.lookup.PatientLookup.superclass.initComponent.call(this)}});Ext.reg("casetracking.claim.ux.panel.lookup.PatientLookup",casetracking.claim.ux.panel.lookup.PatientLookup);Ext.namespace("casetracking.claim.ux.panel.manual.AddClaimManually");casetracking.claim.ux.panel.manual.AddClaimManually=Ext.extend(Ext.Panel,{initComponent:function(b){var a=false;if(userClassCode&&userClassCode=="INT"){a=true}Ext.apply(this,{layout:"form",bodyBorder:false,border:false,ctCls:"portal-plain-panel",hideBorders:true,resizable:true,autoScroll:true,labelAlign:"top",items:[{xtype:"panel",layout:"form",border:false,labelAlign:"top",items:[{xtype:"panel",border:false,layout:"column",style:"padding-top:10px;padding-bottom:10px;",width:250,items:[{xtype:"panel",columnWidth:0.5,layout:"form",border:false,labelAlign:"top",items:[{xtype:"datefield",name:"dosFrom",id:"dosFromManual",fieldLabel:"DOS From",hideLabel:false,allowBlank:false,msgTarget:"under",maxValue:new Date()}]},{xtype:"panel",columnWidth:0.5,layout:"form",border:false,labelAlign:"top",items:[{xtype:"datefield",name:"dosTo",id:"dosToManual",fieldLabel:"DOS To",hideLabel:false,allowBlank:false,msgTarget:"under",maxValue:new Date()}]}]},{xtype:"panel",layout:"form",border:false,labelAlign:"top",items:[{xtype:"radiogroup",name:"claimSourceTypeRadioGroup",fieldLabel:"Claim #:",labelSeparator:"",vertical:true,allowBlank:a,msgTarget:"under",columns:1,value:"",items:[{hideLabel:true,boxLabel:"MultiPlan Claim #",name:"claimNumberSource",inputValue:"MPI"},{hideLabel:true,boxLabel:"Alternate Claim #",name:"claimNumberSource",inputValue:"CLIENT"}]},{xtype:"panel",layout:"form",border:false,items:[{xtype:"textfield",hideLabel:true,id:"claimNumberManual",name:"claimNumber",allowBlank:a,width:200,maxLength:40}]}]},{xtype:"textfield",fieldLabel:"Member ID/SSN",hideLabel:false,allowBlank:false,id:"memberIdManual",name:"memberId",maxLength:200,width:200},{xtype:"textfield",fieldLabel:"Patient Last Name",hideLabel:false,allowBlank:false,id:"patientLastNameManual",name:"patientLastName",maxLength:200,width:200},{xtype:"textfield",fieldLabel:"Patient First Name",hideLabel:false,allowBlank:false,id:"patientFirstNameManual",name:"patientFirstName",maxLength:200,width:200},{xtype:"textfield",fieldLabel:"Total Charge",hideLabel:false,allowBlank:false,id:"totalChargeManual",name:"totalCharge",width:200,vtype:"dollar",autoCreate:{tag:"input",size:"14",maxLength:"14"}},{xtype:"textfield",fieldLabel:"Discount Amount",hideLabel:false,allowBlank:true,id:"discountAmountManual",name:"discountAmount",width:200,vtype:"dollar",autoCreate:{tag:"input",size:"14",maxLength:"14"}}]}]});casetracking.claim.ux.panel.manual.AddClaimManually.superclass.initComponent.call(this)}});Ext.reg("casetracking.claim.ux.panel.manual.AddClaimManually",casetracking.claim.ux.panel.manual.AddClaimManually);Ext.namespace("casetracking.claim.ux.panel.search.common.ClaimColumnModel");casetracking.claim.ux.panel.search.common.ClaimColumnModel=Ext.extend(Ext.grid.ColumnModel,{NAMESPACE:undefined,RENDERTO:undefined,CHECKBOXMODEL:undefined,ISCREATE:undefined,constructor:function(b){if(b.isCreate){this.ISCREATE=false}else{this.ISCREATE=true}function a(d){return !d.data.validClaimData}this.CHECKBOXMODEL=(b.CHECKBOXMODEL)?b.CHECKBOXMODEL:new Ext.grid.CheckboxSelectionModel({id:Ext.id(),singleSelect:false,width:37,renderer:function(e,f,d){if(a(d)){return"<div>&#160;</div>"}else{return'<div class="x-grid3-row-checker">&#160;</div>'}},clearSelections:Ext.grid.CheckboxSelectionModel.prototype.clearSelections.createSequence(function(d){var e=this.grid.getEl().select(".x-grid3-hd-checker-on");if(e){e.removeClass("x-grid3-hd-checker-on")}}),selectAll:function(){var e=0;while(typeof(this.grid.getStore().getAt(e))!="undefined"){var d=this.grid.getStore().getAt(e);if(a(d)){this.grid.getSelectionModel().deselectRow(e,true)}else{this.grid.getSelectionModel().selectRow(e,true)}e++}}});Ext.grid.RowSelectionModel.override({handleMouseDown:function(i,k,j){if(j.button!==0||this.isLocked()){return}var d=this.grid.getView();if(j.shiftKey&&!this.singleSelect&&this.last!==false){var h=this.last;this.selectRange(h,k,j.ctrlKey);this.last=h;d.focusRow(k)}else{var f=this.isSelected(k);if(f){this.deselectRow(k)}else{if(!f||this.getCount()>1){this.selectRow(k,j.ctrlKey||j.shiftKey);d.focusRow(k)}}}},selectRow:function(e,h,d){if(this.isLocked()||(e<0||e>=this.grid.store.getCount())||(h&&this.isSelected(e))){return}var f=this.grid.store.getAt(e);if(f&&this.fireEvent("beforerowselect",this,e,h,f)!==false){if(this.singleSelect){this.clearSelections()}this.selections.add(f);this.last=this.lastActive=e;if(!d){this.grid.getView().onRowSelect(e)}this.fireEvent("rowselect",this,e,f);this.fireEvent("selectionchange",this)}if(this.getSelections().length==this.grid.store.getCount()){var g=this.grid.getView().getHeaderCell(0)}},deselectRow:function(e,d){if(this.isLocked()){return}if(this.last==e){this.last=false}if(this.lastActive==e){this.lastActive=false}var g=this.grid.store.getAt(e);if(g){this.selections.remove(g);if(!d){this.grid.getView().onRowDeselect(e)}this.fireEvent("rowdeselect",this,e,g);this.fireEvent("selectionchange",this);var f=this.grid.getEl().select(".x-grid3-hd-checker-on");if(f){f.removeClass("x-grid3-hd-checker-on")}}}});var c={columns:[this.CHECKBOXMODEL,{header:"DOS/<BR>Admit",sortable:true,dataIndex:"fromDateOfService",width:110,renderer:function(d){return casetracking.core.date.convert(d)}},{id:"claimNumber",header:"<BR>Claim #",sortable:true,dataIndex:"claimIdentifierList",width:100,renderer:function(h){var g="";for(var f=0;f<h.length;f++){var e=h[f];var d=e.claimNumberSource;if(d=="MPI"){g=e.claimNumber}}return Ext.util.Format.htmlEncode(g)}},{header:"<BR>Alt Claim #",sortable:true,hidden:this.ISCREATE,dataIndex:"claimIdentifierList",width:100,renderer:function(h){var g="";for(var f=0;f<h.length;f++){var e=h[f];var d=e.claimNumberSource;if(d=="CLIENT"){g=e.claimNumber}}return Ext.util.Format.htmlEncode(g)}},{header:"Member<br>SSN / ID",sortable:true,dataIndex:"memberSSNID",renderer:function(d){return Ext.util.Format.htmlEncode(d)}},{header:"<BR>Patient Name",sortable:true,dataIndex:"patientName",renderer:function(d){return d}},{header:"<BR>Provider Name",sortable:true,dataIndex:"providerName",renderer:function(f){try{return Ext.util.Format.htmlEncode(f)}catch(d){return f}}},{header:"Provider<br>TIN",sortable:true,dataIndex:"providerTIN",renderer:function(d){if(d&&d.length==9){d=d.substr(0,2)+"-"+d.substr(2,9)}return d}},{header:"Total<br>Charges",sortable:true,dataIndex:"pricingList",renderer:function(d){if(d){return Ext.util.Format.usMoney(d[0].totalAmount)}else{return d}}},{header:"Discount<br>Amount",sortable:false,dataIndex:"pricingList",renderer:function(d){if(d&&d[0].discountAmount){return Ext.util.Format.usMoney(d[0].discountAmount)}else{return null}}},{header:"Date<br>Processed",sortable:false,dataIndex:"pricingList",width:110,renderer:function(d){if(!Ext.isEmpty(d[0].processingDate)){return casetracking.core.date.convert(d[0].processingDate)}else{return null}}}],defaults:{sortable:true,menuDisabled:true}};Ext.apply(this,c);casetracking.claim.ux.panel.search.common.ClaimColumnModel.superclass.constructor.call(this,c)}});Ext.reg("casetracking.claim.ux.panel.search.common.ClaimColumnModel",casetracking.claim.ux.panel.search.common.ClaimColumnModel);Ext.namespace("casetracking.claim.ux.panel.search.common.ClaimsGridPanel");casetracking.claim.ux.panel.search.common.ClaimsGridPanel=Ext.extend(Ext.grid.GridPanel,{NAMESPACE:undefined,SEARCH_SUBMIT_URL:undefined,URL:undefined,STORE:undefined,CHECKBOXMODEL:undefined,COLMODEL:undefined,PAGINGBAR:undefined,DISPLAYPAGINGBAR:false,constructor:function(b){function a(e){return !e.data.validClaimData}this.SEARCH_SUBMIT_URL=b.SEARCH_SUBMIT_URL;this.DISPLAYPAGINGBAR=b.DISPLAYPAGINGBAR;this.STORE=(b.STORE)?b.STORE:new casetracking.claim.ux.panel.search.common.ClaimStore({INIT:true,SEARCH_SUBMIT_URL:this.SEARCH_SUBMIT_URL});this.COLMODEL=(b.COLMODEL)?b.COLMODEL:new casetracking.claim.ux.panel.search.common.ClaimColumnModel({isCreate:b.isCreate});this.PAGINGBAR=(b.PAGINGBAR)?b.PAGINGBAR:new Ext.PagingToolbar({pageSize:10,displayInfo:true,emptyMsg:"No Claims",border:false,store:this.STORE,isCreate:b.isCreate});var c="";if(b.claimSearchResultsGridId&&b.claimSearchResultsGridId!=undefined){c=b.claimSearchResultsGridId}else{c=Ext.id()+b.nameSpace}var d={frame:false,border:false,enableColumnMove:false,enableColumnResize:false,sm:this.COLMODEL.CHECKBOXMODEL,selModel:this.COLMODEL.CHECKBOXMODEL,colModel:this.COLMODEL,stripeRows:true,viewConfig:{rowHeight:25,scrollOffset:0,autoFill:true,forceFit:true},id:c,store:this.STORE,listeners:{rowdblclick:function(h,f,i){},rowclick:function(i,h,j){var f=i.getStore().getAt(h);if(a(f)){i.getSelectionModel().deselectRow(h)}}}};if(this.DISPLAYPAGINGBAR){d.bbar=this.PAGINGBAR}if(b.width){d.width=b.width}Ext.apply(this,b,d);casetracking.claim.ux.panel.search.common.ClaimsGridPanel.superclass.constructor.call(this,b)}});Ext.reg("casetracking.claim.ux.panel.search.common.ClaimsGridPanel",casetracking.claim.ux.panel.search.common.ClaimsGridPanel);Ext.namespace("casetracking.claim.ux.panel.search.common.ClaimStore");casetracking.claim.ux.panel.search.common.ClaimStore=Ext.extend(Ext.data.Store,{NAMESPACE:undefined,SEARCH_SUBMIT_URL:undefined,constructor:function(c){var g=Ext.getCmp("claimNumber");var h=Ext.getCmp("patientFirstName");var f=Ext.getCmp("patientLastName");var i=Ext.getCmp("dateOfServiceFrom");var a=Ext.getCmp("dateOfServiceTo");var j=Ext.getCmp("providerName");var b=Ext.getCmp("providerTIN");function e(k){if(c.INIT){return""}else{return(k)?k.getValue().trim():k.getValue()}}var d={reader:new Ext.data.JsonReader({root:"claimSearchResponse.claimList",fields:[{name:"fromDateOfService",mapping:"fromDateOfService"},{name:"toDateOfService",mapping:"toDateOfService"},{name:"claimIdentifierList",mapping:"claimIdentifierList"},{name:"clientIdentifierList",mapping:"clientIdentifierList"},{name:"memberSSNID",mapping:"memberSSNID"},{name:"patientDOB",mapping:"patientDOB"},{name:"providerState",mapping:"providerState"},{name:"patientName",mapping:'lastName+", "+obj.firstName'},{name:"lastName",mapping:"lastName"},{name:"middleName",mapping:"middleName"},{name:"firstName",mapping:"firstName"},{name:"providerName",mapping:"providerName"},{name:"providerTIN",mapping:"providerTIN"},{name:"pricingList",mapping:"pricingList"},{name:"entryMethod",mapping:"entryMethod"},{name:"validClaimData",mapping:"validClaimData"},{name:"pracNpi",mapping:"pracNpi"},{name:"facNpi",mapping:"facNpi"},{name:"providerType",mapping:"providerType"},{name:"npi",mapping:"npi"}],totalProperty:"claimSearchResponse.totalMatchingRecords"}),totalProperty:"claimSearchResponse.totalMatchingRecords",remoteSort:true,baseParams:{claimNumber:e(g),patientFirstName:e(h),patientLastName:e(f),dateOfServiceFrom:e(i),dateOfServiceTo:e(a),providerName:e(j),providerTIN:e(b)}};if(c.SEARCH_SUBMIT_URL){d.proxy=new Ext.data.HttpProxy({url:c.SEARCH_SUBMIT_URL})}Ext.apply(this,d);casetracking.claim.ux.panel.search.common.ClaimStore.superclass.constructor.call(this,d)}});Ext.reg("casetracking.claim.ux.panel.search.common.ClaimStore",casetracking.claim.ux.panel.search.common.ClaimStore);Ext.namespace("casetracking.claim.ux.panel.search.results.ClaimsAdded");casetracking.claim.ux.panel.search.results.ClaimsAdded=Ext.extend(Ext.Panel,{initComponent:function(b){var c=this;var a=Ext.id();c.searchButtonId=a;Ext.apply(this,{bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"idxmStatusBox",status:"success",statusText:"Claim(s) Added"},{xtype:"panel",border:false,cls:"portal-titles",html:'<BR><div class=tableContent>You can either continue adding claims or click "DONE" below.</div><BR>',autoHeight:true,autoScroll:true},{xtype:"imagebutton",id:a,iconCls:"back-to-results-icon",style:"padding-left:25px;padding-top:25px;",handler:function(){c.windowObj.hideAllResultsPanel();c.windowObj.multiplanClaimPanel.show()}}]}]});casetracking.claim.ux.panel.search.results.ClaimsAdded.superclass.initComponent.call(this)}});Ext.reg("casetracking.claim.ux.panel.search.results.ClaimsAdded",casetracking.claim.ux.panel.search.results.ClaimsAdded);Ext.namespace("casetracking.claim.ux.panel.search.results.MultipleClaimDisplay");casetracking.claim.ux.panel.search.results.MultipleClaimDisplay=Ext.extend(Ext.grid.GridPanel,{NAMESPACE:undefined,SEARCH_SUBMIT_URL:undefined,URL:undefined,STORE:undefined,CHECKBOXMODEL:undefined,COLMODEL:undefined,GRIDPANEL:undefined,constructor:function(a){this.SEARCH_SUBMIT_URL=a.searchSubmitURL;this.STORE=new Ext.data.Store({reader:new Ext.data.JsonReader({root:"claimList",fields:[{name:"fromDateOfService",mapping:"fromDateOfService"},{name:"toDateOfService",mapping:"toDateOfService"},{name:"claimNumber",mapping:"claimIdentifierList[0].claimNumber"},{name:"claimNumberSource",mapping:"claimIdentifierList[0].claimNumberSource"},{name:"memberSSNID",mapping:"memberSSNID"},{name:"patientName",mapping:"lastName"},{name:"middleName",mapping:"middleName"},{name:"firstName",mapping:"firstName"},{name:"providerName",mapping:"providerName"},{name:"providerTin",mapping:"providerTIN"},{name:"totalAmount",mapping:"pricingList[0].totalAmount"},{name:"discountAmount",mapping:"pricingList[0].discountAmount"},{name:"processingDate",mapping:"pricingList[0].processingDate"}]}),data:{claimList:[]}});this.CHECKBOXMODEL=new Ext.grid.CheckboxSelectionModel({id:Ext.id(),header:"",singleSelect:false,width:37,sortable:false});this.COLMODEL=new Ext.grid.ColumnModel({columns:[this.CHECKBOXMODEL,{header:"Date of<br>Service",sortable:false,dataIndex:"fromDateOfService",renderer:function(d){var c=new Date(d.time.time);c=c.format("m/d/Y");return c}},{id:"claimNumber",header:"Claim #",sortable:true,dataIndex:"claimNumber"},{header:"Member<br>SSN / ID",sortable:false,dataIndex:"memberSSNID",renderer:function(c){return c}},{header:"Patient Name",sortable:false,dataIndex:"patientName",renderer:function(c){return c}},{header:"Provider Name",sortable:false,dataIndex:"providerName",renderer:function(c){return c}},{header:"Provider<br>Tin",sortable:false,dataIndex:"providerTin",renderer:function(c){return c}},{header:"Total<br>Amount",sortable:false,dataIndex:"totalAmount",renderer:function(c){return c}},{header:"Disc<br>Amt",sortable:false,dataIndex:"discountAmount",renderer:function(c){return c}},{header:"Processing<br>Date",sortable:false,dataIndex:"processingDate",renderer:function(d){var c=new Date(d.time.time);c=c.format("m/d/Y");return c}}],defaults:{sortable:true,menuDisabled:true}});var b={cls:"idxm-grid",frame:false,border:false,enableColumnMove:false,enableColumnResize:false,height:100,selMode:this.CHECKBOXMODEL,colModel:this.COLMODEL,stripeRows:true,viewConfig:{rowHeight:25,scrollOffset:0,autoFill:true,forceFit:true},store:this.STORE,listeners:{rowdblclick:function(d,c,f){}}};Ext.apply(this,a,b);casetracking.claim.ux.panel.search.results.MultipleClaimDisplay.superclass.constructor.call(this,a)}});Ext.reg("casetracking.claim.ux.panel.search.results.MultipleClaimDisplay",casetracking.claim.ux.panel.search.results.MultipleClaimDisplay);Ext.namespace("casetracking.claim.ux.panel.search.results.MultipleClaimResults");casetracking.claim.ux.panel.search.results.MultipleClaimResults=Ext.extend(Ext.Panel,{NAMESPACE:undefined,SEARCH_SUBMIT_URL:undefined,URL:undefined,STORE:undefined,CHECKBOXMODEL:undefined,COLMODEL:undefined,GRIDPANEL:undefined,constructor:function(a){var b=this;this.SEARCH_SUBMIT_URL=a.searchSubmitURL;this.GRIDPANEL=new casetracking.claim.ux.panel.search.common.ClaimsGridPanel({SEARCH_SUBMIT_URL:this.SEARCH_SUBMIT_URL,height:160,width:a.winW-50,DISPLAYPAGINGBAR:true,claimSearchResultsGridId:a.claimSearchResultsGridId,isCreate:false});Ext.apply(this,{border:false,buttonAlign:"right",items:[{border:false,style:"padding-bottom:5px;",html:'Click "ADD CLAIMS" to associate selected claims with your service case. You may add up to 20 claims to each case.'},this.GRIDPANEL,{height:10,border:false},{xtype:"panel",layout:"column",border:false,items:[{columnWidth:0.5,border:false,style:"padding-top:10px;",html:"<div class=tableContent>Not what you're looking for? Look up again or <a id='"+a.enterClaimManuallyLinkId+"' href='#' class='portal-link portal-text-small'>enter a claim manually.</a></div>"},{columnWidth:0.485,border:false,items:[{id:"addClaimsButton",xtype:"imagebutton",iconCls:"addClaimsButton",style:"float:right;text-align:right;padding-top:10px;padding-right:25px;",handler:function(){var g=b.GRIDPANEL;var h=g.getSelectionModel();var d=h.getSelections();if(d&&d.length){for(var f=0;f<d.length;f++){var e=d[f].data;e.entryMethod="LOOKUP";a.windowObj.addClaim.call(b,e)}a.windowObj.hideAllResultsPanel();a.windowObj.claimAdded.show();var c=Ext.getCmp(a.windowObj.claimAdded.searchButtonId);c.show()}}}]},{border:false,columnWidth:0.015}]}]});casetracking.claim.ux.panel.search.results.MultipleClaimResults.superclass.constructor.call(this,a)}});Ext.reg("casetracking.claim.ux.panel.search.results.MultipleClaimResults",casetracking.claim.ux.panel.search.results.MultipleClaimResults);Ext.namespace("casetracking.claim.ux.panel.search.results.NoResults");casetracking.claim.ux.panel.search.results.NoResults=Ext.extend(Ext.Panel,{initComponent:function(a){Ext.apply(this,{bodyBorder:false,border:false,hideBorders:true,items:[{autoHeight:true,items:[{xtype:"idxmStatusBox",status:"warning",statusText:"No Matches found"},{xtype:"panel",border:false,cls:"portal-titles",style:"padding-left:10px;",html:"<BR><div class=tableContent>No matches found.  You can try your search again or <a id='"+this.enterClaimManuallyLinkId+"' href='#' class='portal-link portal-text-small'>enter a claim manually</a>.</div>",autoHeight:true,autoScroll:true}]}]});casetracking.claim.ux.panel.search.results.NoResults.superclass.initComponent.call(this)}});Ext.reg("casetracking.claim.ux.panel.search.results.NoResults",casetracking.claim.ux.panel.search.results.NoResults);Ext.namespace("casetracking.claim.ux.panel.search.results.OneClaimResults");casetracking.claim.ux.panel.search.results.OneClaimResults=Ext.extend(Ext.Panel,{windowObj:undefined,claimData:{},oneClaimPanel:undefined,hideThisObjPanel:function(){this.hide()},addOneClaim:function(c){var b=c.claimData;delete b.enterClaimManuallyCallBack;b.entryMethod="LOOKUP";c.windowObj.addClaim.call(c,b);c.windowObj.hideAllResultsPanel();c.windowObj.claimAdded.show();var a=Ext.getCmp(c.windowObj.claimAdded.searchButtonId);a.hide()},OneClaimResultsTemplate:function(x){var y=this;var n=new Ext.XTemplate("<div class=table>","<div>","<div class=tableLeft><div class=tableLabel>Date Of Service/Admit:</div></div>","<div class=tableRight><div class=tableData>{dosFrom}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div>","<div class=tableLeft><div class=tableLabel>MultiPlan Claim#:</div></div>","<div class=tableRight><div class=tableData>{mpiClaimNumber}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div>","<div class=tableLeft><div class=tableLabel>Alternate Claim #:</div></div>","<div class=tableRight><div class=tableData>{alternateClaimNumber}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div>","<div class=tableLeft><div class=tableLabel>Member SSN/ID:</div></div>","<div class=tableRight><div class=tableData>{memberId}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div>","<div class=tableLeft><div class=tableLabel>Patient Last Name:</div></div>","<div class=tableRight><div class=tableData>{patientLastName}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div>","<div class=tableLeft><div class=tableLabel>Patient First Name:</div></div>","<div class=tableRight><div class=tableData>{patientFirstName}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div>","<div class=tableLeft><div class=tableLabel>Provider Name:</div></div>","<div class=tableRight><div class=tableData>{providerName}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div>","<div class=tableLeft><div class=tableLabel>Provider TIN:</div></div>","<div class=tableRight><div class=tableData>{providerTin}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div>","<div class=tableLeft><div class=tableLabel>Total Charges:</div></div>","<div class=tableRight><div class=tableData>{totalAmount}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div>","<div class=tableLeft><div class=tableLabel>Discount Amount:</div></div>","<div class=tableRight><div class=tableData>{discountAmount}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div>","<div class=tableLeft><div class=tableLabel>Date Processed:</div></div>","<div class=tableRight><div class=tableData>{processingDate}</div></div>","<div class=spacer></div> <!-- note no content -->","</div>","<div class=tableContent>","<BR>Not what you're looking for?<BR>",'Look up again or <a id="{[this.getLinkId(values.enterClaimManualLinkId,values.enterClaimManuallyCallBack)]}" class="portal-link portal-text-small" href="#">enter a claim manually.</a>',"</div>","</div>",{getLinkId:function(t,i){var z=Ext.id();this.enterClaimManualCalls.defer(1,this,[z,i]);return z},enterClaimManualCalls:function(t,i){Ext.get(t).on("click",function(z){z.stopEvent();i.call()})}});var w="";var r="";var o="";var m="";if(x.pricingList[0]){w=x.pricingList[0];r=Ext.util.Format.usMoney(w.totalAmount);o=Ext.util.Format.usMoney(w.discountAmount);m=casetracking.core.date.convert(w.processingDate)}var d="N/A";var g="N/A";if(x.claimIdentifierList&&x.claimIdentifierList.length){for(var u=0;u<x.claimIdentifierList.length;u++){var h=x.claimIdentifierList[u];var p=h.claimNumberSource;if(p=="MPI"){d=h.claimNumber}else{if(p="CLIENT"){g=h.claimNumber}}}}var q=casetracking.core.date.convert(x.fromDateOfService);var c=casetracking.core.date.convert(x.toDateOfService);var b=x.memberSSNID;var s=x.lastName;var v=x.firstName;var j=x.middleName;var f=x.providerName;var a=x.providerTIN;if(a&&a.length==9){a=a.substr(0,2)+"-"+a.substr(2,9)}var e=x.ccode;var l=x.ccodeSource;var k=n.apply({dosFrom:q,dosTo:c,mpiClaimNumber:d,alternateClaimNumber:g,memberId:b,patientLastName:s,patientFirstName:v,patientMiddleName:j,providerName:f,providerTin:a,totalAmount:r,discountAmount:o,processingDate:m,ccode:e,ccodeSource:l,enterClaimManuallyCallBack:x.enterClaimManuallyCallBack});return k},initComponent:function(a){var b=this;this.OneClaimPanel=new Ext.Panel({xtype:"panel",border:false,cls:"portal-titles",autoHeight:true,autoScroll:true});Ext.apply(this,{layout:"form",border:false,items:[{border:false,height:220,items:[{border:false,style:"padding-bottom:5px;",html:'Click "ADD CLAIM" to associate this claim to your service case.<BR>'},{border:false,height:170,style:"padding-top:5px;padding-bottom:5px;",autoScroll:true,items:[this.OneClaimPanel]},{xtype:"imagebutton",id:"addClaimButton",iconCls:"addClaimButton",style:"float:right;text-align:right;",handler:function(){b.addOneClaim(b)}}]}]});casetracking.claim.ux.panel.search.results.OneClaimResults.superclass.initComponent.call(this)},populateOneClaim:function(a){a.enterClaimManuallyCallBack=this.enterClaimManuallyCallBack;this.claimData=a;this.OneClaimPanel.el.update(this.OneClaimResultsTemplate(a));if(!a.validClaimData){Ext.getCmp("addClaimButton").hide()}else{Ext.getCmp("addClaimButton").show()}}});Ext.reg("casetracking.claim.ux.panel.search.results.OneClaimResults",casetracking.claim.ux.panel.search.results.OneClaimResults);Ext.namespace("casetracking.claim.windows.AddClaims");casetracking.claim.windows.AddClaims=function(e){var i="";if(e.claimSearchWindowId&&e.claimSearchWindowId!=undefined){i=e.claimSearchWindowId}else{i=Ext.id()+e.nameSpace}var d=this;this.claimObj=function c(){var r={};r.ccode="";r.ccodeSource="";r.entryMethod="";r.claimIdentifierList=[{claimNumber:"",claimNumberSource:""}];r.pricingList=[{discountAmount:"",totalAmount:"",processingDate:""}];r.fromDateOfService="";r.toDateOfService="";r.firstName="";r.middleName="";r.lastName="";r.memberSSNID="";r.providerTIN="";r.providerName="";r.providerType="";r.facTin="";r.facGroupName="";r.facContactName="";r.facContactPhone="";r.facContactPhoneExt="";r.facNpi="";r.pracTin="";r.pracFirstName="";r.pracLastName="";r.pracContactName="";r.pracContactPhone="";r.pracContactPhoneExt="";r.pracNpi="";r.npi="";r.patientDOB=null;r.providerState=null;r.clientIdentifierList=null;return r};this.claimArray=[];this.addClaim=function(r){d.claimArray[d.claimArray.length]=r;d.calculateClaimsAdded.call(d,{operation:"add",quantity:1})};this.claimsAdded=0;this.claimsAddedText=function(){return"<b>"+this.claimsAdded+"</b> Claims Added"};this.claimsAddedPanel=new Ext.Panel({border:false,baseCls:"claimsAddedCount",width:175,html:this.claimsAddedText()});this.calculateClaimsAdded=function(s){var r=s.operation;var v=s.quantity;function u(w){if(w&&(w>0)){return this.claimsAdded+=w}else{return this.claimsAdded++}}function t(w){if(w<0){return this.claimsAdded-=w}else{return this.claimsAdded--}}if(r=="add"){u.call(this,v)}else{if(r=="remove"){t(this,v)}}this.claimsAddedPanel.body.update(this.claimsAddedText());this.claimsAddedPanel.body.setOpacity(0);this.claimsAddedPanel.body.fadeIn()};this.mapManualFieldsToClaimFields=function(y){var r=d.claimObj();var A=y;function u(D){if(D&&D.getValue()){return D.getValue()}return}function B(G){var E={};var F=G;var D;if(F){D=F.getValue();if(Ext.isDate(D)){D=new Date(D);E.year=D.getFullYear();E.month=D.getMonth();E.dayOfMonth=D.getDate();E.hourOfDay=0;E.minute=0;E.second=0}}return E}var t=A.getFieldValues();r.entryMethod="MANUAL";r.claimIdentifierList[0].claimNumber=u(A.findField("claimNumber"));r.claimIdentifierList[0].claimNumberSource=(t.claimSourceTypeRadioGroup?t.claimSourceTypeRadioGroup.inputValue:"");r.fromDateOfService=B(A.findField("dosFromManual"));r.toDateOfService=B(A.findField("dosToManual"));r.memberSSNID=u(A.findField("memberId"));r.lastName=u(A.findField("patientLastName"));r.firstName=u(A.findField("patientFirstName"));var s=/[^1234567890.]/g;var w=u(A.findField("totalCharge"));r.pricingList[0].totalAmount=h(s,w);r.pricingList[0].processingDate=null;var z=u(A.findField("discountAmount"));r.pricingList[0].discountAmount=h(s,z);if(t.providerTypeRadioGroup.inputValue=="FAC"){var C=u(A.findField("facTin"));if(C==undefined){C="99-9999999"}else{if(C&&C.length==0){C=C.trim()}}r.facTin=C}else{if(t.providerTypeRadioGroup.inputValue=="PRAC"){var v=u(A.findField("pracTin"));if(v==undefined){v="99-9999999"}else{if(v&&v.length==0){v=v.trim()}}r.pracTin=v}}r.facGroupName=u(A.findField("facGroupName"));r.facContactName=u(A.findField("facContactName"));r.facContactPhone=u(A.findField("facContactPhone"));r.facContactPhoneExt=u(A.findField("facContactPhoneExt"));r.facNpi=u(A.findField("facNpi"));r.pracFirstName=u(A.findField("pracFirstName"));r.pracLastName=u(A.findField("pracLastName"));r.pracContactName=u(A.findField("pracContactName"));r.pracContactPhone=u(A.findField("pracContactPhone"));r.pracContactPhoneExt=u(A.findField("pracContactPhoneExt"));r.pracNpi=u(A.findField("pracNpi"));var x=t.providerTypeRadioGroup.inputValue;if(x=="PRAC"){r.providerType="P";r.providerName=r.pracLastName+", "+r.pracFirstName;r.providerTIN=r.pracTin;r.npi=r.pracNpi}else{if(x=="FAC"){r.providerType="G";r.providerName=r.facGroupName;r.providerTIN=r.facTin;r.npi=r.facNpi}}r.validClaimData=true;d.addClaim(r)};function h(r,v){var u=v;if(v&&v.length>0){var t=v.match(r);if(u&&u.length>0&&t&&t.length>0){for(var s=0;s<t.length;s++){u=n(u,t[s],"")}}}return u}function n(u,t,s){var r=u;while(r.indexOf(t)!=-1){r=r.replace(t,s)}if(!r){r=""}return r}function j(){var r=Ext.getCmp("casetracking.claim.ux.panel.lookup.ClaimLookupForm"+e.nameSpace);var s=r.getForm();var u=true;if(s){var v=s.findField("claimNumber");if(v){var t=v.getValue();if(t&&t.indexOf("*")!=-1&&n(t,"*","").trim().length<2){u=false;v.markInvalid("Minimum length is 2 (not including *)")}}}if(u&&s.isValid()&&(s.isDirty())){g_hideStatusBox();Ext.get(i).mask("<b> Searching...</b>","x-mask-loading");s.submit({url:e.urlSubmitClaimSearch,params:{start:0,limit:10},clientValidation:true,isRedirect:false,success:function(w,x){Ext.get(i).unmask();Ext.getCmp("claimSearchType").setValue("CLM");a(x)},failure:function(w,x){d.hideAllResultsPanel();d.claimSearchErrorPanel.show();g_hideStatusBox();Ext.get(i).unmask()}})}else{g_hideStatusBox()}}function l(){var t=Ext.getCmp("casetracking.claim.ux.panel.lookup.PatientLookupForm"+e.nameSpace);var y=t.getForm();var s=true;var r=t.find("name","dateOfServiceFrom");var A=t.find("name","dateOfServiceTo");var D=r[0].getValue();var v=A[0].getValue();if(!Ext.isEmpty(D)&&!Ext.isEmpty(v)&&(Ext.isDate(D))&&(Ext.isDate(v))&&(D>v)){r[0].markInvalid("Must be less or equal than To date");s=false}var E=y.findField("patientLastName");if(E){var x=E.getValue();if(x&&x.indexOf("*")!=-1&&n(x,"*","").trim().length<2){s=false;E.markInvalid("Minimum length is 2 (not including *)")}}var B=y.findField("patientFirstName");if(B){var z=B.getValue();if(z&&z.indexOf("*")!=-1&&n(z,"*","").trim().length<2){s=false;B.markInvalid("Minimum length is 2 (not including *)")}}var C=y.findField("providerName");if(C){var w=C.getValue();if(w&&w.indexOf("*")!=-1&&n(w,"*","").trim().length<2){s=false;C.markInvalid("Minimum length is 2 (not including *)")}}var u=Ext.getCmp("providerTin");var F="";if(u!=null){F=u.getValue();if(F.length>0){F=n(F,"-","")}}if(s&&y.isValid()&&(y.isDirty())){g_hideStatusBox();Ext.get(i).mask("<b> Searching...</b>","x-mask-loading");y.submit({url:e.urlSubmitClaimSearch,params:{start:0,limit:10,providerTIN:F},clientValidation:true,isRedirect:false,success:function(G,H){Ext.get(i).unmask();Ext.getCmp("claimSearchType").setValue("PROV");a(H)},failure:function(G,H){d.hideAllResultsPanel();d.claimSearchErrorPanel.show();g_hideStatusBox();Ext.get(i).unmask();b()}})}else{g_hideStatusBox()}}function b(){var z=Ext.getCmp("claimNumber");var B=Ext.getCmp("patientFirstName");var y=Ext.getCmp("patientLastName");var E=Ext.getCmp("dateOfServiceFrom");var r=Ext.getCmp("dateOfServiceTo");var F=Ext.getCmp("providerName");var s=Ext.getCmp("providerTin");var v=(z&&z.getValue())?z.getValue().trim():"";var u=(B&&B.getValue())?B.getValue().trim():"";var t=(y&&y.getValue())?y.getValue().trim():"";var A=(E&&E.getRawValue())?E.getRawValue().trim():"";var C=(r&&r.getRawValue())?r.getRawValue().trim():"";var x=(F&&F.getValue())?F.getValue().trim():"";var D=(s&&s.getValue())?s.getValue().trim():"";if(D!=null&&D.length>0){D=n(D,"-","")}var w=d.multipleClaimGridPanel;w.STORE.setBaseParam("claimNumber",q()?v:"");w.STORE.setBaseParam("patientFirstName",q()?"":u);w.STORE.setBaseParam("patientLastName",q()?"":t);w.STORE.setBaseParam("dateOfServiceFrom",q()?"":A);w.STORE.setBaseParam("dateOfServiceTo",q()?"":C);w.STORE.setBaseParam("providerName",q()?"":x);w.STORE.setBaseParam("providerTIN",q()?"":D);w.STORE.setBaseParam("start",0);w.STORE.setBaseParam("limit",10);return w}function a(u){var r=uRadixUtilities.jsonDecode(u.response.responseText);var t=r.claimSearchResponse;if(t.totalMatchingRecords==0){d.hideAllResultsPanel();d.noSearchResults.show();b()}else{if(t.totalMatchingRecords==1){d.hideAllResultsPanel();d.oneSearchResultPanel.show();d.oneSearchResultPanel.populateOneClaim(t.claimList[0])}else{if(t.totalMatchingRecords>1){d.hideAllResultsPanel();d.multiplanClaimPanel.show();var s=b();s.STORE.loadData({claimSearchResponse:t});s.getView().updateHeaders()}else{d.hideAllResultsPanel();d.claimSearchErrorPanel.show()}}}}function q(){var r=Ext.getCmp("claimSearchType").setValue();if(r!=null&&r!=undefined&&r.getValue().trim()=="CLM"){return true}else{return false}}var p=Ext.id();var f=Ext.id();var m=Ext.id();this.showAddClaimManualPanel=function(){var r=new casetracking.claim.windows.AddClaimsManually({namespace:e.nameSpace,urlSubmitManualClaim:e.urlSubmitManualClaim,parentWindow:d,claimSearchAddManulWindowId:claimSearchAddManulWindowId});r.show()};var o=550;if(document.body&&document.body.offsetWidth){o=document.body.offsetWidth}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){o=document.documentElement.offsetWidth}if(window.innerWidth){o=window.innerWidth}o=o-200;var g=650;if(document.body&&document.body.offsetHeight){g=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetHeight){g=document.documentElement.offsetHeight}if(window.innerHeight){g=window.innerHeight}var k=new Ext.Window({id:e.claimSearchWindowId,width:o,height:g,modal:true,resizable:true,layout:"fit",closable:false,plain:true,listeners:{},items:[{xtype:"panel",border:false,autoScroll:true,style:"padding:2px;",items:[{xtype:"panel",border:false,html:"Find Claims",cls:"portal-title"},{xtype:"panel",border:false,id:"casetracking.claim.ux.panel.lookups"+e.nameSpace,items:[{xtype:"panel",border:false,layout:"column",items:[{border:false,columnWidth:0.6,bodyBorder:false,hideBorders:true,style:"padding-top:5px;",html:'Search by either a claim number or claim information. Click "Done" when you are finished adding up to 20 claims.'},{border:false,columnWidth:0.385,bodyBorder:false,hideBorders:true,items:[this.claimsAddedPanel]},{border:false,columnWidth:0.015}]},{xtype:"panel",border:false,layout:"column",items:[{border:false,columnWidth:0.25,height:227,autoScroll:false,items:[{xtype:"uRadix.form.FormPanel",border:false,id:"casetracking.claim.ux.panel.lookup.ClaimLookupForm"+e.nameSpace,items:[{xtype:"casetracking.claim.ux.panel.lookup.ClaimLookup",id:"casetracking.claim.ux.panel.lookup.ClaimLookup"+e.nameSpace,formSubmitHandler:j,showAddClaimManualPanel:d.showAddClaimManualPanel,replaceAll:d.replaceAll}]}]},{border:false,columnWidth:0.25,height:227,baseCls:"claimSearchSeparator",html:"<div style='text-align:center;' class='portal-text-large-xx-bold'>OR</div>"},{border:false,columnWidth:0.5,height:227,autoScroll:false,items:[{xtype:"uRadix.form.FormPanel",border:false,id:"casetracking.claim.ux.panel.lookup.PatientLookupForm"+e.nameSpace,items:[{xtype:"casetracking.claim.ux.panel.lookup.PatientLookup",id:"casetracking.claim.ux.panel.lookup.PatientLookup"+e.nameSpace,formSubmitHandler:l}]}]},{xtype:"hidden",id:"claimSearchType",name:"claimSearchType",value:""},{xtype:"hidden",id:"invalidForm",name:"invalidForm",value:""}]}]},{baseCls:"claimResultsSeparator"},{xtype:"panel",border:false,style:"padding-top:2px",items:[{xtype:"casetracking.claim.ux.panel.search.results.OneClaimResults",id:"casetracking.claim.ux.panel.search.results.OneClaimResults"+e.nameSpace,windowObj:d,enterClaimManuallyCallBack:d.showAddClaimManualPanel,calculateClaimAddedCallBack:this.calculateClaimsAdded},{xtype:"casetracking.claim.ux.panel.search.results.NoResults",id:"casetracking.claim.ux.panel.search.results.NoResults"+e.nameSpace,enterClaimManuallyLinkId:p},{xtype:"casetracking.claim.ux.panel.search.results.ClaimsAdded",id:"casetracking.claim.ux.panel.search.results.ClaimsAdded"+e.nameSpace,windowObj:d},{xtype:"casetracking.claim.ux.panel.search.results.MultipleClaimResults",id:"casetracking.claim.ux.panel.search.results.MultipleClaimResults"+e.nameSpace,windowObj:d,calculateClaimAddedCallBack:this.calculateClaimsAdded,searchSubmitURL:e.urlSubmitClaimSearch,enterClaimManuallyLinkId:f,winW:o,claimSearchResultsGridId:e.claimSearchResultsGridId},{xtype:"panel",border:false,id:m,items:[{xtype:"idxmStatusBox",status:"error",statusText:"Error(s) Encountered",style:"padding-top:5px;"},{xtype:"panel",style:"padding-top:5px;",border:false,bodyBroder:false,html:"<BR><div class='portal-text-small'><b>Sorry!!!</b> An internal error ocurred when searching for a claim.</div>"}]}]}]}],buttons:[{width:114,height:28,text:"DONE",handler:function(){e.parentWindowCallBack.call(e.parentWindow,d.claimArray);k.close()}}]});k.show();this.formPanel=Ext.getCmp("casetracking.claim.ux.panel.lookups"+e.nameSpace);this.oneSearchResultPanel=Ext.getCmp("casetracking.claim.ux.panel.search.results.OneClaimResults"+e.nameSpace);this.noSearchResults=Ext.getCmp("casetracking.claim.ux.panel.search.results.NoResults"+e.nameSpace);this.claimAdded=Ext.getCmp("casetracking.claim.ux.panel.search.results.ClaimsAdded"+e.nameSpace);this.multiplanClaimPanel=Ext.getCmp("casetracking.claim.ux.panel.search.results.MultipleClaimResults"+e.nameSpace);this.multipleClaimGridPanel=this.multiplanClaimPanel.GRIDPANEL;this.claimSearchErrorPanel=Ext.getCmp(m);Ext.get(p).on("click",function(r){d.showAddClaimManualPanel()},this);Ext.get(f).on("click",function(r){d.showAddClaimManualPanel()},this);this.hideAllResultsPanel=function(){d.oneSearchResultPanel.hide();d.noSearchResults.hide();d.claimAdded.hide();d.multiplanClaimPanel.hide();d.claimSearchErrorPanel.hide()};this.hideAllResultsPanel();return this};Ext.namespace("casetracking.claim.windows.AddClaimsManually");casetracking.claim.windows.AddClaimsManually=function(d){var b=Ext.id();var c=Ext.id();var a=Ext.id();var f=Ext.id();function i(){var j=Ext.getCmp("AddClaimManualProviderInfoPanel"+d.nameSpace);var k=j.getForm();var l=true;var p=j.find("name","dosFrom");var o=j.find("name","dosTo");var n=p[0].getValue();var m=o[0].getValue();if(!Ext.isEmpty(n)&&!Ext.isEmpty(m)&&(Ext.isDate(n))&&(Ext.isDate(m))&&(n>m)){p[0].markInvalid("Must be less or equal than To date");l=false}if(l&&k.isValid()){g_hideStatusBox();Ext.get(g.el.id).mask("<b> Adding Claim...</b>","x-mask-loading");k.submit({url:d.urlSubmitManualClaim,clientValidation:true,isRedirect:false,success:function(t,u){Ext.get(g.el.id).unmask();var q=uRadixUtilities.jsonDecode(u.response.responseText);var r=d.parentWindow.mapManualFieldsToClaimFields(k);k.reset();j.hide();var s=Ext.getCmp(a);s.show()},failure:function(q,r){g_hideStatusBox();Ext.get(g.el.id).unmask();g.el.dom.scrollIntoView()}})}else{g.el.dom.scrollIntoView()}}var h=550;if(document.body&&document.body.offsetWidth){h=document.body.offsetWidth}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){h=document.documentElement.offsetWidth}if(window.innerWidth){h=window.innerWidth}h=h-250;var e=650;if(document.body&&document.body.offsetHeight){e=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetHeight){e=document.documentElement.offsetHeight}if(window.innerHeight){e=window.innerHeight}var g=new Ext.Window({id:d.claimSearchAddManulWindowId,width:h,height:e,modal:true,layout:"fit",resizable:true,autoScroll:true,plain:true,closable:false,items:[{xtype:"panel",border:false,style:"padding:5px;",resizable:true,autoScroll:true,items:[{xtype:"panel",id:c,border:false,html:"Enter Claim",cls:"portal-title"},{xtype:"panel",border:false,bodyBroder:false,id:a,hidden:true,resizable:true,autoScroll:true,items:[{xtype:"idxmStatusBox",status:"success",statusText:"Claim Added",style:"padding-top:5px;"},{xtype:"panel",style:"padding-top:5px; text-align:center;",border:false,bodyBroder:false,resizable:true,autoScroll:true,html:"<BR><BR><a id='"+f+"' class='portal-link-medium' href='#'>Enter Another Claim</a>",listeners:{afterrender:function(){var j=Ext.get(f);j.on("click",function(){var k=Ext.getCmp(a);k.hide();var m=Ext.getCmp("AddClaimManualProviderInfoPanel"+d.nameSpace);var l=m.getForm();l.reset();m.show();var n=Ext.getCmp("casetracking.create.ux.panel.provider.ProviderInfo"+d.nameSpace);n.practitionerPanel.hide();n.facilityPanel.hide()})}}}]},{xtype:"uRadix.form.FormPanel",border:false,layout:"form",id:"AddClaimManualProviderInfoPanel"+d.nameSpace,listeners:{afterrender:function(){var j=Ext.getCmp("casetracking.create.ux.panel.provider.ProviderInfo"+d.nameSpace);j.practitionerPanel.hide();j.facilityPanel.hide()}},items:[{id:b,border:false},{xtype:"panel",border:false,layout:"column",resizable:true,autoScroll:true,height:435,items:[{border:false,columnWidth:0.5,items:[{xtype:"casetracking.claim.ux.panel.manual.AddClaimManually",id:"casetracking.claim.ux.panel.manual.AddClaimManually"+d.nameSpace,autoScroll:true}]},{border:false,columnWidth:0.5,items:[{xtype:"casetracking.create.ux.panel.provider.ProviderInfo",id:"casetracking.create.ux.panel.provider.ProviderInfo"+d.nameSpace,prefix:"manual"+d.nameSpace,hideTitlePanel:true}]}]},{xtype:"imagebutton",cls:"addClaimButton",style:"float:right;text-align:right;",handler:i}]}]}],buttons:[{text:"DONE",handler:function(){var j=Ext.getCmp("AddClaimManualProviderInfoPanel"+d.nameSpace);var k=j.getForm();if(k.isDirty()){idxm.core.popups.Cancel({noCancelFunction:function(){},doCancelFunction:function(){g.close()}})}else{g.close()}}}]});return g};